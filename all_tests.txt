============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-9.0.1, pluggy-1.6.0
rootdir: /mnt/MCPProyects/ragTools
configfile: pytest.ini (WARNING: ignoring pytest config in pyproject.toml!)
testpaths: tests
plugins: anyio-4.12.0, cov-7.0.0, asyncio-1.3.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 1796 items

<Dir ragTools>
  <Package tests>
    <Package benchmarks>
      <Module test_contextual_performance.py>
        <Coroutine test_batch_processing_throughput>
        <Coroutine test_parallel_vs_sequential_performance>
        <Coroutine test_large_document_processing_time>
        <Coroutine test_batch_size_impact>
        <Function test_cost_tracker_performance>
        <Coroutine test_context_generation_latency>
      <Module test_late_chunking_performance.py>
        <Function test_document_embedding_speed>
        <Function test_embedding_chunking_speed>
        <Function test_semantic_boundary_speed>
        <Function test_end_to_end_latency>
        <Function test_coherence_analysis_overhead>
        <Function test_batch_processing_speed>
        <Function test_adaptive_chunking_speed>
        <Function test_memory_efficiency>
      <Module test_model_comparison_performance.py>
        <Function test_model_loading_speed>
        <Function test_model_loading_cached>
        <Function test_inference_speed>
        <Function test_batch_size_comparison>
        <Function test_embedding_quality>
        <Function test_memory_efficiency>
    <Package integration>
      <Package cli>
        <Module test_benchmark_integration.py>
          <Class TestBenchmarkIntegration>
            <Function test_benchmark_execution_flow>
        <Module test_config_validation_integration.py>
          <Class TestConfigValidationIntegration>
            <Function test_validate_valid_config_flow>
            <Function test_validate_invalid_config_flow>
        <Module test_index_query_flow.py>
          <Class TestIndexQueryFlow>
            <Function test_index_single_file>
            <Function test_index_directory>
            <Function test_index_with_custom_strategy>
            <Function test_index_with_config_file>
            <Function test_index_nonexistent_path>
            <Function test_query_basic>
            <Function test_query_with_strategies>
            <Function test_query_with_top_k>
            <Function test_query_without_index>
          <Class TestFullWorkflow>
            <Function test_complete_workflow>
            <Function test_workflow_with_config>
      <Package database>
        <Module test_database_integration.py>
          <Class TestDatabaseIntegration>
            <Function test_full_database_workflow>
            <Function test_batch_insert_chunks>
            <Function test_query_with_filters>
            <Function test_metadata_queries>
            <Function test_chunk_ordering>
            <Function test_document_deduplication>
          <Class TestVectorOperations>
            <Function test_insert_chunk_with_embedding>
            <Function test_vector_similarity_search>
            <Function test_null_embeddings>
          <Class TestConnectionPooling>
            <Function test_connection_pool_concurrent_access>
            <Function test_connection_pool_metrics>
            <Function test_session_isolation>
          <Class TestPerformance>
            <Function test_batch_insert_performance>
            <Function test_query_performance>
        <Module test_migration_integration.py>
          <Class TestMigrationIntegration>
            <Coroutine test_real_migration_execution>
            <Coroutine test_migration_with_existing_data>
            <Coroutine test_rollback_functionality>
            <Coroutine test_pgvector_extension_installed>
      <Dir documentation>
        <Module test_documentation_integration.py>
          <Class TestDocumentationBuild>
            <Function test_mkdocs_build_succeeds>
            <Function test_mkdocs_serve_starts>
            <Function test_search_index_generated>
          <Function test_documentation_time_to_first_example>
          <Function test_api_reference_generated>
          <Function test_diagrams_rendered>
      <Dir evaluation>
        <Module test_evaluation_integration.py>
          <Class TestEvaluationIntegration>
            <Function test_full_benchmark_workflow>
            <Function test_compare_multiple_strategies>
            <Function test_statistical_analysis_workflow>
            <Function test_export_workflow_csv>
            <Function test_export_workflow_json>
            <Function test_comparison_report_generation>
            <Function test_checkpoint_resume_workflow>
      <Package models>
        <Module test_fine_tuned_embeddings_integration.py>
          <Function test_register_and_load_model>
          <Function test_ab_testing_workflow>
          <Function test_model_registry_persistence_workflow>
          <Function test_model_comparison_workflow>
          <Function test_multiple_models_registry>
      <Package observability>
        <Module test_monitoring_integration.py>
          <Class TestCompleteQueryLogging>
            <Function test_complete_query_workflow>
            <Function test_failed_query_workflow>
            <Function test_multiple_strategy_workflow>
          <Class TestPerformanceMonitoring>
            <Function test_performance_tracking>
            <Function test_multiple_operations_tracking>
          <Class TestDashboardAPI>
            <Function test_dashboard_endpoints>
            <Function test_dashboard_error_handling>
          <Class TestEndToEndMonitoring>
            <Function test_complete_monitoring_stack>
            <Function test_high_volume_simulation>
            <Function test_error_rate_monitoring>
          <Class TestPrometheusIntegration>
            <Function test_prometheus_metrics_export>
      <Package repositories>
        <Module test_repository_integration.py>
          <Class TestDocumentRepositoryIntegration>
            <Function test_complete_document_lifecycle>
            <Function test_document_deduplication>
            <Function test_document_pagination>
            <Function test_document_status_filtering>
            <Function test_bulk_operations>
          <Class TestChunkRepositoryIntegration>
            <Function test_complete_chunk_lifecycle>
            <Function test_chunk_document_relationship>
            <Function test_cascade_delete>
            <Function test_bulk_chunk_operations>
          <Class TestVectorSearchIntegration>
            <Function test_vector_similarity_search>
            <Function test_vector_search_with_threshold>
            <Function test_vector_search_with_document_filter>
            <Function test_vector_search_with_metadata_filter>
            <Function test_vector_search_identical_embedding>
          <Class TestRepositoryTransactions>
            <Function test_transaction_commit>
            <Function test_transaction_rollback>
            <Function test_multiple_operations_in_transaction>
            <Function test_transaction_context_manager>
            <Function test_transaction_rollback_on_error>
      <Package services>
        <Module test_embedding_integration.py>
          <Function test_openai_full_workflow>
          <Function test_cohere_full_workflow>
          <Function test_local_embedding_provider>
          <Function test_large_batch_processing>
          <Function test_concurrent_embedding_requests>
          <Function test_cache_persistence_across_batches>
          <Function test_error_handling>
          <Function test_onnx_provider_compatibility>
        <Module test_fine_tuned_onnx_integration.py>
          <Class TestFineTunedONNXIntegration>
            <Function test_end_to_end_flow>
        <Module test_llm_integration.py>
          <Function test_full_llm_workflow>
          <Function test_streaming_response>
          <Function test_local_ollama_provider>
          <Function test_prompt_template_with_real_llm>
          <Function test_openai_provider>
          <Function test_concurrent_llm_requests>
          <Function test_cost_tracking>
          <Function test_token_counting>
        <Module test_onnx_embeddings_integration.py>
          <Class TestONNXEmbeddingsIntegration>
            <Function test_embed_single_document>
            <Function test_embed_multiple_documents>
            <Function test_semantic_similarity>
            <Function test_batch_consistency>
            <Function test_empty_input>
            <Function test_long_text_handling>
            <Function test_special_characters>
            <Function test_performance_target>
            <Function test_provider_metadata>
            <Function test_result_metadata>
        <Module test_service_implementations.py>
          <Class TestONNXServices>
            <Coroutine test_onnx_embedding_service_implements_interface>
            <Coroutine test_onnx_embedding_service_basic_functionality>
          <Class TestAPIServices>
            <Coroutine test_anthropic_llm_service_implements_interface>
            <Coroutine test_anthropic_llm_service_basic_functionality>
            <Coroutine test_openai_llm_service_implements_interface>
            <Coroutine test_openai_embedding_service_implements_interface>
            <Coroutine test_cohere_reranking_service_implements_interface>
            <Coroutine test_cohere_reranking_service_basic_functionality>
          <Class TestDatabaseServices>
            <Coroutine test_neo4j_graph_service_implements_interface>
            <Coroutine test_neo4j_graph_service_basic_functionality>
            <Coroutine test_postgresql_database_service_implements_interface>
            <Coroutine test_postgresql_database_service_basic_functionality>
          <Class TestLocalServices>
            <Coroutine test_cosine_reranking_service_implements_interface>
            <Coroutine test_cosine_reranking_service_basic_functionality>
          <Class TestInterfaceCompliance>
            <Function test_all_llm_services_implement_interface>
            <Function test_all_embedding_services_implement_interface>
            <Function test_all_reranking_services_implement_interface>
            <Function test_all_graph_services_implement_interface>
            <Function test_all_database_services_implement_interface>
        <Module test_service_integration.py>
          <Coroutine test_rag_workflow>
          <Coroutine test_embedding_database_consistency>
      <Package strategies>
        <Module test_base_integration.py>
          <Function test_strategy_full_lifecycle>
          <Function test_multiple_strategies_implement_interface>
          <Coroutine test_async_retrieve_works>
          <Function test_strategy_error_handling>
          <Function test_strategy_configuration_override>
        <Module test_chunking_integration.py>
          <Function test_structural_chunking_markdown_document>
          <Function test_structural_chunking_plain_text>
          <Function test_structural_chunking_code_blocks>
          <Function test_fixed_size_chunking_consistency>
          <Function test_compare_chunking_strategies>
          <Function test_chunking_empty_document>
          <Function test_chunking_very_long_document>
          <Function test_chunking_with_special_characters>
          <Function test_batch_document_processing>
          <Function test_chunk_metadata_completeness>
          <Function test_chunk_validation>
          <Function test_get_stats_functionality>
        <Module test_contextual_integration.py>
          <Coroutine test_contextual_retrieval_complete_workflow>
          <Coroutine test_cost_tracking_accuracy>
          <Coroutine test_retrieval_with_different_formats>
          <Coroutine test_error_recovery>
          <Function test_synchronous_indexing>
          <Coroutine test_large_document_processing>
        <Module test_hierarchical_indexing.py>
          <Class TestHierarchicalIndexing>
            <Function test_produces_capabilities>
            <Function test_requires_services>
            <Coroutine test_process_basic_document>
            <Coroutine test_process_document_with_headings>
            <Coroutine test_hierarchy_metadata>
            <Coroutine test_max_depth_configuration>
            <Coroutine test_empty_document>
            <Coroutine test_multiple_documents>
            <Coroutine test_path_tracking>
            <Function test_split_by_headings_markdown>
            <Function test_split_by_headings_no_headings>
            <Function test_split_by_paragraphs>
            <Function test_split_by_paragraphs_single>
            <Coroutine test_document_metadata_preserved>
        <Module test_hierarchical_integration.py>
          <Class TestHierarchicalIntegration>
            <Function test_end_to_end_workflow>
            <Function test_expansion_strategy_comparison>
            <Function test_hierarchy_validation>
            <Function test_multiple_documents>
        <Module test_in_memory_indexing.py>
          <Function test_capabilities>
          <Function test_dependencies>
          <Coroutine test_process_success>
          <Coroutine test_storage_operations>
          <Coroutine test_clear_storage>
          <Coroutine test_get_chunk>
          <Coroutine test_multiple_documents>
          <Coroutine test_empty_documents>
          <Coroutine test_custom_chunk_size>
          <Coroutine test_chunk_metadata_preservation>
          <Coroutine test_shared_storage_across_instances>
          <Coroutine test_document_without_id>
        <Module test_keyword_indexing.py>
          <Function test_capabilities>
          <Function test_dependencies>
          <Coroutine test_process_success>
          <Coroutine test_process_no_chunks>
          <Coroutine test_process_empty_text>
          <Coroutine test_process_stop_words_only>
        <Module test_knowledge_graph_integration.py>
          <Function test_knowledge_graph_workflow>
          <Function test_hybrid_retrieval>
          <Function test_relationship_queries>
          <Function test_graph_statistics>
        <Module test_late_chunking_integration.py>
          <Function test_late_chunking_workflow>
          <Function test_fixed_size_chunking_integration>
          <Function test_adaptive_chunking_integration>
          <Function test_multiple_documents>
          <Function test_strategy_properties>
          <Function test_coherence_scores_computed>
          <Function test_short_document>
          <Function test_chunk_embeddings_valid>
          <Function test_embedding_quality>
        <Module test_multi_query_integration.py>
          <Class TestMultiQueryIntegration>
            <Function test_multi_query_complete_workflow>
            <Coroutine test_multi_query_async_workflow>
            <Function test_variant_diversity>
            <Coroutine test_performance_requirements>
            <Coroutine test_fallback_on_failure>
            <Function test_ranking_strategy_comparison>
            <Function test_deduplication_across_variants>
            <Function test_strategy_properties>
          <Class TestMultiQueryRealLLM>
            <Function test_with_real_llm>
        <Module test_query_expansion_integration.py>
          <Class TestQueryExpansionIntegration>
            <Function test_keyword_expansion_real_llm>
            <Function test_query_reformulation>
            <Function test_question_generation>
            <Function test_hyde_expansion>
            <Function test_multi_query_generation>
            <Function test_expansion_performance>
            <Function test_cache_functionality>
            <Function test_ab_testing_functionality>
            <Function test_domain_context>
            <Function test_error_handling_fallback>
            <Function test_stats_tracking>
        <Module test_reranking_integration.py>
          <Class TestMockRerankerIntegration>
            <Function test_end_to_end_reranking>
            <Function test_performance_with_many_candidates>
            <Function test_cache_effectiveness>
            <Function test_score_threshold_filtering>
            <Function test_ranking_position_tracking>
            <Function test_fallback_preserves_order>
            <Function test_batch_processing>
            <Function test_statistics_accumulation>
          <Class TestRealCrossEncoderIntegration>
            <Function test_real_model_reranking>
        <Module test_self_reflective_integration.py>
          <Class TestSelfReflectiveIntegration>
            <Function test_end_to_end_workflow>
            <Function test_retry_with_poor_results>
            <Function test_performance_within_limits>
          <Class TestSelfReflectiveRealLLM>
            <Function test_with_real_llm>
        <Module test_vector_embedding_indexing.py>
          <Class TestVectorEmbeddingIndexing>
            <Function test_capabilities_and_dependencies>
            <Coroutine test_process_success>
            <Coroutine test_process_batching>
            <Coroutine test_no_chunks_error>
            <Coroutine test_service_error>
      <Module test_config_integration.py>
        <Function test_load_validate_use_config>
        <Function test_multi_environment_configuration>
        <Function test_config_with_factory>
        <Function test_config_with_pipeline>
        <Function test_complete_real_world_scenario>
        <Function test_config_export_and_reimport>
        <Function test_json_configuration_integration>
        <Function test_deeply_nested_configuration_access>
      <Module test_factory_consistency.py>
        <Class TestFactoryConsistencyIntegration>
          <Function test_consistent_indexing_strategy_no_warnings>
          <Function test_inconsistent_indexing_strategy_logs_warnings>
          <Function test_consistent_retrieval_strategy_no_warnings>
          <Function test_inconsistent_retrieval_strategy_logs_warnings>
          <Function test_legacy_strategy_without_capability_methods>
          <Function test_warning_messages_include_strategy_name>
          <Function test_warning_messages_include_emoji>
          <Function test_override_dependencies_checked>
      <Module test_factory_integration.py>
        <Function test_register_create_use_strategy>
        <Function test_create_multiple_different_strategies>
        <Function test_create_multiple_instances_of_same_strategy>
        <Function test_dependency_injection>
        <Function test_config_file_with_yaml>
        <Function test_config_file_with_json>
        <Function test_factory_error_recovery>
        <Function test_factory_state_after_failed_creation>
        <Function test_decorator_integration>
        <Function test_full_rag_workflow>
        <Coroutine test_async_retrieve_integration>
      <Module test_package_integration.py>
        <Class TestPackageInstallation>
          <Function test_package_installable>
        <Class TestSmokeTest>
          <Function test_basic_usage_smoke_test>
        <Class TestFullWorkflow>
          <Function test_full_workflow_with_installed_package>
        <Class TestBuildAndDistribution>
          <Function test_package_can_be_built>
      <Module test_pipeline_integration.py>
        <Function test_three_strategy_pipeline>
        <Coroutine test_parallel_faster_than_sequential>
        <Function test_pipeline_continues_after_non_critical_failure>
        <Function test_load_pipeline_from_yaml>
        <Coroutine test_async_sequential_execution>
        <Coroutine test_async_fallback_execution>
        <Coroutine test_parallel_execution_with_failures>
      <Module test_tokenization_integration.py>
        <Class TestTokenizationIntegration>
          <Function test_openai_token_count_accuracy>
          <Function test_different_encodings>
          <Function test_long_text_handling>
          <Function test_special_characters>
          <Function test_multilingual_text>
          <Function test_mixed_content>
          <Function test_truncation_accuracy>
          <Function test_splitting_accuracy>
          <Function test_overlap_behavior>
          <Function test_empty_and_whitespace>
          <Function test_very_long_single_word>
          <Function test_consistency_across_calls>
          <Function test_different_models>
        <Class TestPerformance>
          <Function test_tokenization_speed>
          <Function test_token_counting_speed>
          <Function test_batch_tokenization_performance>
    <Package unit>
      <Package cli>
        <Module test_benchmark_command.py>
          <Class TestBenchmarkCommand>
            <Function test_benchmark_default_strategies>
            <Function test_benchmark_specific_strategies>
            <Function test_benchmark_export_results>
            <Function test_benchmark_missing_dataset>
            <Function test_benchmark_missing_index>
        <Module test_check_consistency_command.py>
          <Class TestCheckConsistencyCommand>
            <Function test_command_help>
            <Function test_all_strategies_consistent>
            <Function test_strategies_with_warnings>
            <Function test_type_filter_indexing>
            <Function test_type_filter_retrieval>
            <Function test_invalid_type_filter>
            <Function test_strategy_filter>
            <Function test_verbose_mode>
            <Function test_config_file_loading>
            <Function test_system_error_returns_exit_code_1>
            <Function test_strategies_with_errors>
        <Module test_config_validation_command.py>
          <Class TestConfigValidationCommand>
            <Function test_validate_valid_config>
            <Function test_validate_invalid_config_missing_field>
            <Function test_validate_invalid_config_values>
            <Function test_validate_config_warnings>
            <Function test_validate_config_strict_mode>
            <Function test_validate_show_config>
        <Module test_consistency_formatter.py>
          <Class TestConsistencyFormatter>
            <Function test_format_empty_results>
            <Function test_format_consistent_strategies>
            <Function test_format_strategies_with_warnings>
            <Function test_format_strategies_with_errors>
            <Function test_grouping_by_type>
            <Function test_verbose_mode>
            <Function test_display_strategy_group>
            <Function test_display_summary>
            <Function test_warning_note_displayed>
            <Function test_multiple_warnings_per_strategy>
        <Module test_formatters.py>
          <Class TestOutputFormatters>
            <Function test_format_success>
            <Function test_format_success_with_title>
            <Function test_format_error>
            <Function test_format_warning>
          <Class TestQueryResultsFormatter>
            <Function test_format_query_results_basic>
            <Function test_format_query_results_with_strategy>
            <Function test_format_empty_results>
            <Function test_format_results_with_long_text>
          <Class TestStrategyListFormatter>
            <Function test_format_strategy_list_basic>
            <Function test_format_strategy_list_with_filter>
            <Function test_format_empty_strategy_list>
            <Function test_format_strategy_list_grouped_by_type>
          <Class TestBenchmarkResultsFormatter>
            <Function test_format_benchmark_results_basic>
            <Function test_format_single_strategy_benchmark>
            <Function test_format_empty_benchmark_results>
          <Class TestStatisticsFormatter>
            <Function test_format_statistics_basic>
            <Function test_format_statistics_with_floats>
            <Function test_format_empty_statistics>
            <Function test_format_statistics_key_transformation>
        <Module test_index_command.py>
          <Class TestIndexCommand>
            <Function test_index_success>
            <Function test_index_with_invalid_path>
            <Function test_index_no_documents_found>
            <Function test_index_with_config>
            <Function test_index_output_directory>
        <Module test_list_strategies_command.py>
          <Class TestListStrategiesCommand>
            <Function test_list_all_strategies>
            <Function test_list_strategies_empty>
            <Function test_filter_strategies_by_type>
            <Function test_filter_strategies_no_match>
            <Function test_list_strategies_verbose>
        <Module test_query_command.py>
          <Class TestQueryCommand>
            <Function test_query_success>
            <Function test_query_index_not_found>
            <Function test_query_with_config>
            <Function test_query_multiple_strategies>
            <Function test_query_no_results>
        <Module test_repl_command.py>
          <Class TestREPLCommand>
            <Function test_repl_start>
            <Function test_repl_with_config>
          <Class TestREPLSession>
            <Function test_repl_session_init>
            <Function test_repl_set_command>
        <Module test_validate_pipeline_command.py>
          <Class TestValidatePipelineCommand>
            <Function test_command_help>
            <Function test_missing_indexing_argument>
            <Function test_missing_retrieval_argument>
            <Function test_valid_pipeline_returns_zero>
            <Function test_invalid_pipeline_returns_nonzero>
            <Function test_invalid_strategy_name_error>
            <Function test_parse_multiple_strategies>
            <Function test_config_file_loading>
        <Module test_validation.py>
          <Class TestValidatePathExists>
            <Function test_validate_existing_file>
            <Function test_validate_existing_directory>
            <Function test_validate_nonexistent_path>
            <Function test_validate_file_when_directory>
            <Function test_validate_directory_when_file>
          <Class TestValidateConfigFile>
            <Function test_validate_yaml_config>
            <Function test_validate_json_config>
            <Function test_validate_invalid_yaml>
            <Function test_validate_invalid_json>
            <Function test_validate_unsupported_format>
            <Function test_validate_nonexistent_file>
            <Function test_validate_non_dict_config>
          <Class TestParseStrategyList>
            <Function test_parse_single_strategy>
            <Function test_parse_multiple_strategies>
            <Function test_parse_strategies_with_spaces>
            <Function test_parse_empty_string>
            <Function test_parse_only_commas>
        <Module test_validation_formatter.py>
          <Class TestDisplayCapabilities>
            <Function test_display_capabilities_with_capabilities>
            <Function test_display_capabilities_empty>
          <Class TestDisplayRequirements>
            <Function test_display_requirements_all_met>
            <Function test_display_requirements_unmet>
            <Function test_display_requirements_empty>
          <Class TestDisplayServiceRequirements>
            <Function test_display_service_requirements_all_available>
            <Function test_display_service_requirements_missing>
            <Function test_display_service_requirements_empty>
          <Class TestDisplayValidationStatus>
            <Function test_display_valid_status>
            <Function test_display_invalid_status_missing_capabilities>
            <Function test_display_invalid_status_missing_services>
          <Class TestDisplaySuggestions>
            <Function test_display_suggestions>
          <Class TestFormatValidationResults>
            <Function test_format_valid_pipeline>
            <Function test_format_invalid_pipeline_with_suggestions>
      <Package config>
        <Module test_env_validator.py>
          <Class TestEnvironmentValidator>
            <Function test_validate_production_success>
            <Function test_validate_development_success>
            <Function test_validate_test_success>
            <Function test_validate_production_missing>
            <Function test_validate_test_missing>
            <Function test_validate_test_with_deprecated_var>
            <Function test_deprecated_warning>
            <Function test_no_deprecated_warning_when_not_set>
            <Function test_get_database_url_main>
            <Function test_get_database_url_test_new_name>
            <Function test_get_database_url_backward_compatible>
            <Function test_get_database_url_prefers_new_name>
            <Function test_get_database_url_returns_none_when_not_set>
            <Function test_get_database_url_test_returns_none_when_not_set>
            <Function test_get_all_database_vars>
            <Function test_check_required_returns_empty_for_valid_config>
            <Function test_check_required_returns_missing_vars>
            <Function test_error_message_includes_documentation_reference>
            <Function test_deprecation_warning_includes_migration_instructions>
      <Dir core>
        <Module test_capabilities.py>
          <Class TestIndexCapability>
            <Function test_all_capabilities_defined>
            <Function test_enum_values_unique>
            <Function test_enum_members_accessible>
            <Function test_enum_string_representation>
            <Function test_enum_comparison>
            <Function test_enum_in_set>
          <Class TestIndexingResult>
            <Function test_has_capability_present>
            <Function test_has_capability_absent>
            <Function test_is_compatible_with_satisfied>
            <Function test_is_compatible_with_unsatisfied>
            <Function test_is_compatible_with_empty_requirements>
            <Function test_repr_format>
            <Function test_repr_sorted_capabilities>
          <Class TestValidationResult>
            <Function test_repr_valid>
            <Function test_repr_missing_capabilities_only>
            <Function test_repr_missing_services_only>
            <Function test_repr_missing_both>
            <Function test_repr_empty_missing>
            <Function test_repr_sorted_items>
        <Module test_factory_validation.py>
          <Function test_validate_compatibility_success>
          <Function test_validate_compatibility_failure>
          <Function test_validate_pipeline_success>
          <Function test_validate_pipeline_missing_service>
          <Function test_auto_select_retrieval>
          <Function test_auto_select_retrieval_preference>
          <Function test_consistency_checking_called>
        <Module test_indexing_interface.py>
          <Class TestIndexingContext>
            <Function test_initialization_with_database_service>
            <Function test_initialization_with_config>
            <Function test_metrics_tracking>
            <Function test_config_defaults_to_empty_dict>
          <Class TestIIndexingStrategy>
            <Function test_cannot_instantiate_abstract_class>
            <Function test_requires_produces_implementation>
            <Function test_requires_requires_services_implementation>
            <Function test_requires_process_implementation>
            <Function test_complete_implementation_succeeds>
            <Function test_dependency_validation_on_init>
          <Class TestVectorEmbeddingIndexing>
            <Function test_produces_correct_capabilities>
            <Function test_requires_correct_services>
            <Function test_initialization_fails_without_embedding_service>
            <Function test_initialization_fails_without_database_service>
            <Function test_initialization_succeeds_with_all_services>
            <Coroutine test_process_chunks_documents>
            <Coroutine test_process_generates_embeddings>
            <Coroutine test_process_stores_chunks_in_database>
            <Coroutine test_process_updates_context_metrics>
            <Coroutine test_process_returns_correct_result>
            <Function test_chunk_documents_with_default_config>
            <Function test_chunk_documents_preserves_metadata>
          <Class TestValidateDependencies>
            <Function test_validation_passes_with_all_services>
            <Function test_validation_fails_with_missing_service>
            <Function test_validation_fails_with_multiple_missing_services>
            <Function test_validation_passes_with_empty_requirements>
            <Function test_validation_passes_with_extra_services>
        <Module test_pipeline.py>
          <Coroutine test_initialization>
          <Coroutine test_get_capabilities_before_execution>
          <Coroutine test_index_sequential_execution>
          <Coroutine test_get_capabilities_after_execution>
          <Coroutine test_error_handling>
          <Coroutine test_retrieval_initialization>
          <Coroutine test_retrieval_requirements>
          <Coroutine test_retrieval_sequential_execution>
          <Coroutine test_retrieval_error_handling>
        <Module test_retrieval_interface.py>
          <Class TestRetrievalContext>
            <Function test_initialization_with_database_service>
            <Function test_initialization_with_config>
            <Function test_metrics_tracking>
          <Class TestIRetrievalStrategy>
            <Function test_cannot_instantiate_abstract_class>
            <Function test_dependency_validation_on_init>
            <Function test_successful_initialization_with_all_dependencies>
            <Function test_abstract_methods_must_be_implemented>
          <Class TestRerankingRetrieval>
            <Function test_requires_capabilities>
            <Function test_requires_services>
            <Function test_initialization_validates_dependencies>
            <Coroutine test_retrieve_with_results>
            <Coroutine test_retrieve_with_no_candidates>
            <Coroutine test_retrieve_uses_default_initial_k>
            <Coroutine test_retrieve_uses_configured_initial_k>
      <Package database>
        <Module test_batch_operations.py>
          <Class TestBatchOperations>
            <Coroutine test_batch_vector_insertion>
            <Coroutine test_store_chunks_with_hierarchy>
        <Module test_connection.py>
          <Class TestDatabaseConnection>
            <Function test_connection_initialization>
            <Function test_connection_with_default_config>
            <Function test_session_context_manager_commit>
            <Function test_session_context_manager_rollback>
            <Function test_health_check_success>
            <Function test_health_check_failure>
            <Function test_get_pool_status>
            <Function test_create_tables>
            <Function test_drop_tables>
            <Function test_context_manager>
            <Function test_multiple_sessions>
            <Function test_pool_configuration>
          <Class TestDatabaseConnectionEvents>
            <Function test_on_connect_event>
            <Function test_on_checkout_event>
        <Module test_migrations.py>
          <Class TestAlembicMigrations>
            <Function test_migration_upgrade_to_head>
            <Function test_migration_downgrade>
            <Function test_migration_history>
            <Function test_migration_idempotency>
            <Function test_get_current_version>
            <Function test_migration_creates_tables>
            <Function test_migration_creates_indexes>
        <Module test_models.py>
          <Class TestDocumentModel>
            <Function test_document_model_has_required_columns>
            <Function test_document_creation>
            <Function test_document_default_values>
            <Function test_document_metadata_accepts_json>
            <Function test_document_status_values>
            <Function test_document_repr>
            <Function test_document_persistence>
          <Class TestChunkModel>
            <Function test_chunk_model_has_required_columns>
            <Function test_chunk_creation>
            <Function test_chunk_creation_with_embedding>
            <Function test_chunk_default_values>
            <Function test_chunk_metadata_accepts_json>
            <Function test_chunk_repr>
            <Function test_chunk_repr_without_embedding>
            <Function test_chunk_persistence>
          <Class TestModelRelationships>
            <Function test_foreign_key_relationship>
            <Function test_document_chunks_relationship>
            <Function test_chunk_document_relationship>
            <Function test_cascade_delete>
          <Class TestModelIndexes>
            <Function test_document_indexes>
            <Function test_chunk_indexes>
        <Module test_pgvector.py>
          <Class TestPgVectorIntegration>
            <Coroutine test_cosine_similarity_search>
            <Coroutine test_vector_storage_format>
            <Coroutine test_empty_chunks_storage>
        <Module test_vector_indexing.py>
          <Class TestVectorIndexing>
            <Coroutine test_create_hnsw_index>
            <Coroutine test_create_ivfflat_index>
            <Coroutine test_drop_index>
            <Coroutine test_list_indexes>
      <Dir documentation>
        <Module test_code_examples.py>
          <Class TestCodeExamples>
            <Function test_all_code_examples_have_valid_syntax>
            <Function test_strategy_examples_have_imports>
            <Function test_configuration_examples_valid>
            <Function test_quick_start_example_complete>
            <Function test_no_placeholder_code>
        <Module test_documentation_completeness.py>
          <Class TestDocumentationCompleteness>
            <Function test_required_doc_files_exist>
            <Function test_all_strategies_documented>
            <Function test_all_public_classes_documented>
            <Function test_all_public_methods_documented>
            <Function test_documentation_completeness_score>
            <Function test_mkdocs_config_valid>
            <Function test_readme_exists>
            <Function test_changelog_exists>
        <Module test_links.py>
          <Class TestDocumentationLinks>
            <Function test_no_broken_internal_links>
            <Function test_all_diagrams_valid>
            <Function test_no_todo_links>
            <Function test_external_links_valid>
      <Dir evaluation>
        <Module test_benchmark_suite.py>
          <Class TestBenchmarkRunner>
            <Function test_init_with_config>
            <Function test_init_with_metrics>
            <Function test_init_without_config_or_metrics>
            <Function test_run_benchmark_with_dataset>
            <Function test_run_benchmark_collects_metrics>
            <Function test_run_benchmark_aggregates_results>
            <Function test_compare_strategies>
            <Function test_compare_strategies_name_mismatch>
            <Function test_benchmark_error_handling>
            <Function test_save_checkpoint>
            <Function test_load_checkpoint>
            <Function test_resume_from_checkpoint>
          <Class TestBenchmarkResult>
            <Function test_benchmark_result_to_dict>
            <Function test_benchmark_result_save_load>
            <Function test_empty_dataset_handling>
        <Module test_comparison.py>
          <Class TestStrategyComparator>
            <Function test_init_default_confidence>
            <Function test_init_custom_confidence>
            <Function test_compare_strategies>
            <Function test_compare_metric_specific>
            <Function test_generate_rankings>
            <Function test_find_best_strategy>
            <Function test_generate_report_table_format>
            <Function test_generate_report_markdown_format>
            <Function test_generate_report_text_format>
            <Function test_generate_summary_table>
            <Function test_comparison_with_statistical_tests>
            <Function test_comparison_with_baseline>
            <Function test_comparison_single_strategy>
            <Function test_comparison_missing_metrics>
        <Module test_dataset_loader.py>
          <Class TestDatasetLoader>
            <Function test_load_json_dataset>
            <Function test_load_jsonl_dataset>
            <Function test_load_csv_dataset>
            <Function test_load_nonexistent_file>
            <Function test_load_unsupported_format>
            <Function test_dataset_name_override>
            <Function test_save_and_load_json>
            <Function test_save_and_load_jsonl>
            <Function test_save_and_load_csv>
          <Class TestEvaluationDataset>
            <Function test_dataset_iteration>
            <Function test_dataset_indexing>
            <Function test_get_by_id>
            <Function test_dataset_split>
            <Function test_get_statistics>
        <Module test_export.py>
          <Class TestCSVExporter>
            <Function test_csv_export_summary>
            <Function test_csv_export_detailed>
            <Function test_csv_export_comparison>
            <Function test_csv_export_comparison_custom_metrics>
            <Function test_csv_export_creates_directories>
          <Class TestJSONExporter>
            <Function test_json_export_with_details>
            <Function test_json_export_without_details>
            <Function test_json_export_comparison>
            <Function test_json_export_indentation>
            <Function test_json_export_creates_directories>
            <Function test_export_file_content_validity>
            <Function test_csv_field_selection>
        <Module test_retrieval_metrics.py>
          <Class TestPrecisionAtK>
            <Function test_perfect_precision>
            <Function test_zero_precision>
            <Function test_partial_precision>
            <Function test_fewer_retrieved_than_k>
            <Function test_invalid_k>
          <Class TestRecallAtK>
            <Function test_perfect_recall>
            <Function test_zero_recall>
            <Function test_partial_recall>
            <Function test_empty_relevant>
          <Class TestMeanReciprocalRank>
            <Function test_first_relevant>
            <Function test_third_relevant>
            <Function test_no_relevant_found>
            <Function test_multiple_relevant>
          <Class TestNDCG>
            <Function test_perfect_ranking>
            <Function test_worst_ranking>
            <Function test_no_relevant_docs>
            <Function test_partial_relevance>
          <Class TestHitRateAtK>
            <Function test_hit>
            <Function test_no_hit>
            <Function test_hit_outside_k>
          <Class TestMetricProperties>
            <Function test_metric_names>
            <Function test_higher_is_better>
        <Module test_statistical_testing.py>
          <Class TestStatisticalAnalyzer>
            <Function test_init_default_confidence>
            <Function test_init_custom_confidence>
            <Function test_init_invalid_confidence>
            <Function test_paired_t_test_significant_difference>
            <Function test_paired_t_test_no_difference>
            <Function test_confidence_interval_contains_mean>
            <Function test_confidence_interval_width>
            <Function test_confidence_interval_single_value>
            <Function test_bootstrap_confidence_interval>
            <Function test_cohens_d_calculation>
            <Function test_cohens_d_zero_difference>
            <Function test_cohens_d_interpretation_small>
            <Function test_cohens_d_interpretation_medium>
            <Function test_cohens_d_interpretation_large>
            <Function test_bonferroni_correction>
            <Function test_bonferroni_correction_custom_comparisons>
            <Function test_analyze_metric_comprehensive>
            <Function test_statistical_test_result_structure>
            <Function test_edge_case_equal_distributions>
            <Function test_edge_case_high_variance>
            <Function test_edge_case_small_sample>
      <Package examples>
        <Module test_examples_imports.py>
          <Class TestExamplesImports>
            <Function test_simple_example_imports_rag_factory>
            <Function test_medium_example_imports>
            <Function test_all_examples_import_from_rag_factory>
            <Function test_no_relative_imports_in_examples>
            <Function test_examples_use_absolute_imports>
            <Function test_no_wildcard_imports>
            <Function test_imports_are_organized>
        <Module test_examples_syntax.py>
          <Class TestExamplesSyntax>
            <Function test_all_examples_valid_syntax>
            <Function test_simple_example_exists>
            <Function test_medium_example_exists>
            <Function test_advanced_example_exists>
            <Function test_all_examples_have_docstrings>
            <Function test_all_examples_have_main_function>
            <Function test_examples_have_proper_encoding>
            <Function test_examples_not_too_long>
        <Module test_requirements.py>
          <Class TestRequirements>
            <Function test_simple_has_requirements>
            <Function test_medium_has_requirements>
            <Function test_advanced_has_requirements>
            <Function test_all_example_dirs_have_requirements>
            <Function test_requirements_have_rag_factory>
            <Function test_requirements_are_valid_format>
            <Function test_no_duplicate_requirements>
            <Function test_requirements_have_versions>
      <Package models>
        <Package embedding>
          <Module test_registry.py>
            <Function test_register_model>
            <Function test_register_model_overwrites_existing>
            <Function test_get_model_not_found>
            <Function test_list_models>
            <Function test_filter_by_domain>
            <Function test_filter_by_format>
            <Function test_filter_by_tags>
            <Function test_update_metrics>
            <Function test_update_metrics_nonexistent_model>
            <Function test_search_models>
            <Function test_search_models_by_description>
            <Function test_search_models_case_insensitive>
            <Function test_delete_model>
            <Function test_delete_nonexistent_model>
            <Function test_registry_persistence>
            <Function test_register_multiple_versions>
            <Function test_list_models_versions>
            <Function test_delete_specific_version>
            <Function test_delete_all_versions>
            <Function test_set_health_status>
            <Function test_registry_persistence_versions>
            <Function test_empty_registry>
        <Package evaluation>
          <Module test_ab_testing.py>
            <Function test_framework_initialization>
            <Function test_start_test>
            <Function test_traffic_splitting>
            <Function test_traffic_splitting_different_ratios>
            <Function test_should_use_model_b_inactive_test>
            <Function test_record_results>
            <Function test_record_result_inactive_test>
            <Function test_analyze_test>
            <Function test_analyze_test_not_found>
            <Function test_analyze_test_insufficient_samples>
            <Function test_winner_determination_clear_winner>
            <Function test_winner_determination_no_difference>
            <Function test_gradual_rollout>
            <Function test_gradual_rollout_bounds>
            <Function test_gradual_rollout_not_found>
            <Function test_metrics_comparison_calculation>
            <Function test_confidence_intervals>
      <Package observability>
        <Module test_cost_calculator.py>
          <Class TestModelPricing>
            <Function test_model_pricing_creation>
          <Class TestCostCalculator>
            <Function test_calculator_initialization>
            <Function test_calculate_cost_llm>
            <Function test_calculate_cost_embedding>
            <Function test_calculate_cost_unknown_model>
            <Function test_calculate_rerank_cost>
            <Function test_calculate_rerank_cost_invalid_model>
            <Function test_add_custom_model>
            <Function test_get_model_pricing>
            <Function test_get_model_pricing_nonexistent>
            <Function test_list_available_models>
            <Function test_custom_pricing_override>
            <Function test_zero_cost_models>
          <Class TestGetCostCalculator>
            <Function test_get_calculator_singleton>
            <Function test_get_calculator_with_custom_pricing>
          <Class TestDefaultPricing>
            <Function test_default_pricing_has_common_models>
            <Function test_default_pricing_structure>
        <Module test_filters.py>
          <Class TestPIIFilter>
            <Function test_filter_email>
            <Function test_filter_multiple_emails>
            <Function test_filter_phone>
            <Function test_filter_ssn>
            <Function test_filter_credit_card>
            <Function test_filter_credit_card_no_dashes>
            <Function test_filter_none_text>
            <Function test_filter_empty_text>
            <Function test_filter_dict>
            <Function test_filter_nested_dict>
            <Function test_filter_dict_with_list>
            <Function test_filter_preserves_non_pii>
            <Function test_filter_mixed_content>
          <Class TestSamplingFilter>
            <Function test_sampling_filter_initialization>
            <Function test_sampling_filter_invalid_rate_too_high>
            <Function test_sampling_filter_invalid_rate_negative>
            <Function test_sampling_filter_100_percent>
            <Function test_sampling_filter_0_percent>
            <Function test_sampling_filter_50_percent>
            <Function test_sampling_filter_10_percent>
        <Module test_logger.py>
          <Class TestLogContext>
            <Function test_log_context_creation>
            <Function test_elapsed_ms>
          <Class TestRAGLogger>
            <Function test_logger_initialization>
            <Function test_logger_with_config>
            <Function test_logger_with_log_file>
            <Function test_operation_context_success>
            <Function test_operation_context_failure>
            <Function test_operation_context_metadata>
            <Function test_log_query>
            <Function test_log_metrics>
            <Function test_log_error>
            <Function test_convenience_methods>
            <Function test_query_sanitization_truncation>
            <Function test_query_sanitization_email>
            <Function test_query_sanitization_phone>
            <Function test_query_sanitization_ssn>
            <Function test_query_sanitization_none>
          <Class TestGetLogger>
            <Function test_get_logger_singleton>
            <Function test_get_logger_with_config>
          <Class TestLogLevel>
            <Function test_log_level_values>
        <Module test_metrics_collector.py>
          <Class TestMetricPoint>
            <Function test_metric_point_creation>
          <Class TestPerformanceMetrics>
            <Function test_performance_metrics_creation>
            <Function test_avg_latency_calculation>
            <Function test_avg_latency_no_queries>
            <Function test_success_rate_calculation>
            <Function test_success_rate_no_queries>
            <Function test_failure_rate_calculation>
            <Function test_latency_percentiles>
            <Function test_percentile_single_value>
            <Function test_percentile_no_values>
          <Class TestMetricsCollector>
            <Function test_collector_initialization>
            <Function test_record_successful_query>
            <Function test_record_failed_query>
            <Function test_multiple_queries>
            <Function test_success_rate_calculation>
            <Function test_multiple_strategies>
            <Function test_get_metrics_nonexistent_strategy>
            <Function test_get_summary>
            <Function test_get_strategy_names>
            <Function test_reset_specific_strategy>
            <Function test_reset_all_metrics>
            <Function test_time_series_recording>
            <Function test_time_series_time_window>
            <Function test_time_series_nonexistent_metric>
            <Function test_thread_safety>
            <Function test_error_tracking>
          <Class TestGetCollector>
            <Function test_get_collector_singleton>
            <Function test_get_collector_persistence>
        <Module test_performance_monitor.py>
          <Class TestPerformanceSnapshot>
            <Function test_performance_snapshot_creation>
          <Class TestPerformanceMonitor>
            <Function test_monitor_initialization>
            <Function test_track_operation>
            <Function test_track_multiple_executions>
            <Function test_track_multiple_operations>
            <Function test_get_stats_nonexistent>
            <Function test_stats_calculation>
            <Function test_reset_specific_operation>
            <Function test_reset_all>
            <Function test_get_current_system_stats>
            <Function test_track_with_exception>
          <Class TestGetPerformanceMonitor>
            <Function test_get_monitor_singleton>
            <Function test_get_monitor_persistence>
      <Package repositories>
        <Module test_chunk_repository.py>
          <Class TestChunkRepositoryCreate>
            <Function test_create_chunk_success>
            <Function test_create_chunk_with_embedding>
            <Function test_create_chunk_with_metadata>
            <Function test_create_chunk_database_error>
            <Function test_bulk_create_chunks>
            <Function test_bulk_create_database_error>
          <Class TestChunkRepositoryRead>
            <Function test_get_by_id_found>
            <Function test_get_by_id_not_found>
            <Function test_get_by_id_database_error>
            <Function test_get_by_document>
            <Function test_count_by_document>
          <Class TestChunkRepositoryUpdate>
            <Function test_update_chunk_success>
            <Function test_update_chunk_not_found>
            <Function test_update_embedding>
            <Function test_update_embedding_not_found>
            <Function test_bulk_update_embeddings>
            <Function test_bulk_update_embeddings_database_error>
          <Class TestChunkRepositoryDelete>
            <Function test_delete_chunk_success>
            <Function test_delete_chunk_not_found>
            <Function test_delete_by_document>
            <Function test_delete_database_error>
          <Class TestChunkRepositoryVectorSearch>
            <Function test_search_similar_validation_empty_embedding>
            <Function test_search_similar_validation_invalid_top_k>
            <Function test_search_similar_success>
            <Function test_search_similar_with_threshold>
            <Function test_search_similar_database_error>
            <Function test_search_similar_with_filter_validation>
            <Function test_search_similar_with_filter_success>
            <Function test_search_similar_with_metadata_success>
            <Function test_search_similar_with_metadata_validation>
          <Class TestChunkRepositoryEdgeCases>
            <Function test_create_chunk_without_embedding>
            <Function test_update_with_metadata_attribute>
        <Module test_document_repository.py>
          <Class TestDocumentRepositoryCreate>
            <Function test_create_document_success>
            <Function test_create_document_with_metadata>
            <Function test_create_document_duplicate_raises_error>
            <Function test_create_document_database_error>
          <Class TestDocumentRepositoryRead>
            <Function test_get_by_id_found>
            <Function test_get_by_id_not_found>
            <Function test_get_by_id_database_error>
            <Function test_get_by_content_hash_found>
            <Function test_list_all_with_pagination>
            <Function test_count_documents>
            <Function test_get_by_status>
          <Class TestDocumentRepositoryUpdate>
            <Function test_update_document_success>
            <Function test_update_document_not_found>
            <Function test_update_status>
            <Function test_update_metadata>
            <Function test_update_database_error>
          <Class TestDocumentRepositoryDelete>
            <Function test_delete_document_success>
            <Function test_delete_document_not_found>
            <Function test_delete_database_error>
            <Function test_bulk_delete_documents>
          <Class TestDocumentRepositoryBulkOperations>
            <Function test_bulk_create_documents>
            <Function test_bulk_create_database_error>
          <Class TestDocumentRepositoryTransactions>
            <Function test_commit_success>
            <Function test_commit_failure_triggers_rollback>
            <Function test_rollback>
        <Module test_exceptions.py>
          <Class TestRepositoryError>
            <Function test_repository_error_message>
            <Function test_repository_error_inheritance>
          <Class TestEntityNotFoundError>
            <Function test_entity_not_found_attributes>
            <Function test_entity_not_found_message>
            <Function test_entity_not_found_inheritance>
          <Class TestDuplicateEntityError>
            <Function test_duplicate_entity_attributes>
            <Function test_duplicate_entity_message>
            <Function test_duplicate_entity_inheritance>
          <Class TestDatabaseConnectionError>
            <Function test_database_connection_error_message>
            <Function test_database_connection_error_inheritance>
          <Class TestInvalidQueryError>
            <Function test_invalid_query_error_message>
            <Function test_invalid_query_error_inheritance>
      <Package services>
        <Package embedding>
          <Module test_cache.py>
            <Function test_cache_set_and_get>
            <Function test_cache_miss>
            <Function test_cache_expiration>
            <Function test_cache_max_size>
            <Function test_cache_lru_eviction>
            <Function test_cache_clear>
            <Function test_cache_stats>
            <Function test_cache_thread_safety>
            <Function test_cache_update_existing_key>
            <Function test_cache_large_embeddings>
          <Module test_onnx_local_provider.py>
            <Function test_provider_not_available_raises_error>
            <Function test_provider_initialization>
            <Function test_get_embeddings>
            <Function test_calculate_cost_is_zero>
            <Function test_known_model_dimensions>
            <Function test_unknown_model_uses_config>
            <Function test_custom_batch_size>
            <Function test_model_loading_failure>
            <Function test_get_model_name>
            <Function test_mean_pooling>
          <Module test_openai_provider.py>
            <Function test_provider_initialization>
            <Function test_provider_invalid_model>
            <Function test_provider_missing_api_key>
            <Function test_get_embeddings>
            <Function test_calculate_cost>
            <Function test_get_max_batch_size>
            <Function test_get_model_name>
            <Function test_different_models>
            <Function test_openai_not_installed>
          <Module test_rate_limiter.py>
            <Function test_rate_limiter_initialization>
            <Function test_rate_limiter_allows_first_request>
            <Function test_rate_limiter_enforces_limit>
            <Function test_rate_limiter_requests_per_minute>
            <Function test_rate_limiter_multiple_requests>
            <Function test_rate_limiter_thread_safety>
            <Function test_rate_limiter_prefers_stricter_limit>
          <Module test_service.py>
            <Function test_service_initialization>
            <Function test_embed_single_text>
            <Function test_embed_multiple_texts>
            <Function test_embed_empty_list_raises_error>
            <Function test_cache_hit>
            <Function test_cache_disabled>
            <Function test_batch_splitting>
            <Function test_get_stats>
            <Function test_clear_cache>
            <Function test_unknown_provider_raises_error>
            <Function test_compute_cache_key>
            <Function test_cache_different_models>
            <Function test_rate_limiter_interaction>
            <Function test_provider_error_handling>
        <Dir embeddings>
          <Module test_onnx_local.py>
            <Class TestONNXLocalProvider>
              <Function test_initialization>
              <Function test_initialization_with_custom_config>
              <Function test_get_embeddings_single_text>
              <Function test_get_embeddings_multiple_texts>
              <Function test_get_embeddings_empty_list>
              <Function test_embedding_normalization>
              <Function test_tokenization_with_tiktoken>
              <Function test_tokenization_simple_fallback>
              <Function test_get_dimensions>
              <Function test_get_max_batch_size>
              <Function test_get_model_name>
              <Function test_calculate_cost>
              <Function test_known_models>
              <Function test_missing_onnx_runtime>
              <Function test_missing_huggingface_hub>
              <Function test_model_download_failure>
              <Function test_session_creation_failure>
              <Function test_embedding_error_handling>
              <Function test_batch_processing>
        <Package llm>
          <Module test_anthropic_provider.py>
            <Function test_provider_initialization>
            <Function test_provider_invalid_model>
            <Function test_complete>
            <Function test_complete_with_system_message>
            <Function test_count_tokens>
            <Function test_calculate_cost>
            <Function test_get_model_name>
            <Function test_get_max_tokens>
            <Function test_stream>
            <Function test_different_models>
          <Module test_ollama_provider.py>
            <Function test_provider_initialization>
            <Function test_provider_default_values>
            <Function test_complete>
            <Function test_complete_with_system_message>
            <Function test_count_tokens>
            <Function test_calculate_cost>
            <Function test_get_model_name>
            <Function test_get_max_tokens>
            <Function test_messages_to_prompt>
            <Function test_stream>
          <Module test_openai_provider.py>
            <Function test_provider_initialization>
            <Function test_provider_invalid_model>
            <Function test_complete>
            <Function test_complete_with_system_message>
            <Function test_count_tokens>
            <Function test_calculate_cost>
            <Function test_get_model_name>
            <Function test_get_max_tokens>
            <Function test_stream>
            <Function test_different_models>
          <Module test_prompt_template.py>
            <Function test_template_with_system_and_user>
            <Function test_template_user_only>
            <Function test_template_with_few_shot_examples>
            <Function test_template_missing_variable_raises_error>
            <Function test_template_validation>
            <Function test_common_template_rag_qa>
            <Function test_common_template_summarization>
            <Function test_template_multiple_variables>
            <Function test_template_with_assistant_prefix>
            <Function test_common_template_classification>
            <Function test_common_template_extraction>
            <Function test_empty_template>
            <Function test_template_with_special_characters>
          <Module test_service.py>
            <Function test_service_initialization>
            <Function test_complete_single_message>
            <Function test_complete_with_system_message>
            <Function test_complete_empty_messages_raises_error>
            <Function test_complete_with_temperature>
            <Function test_complete_with_max_tokens>
            <Function test_stats_tracking>
            <Function test_count_tokens>
            <Function test_estimate_cost>
            <Function test_stream_messages>
            <Function test_stream_with_callback>
            <Function test_stream_empty_messages_raises_error>
            <Function test_provider_error_handling>
            <Function test_rate_limiter_interaction>
        <Module test_consistency.py>
          <Class TestConsistencyChecker>
            <Function test_indexing_consistent_vectors>
            <Function test_indexing_consistent_graph>
            <Function test_indexing_consistent_in_memory>
            <Function test_indexing_vectors_without_embedding>
            <Function test_indexing_graph_without_graph_service>
            <Function test_indexing_database_without_database_service>
            <Function test_indexing_in_memory_with_database>
            <Function test_indexing_multiple_inconsistencies>
            <Function test_retrieval_consistent_vectors>
            <Function test_retrieval_consistent_graph>
            <Function test_retrieval_consistent_keywords>
            <Function test_retrieval_vectors_without_database>
            <Function test_retrieval_graph_without_graph_service>
            <Function test_retrieval_keywords_without_database>
            <Function test_retrieval_multiple_inconsistencies>
            <Function test_retrieval_empty_requirements>
        <Module test_database_service.py>
          <Coroutine test_service_initialization>
          <Coroutine test_ensure_table>
          <Coroutine test_store_chunks>
          <Coroutine test_store_empty_chunks>
          <Coroutine test_search_chunks>
          <Coroutine test_get_chunk>
          <Coroutine test_get_chunk_not_found>
          <Coroutine test_get_chunks_for_documents>
          <Coroutine test_close>
          <Coroutine test_context_manager>
        <Module test_dependencies.py>
          <Class TestServiceDependency>
            <Function test_enum_has_all_service_types>
            <Function test_enum_values_are_unique>
            <Function test_enum_count>
          <Class TestStrategyDependencies>
            <Function test_instantiation_with_no_services>
            <Function test_instantiation_with_all_services>
            <Function test_instantiation_with_partial_services>
          <Class TestValidationLogic>
            <Function test_validation_with_all_required_services_present>
            <Function test_validation_with_some_services_missing>
            <Function test_validation_with_empty_requirements>
            <Function test_validation_with_all_services_missing>
            <Function test_validation_with_extra_services_present>
            <Function test_validation_for_each_service_type>
          <Class TestErrorMessaging>
            <Function test_message_for_valid_container>
            <Function test_message_for_single_missing_service>
            <Function test_message_for_multiple_missing_services>
            <Function test_message_format>
            <Function test_message_with_empty_requirements>
        <Module test_graph_interface.py>
          <Class TestIGraphServiceInterface>
            <Function test_interface_is_abstract>
            <Function test_interface_requires_all_methods>
            <Function test_create_node_signature>
            <Function test_create_relationship_signature>
            <Function test_query_signature>
            <Function test_minimal_concrete_implementation>
        <Module test_interfaces.py>
          <Function test_illm_service_requires_implementation>
          <Function test_illm_service_requires_complete_method>
          <Function test_illm_service_requires_stream_complete_method>
          <Coroutine test_illm_service_mock_implementation>
          <Function test_illm_service_has_docstring>
          <Function test_iembedding_service_requires_implementation>
          <Function test_iembedding_service_requires_embed_method>
          <Coroutine test_iembedding_service_mock_implementation>
          <Function test_iembedding_service_has_docstring>
          <Function test_igraph_service_requires_implementation>
          <Function test_igraph_service_requires_create_node_method>
          <Coroutine test_igraph_service_mock_implementation>
          <Function test_igraph_service_has_docstring>
          <Function test_ireranking_service_requires_implementation>
          <Coroutine test_ireranking_service_mock_implementation>
          <Function test_ireranking_service_has_docstring>
          <Function test_idatabase_service_requires_implementation>
          <Function test_idatabase_service_requires_store_chunks_method>
          <Coroutine test_idatabase_service_mock_implementation>
          <Function test_idatabase_service_has_docstring>
          <Function test_all_interfaces_have_type_hints>
        <Module test_reranking_interface.py>
          <Class TestIRerankingServiceInterface>
            <Function test_interface_is_abstract>
            <Function test_interface_requires_rerank_method>
            <Function test_rerank_method_signature>
            <Function test_minimal_concrete_implementation>
        <Dir utils>
          <Module test_onnx_utils.py>
            <Class TestMeanPooling>
              <Function test_basic_pooling>
              <Function test_pooling_with_padding>
              <Function test_pooling_single_token>
            <Class TestNormalizeEmbeddings>
              <Function test_normalize_2d_array>
              <Function test_normalize_1d_array>
              <Function test_normalize_zero_vector>
              <Function test_normalize_already_normalized>
            <Class TestCosineSimilarity>
              <Function test_identical_vectors>
              <Function test_orthogonal_vectors>
              <Function test_opposite_vectors>
              <Function test_similar_vectors>
              <Function test_zero_vector>
              <Function test_2d_arrays>
            <Class TestGetModelMetadata>
              <Function test_metadata_extraction>
              <Function test_metadata_with_2d_output>
              <Function test_metadata_without_embedding_dim>
              <Function test_metadata_with_dynamic_shapes>
      <Package strategies>
        <Package agentic>
          <Module test_agent.py>
            <Function test_agent_state_initialization>
            <Function test_agent_state_add_tool_call>
            <Function test_agent_state_add_tool_result>
            <Function test_agent_state_should_continue_max_iterations>
            <Function test_agent_state_should_continue_sufficient_results>
            <Function test_agent_initialization>
            <Function test_agent_run_basic>
            <Function test_agent_planning_phase>
            <Function test_agent_tool_execution>
            <Function test_agent_tool_execution_not_found>
            <Function test_agent_synthesize_results>
            <Function test_agent_synthesize_results_ignores_failed>
            <Function test_agent_max_iterations>
            <Function test_agent_parse_tool_calls_structured>
            <Function test_agent_parse_tool_calls_done>
            <Function test_agent_parse_tool_calls_fallback>
          <Module test_query_analyzer.py>
            <Function test_query_analyzer_initialization>
            <Function test_extract_entities>
            <Function test_extract_entities_quoted>
            <Function test_extract_keywords>
            <Function test_assess_complexity_simple>
            <Function test_assess_complexity_complex>
            <Function test_assess_complexity_multiple_questions>
            <Function test_classify_type_factual>
            <Function test_classify_type_exploratory>
            <Function test_classify_type_specific_document>
            <Function test_classify_type_metadata>
            <Function test_recommend_tools_factual>
            <Function test_recommend_tools_specific_document>
            <Function test_recommend_tools_metadata>
            <Function test_recommend_tools_technical_terms>
            <Function test_analyze_full_workflow>
          <Module test_strategy.py>
            <Function test_config_defaults>
            <Function test_config_custom_values>
            <Function test_config_validation>
            <Function test_strategy_initialization>
            <Function test_strategy_initialization_with_config>
            <Function test_strategy_retrieve>
            <Function test_strategy_retrieve_with_query_analysis>
            <Function test_strategy_fallback_on_error>
            <Function test_strategy_no_fallback_raises_error>
            <Function test_strategy_get_stats>
            <Function test_strategy_top_k_limit>
          <Module test_tools.py>
            <Function test_tool_parameter_creation>
            <Function test_tool_result_creation>
            <Function test_tool_to_anthropic_format>
            <Function test_semantic_search_tool_definition>
            <Function test_semantic_search_tool_execute>
            <Function test_semantic_search_tool_error_handling>
            <Function test_document_reader_tool>
            <Function test_document_reader_tool_not_found>
            <Function test_document_reader_tool_invalid_id>
            <Function test_metadata_search_tool>
            <Function test_hybrid_search_tool>
        <Package chunking>
          <Module test_docling_chunker.py>
            <Function test_is_docling_available>
            <Function test_get_docling_version>
            <Function test_docling_chunker_import_error_when_not_installed>
            <Function test_docling_chunker_initialization>
            <Function test_docling_chunker_placeholder_warning>
            <Function test_docling_chunker_module_structure>
          <Module test_fixed_size_chunker.py>
            <Function test_fixed_size_chunker_initialization>
            <Function test_chunk_document_basic>
            <Function test_chunk_document_empty>
            <Function test_chunk_size_approximately_target>
            <Function test_chunk_overlap>
            <Function test_no_overlap>
            <Function test_chunk_multiple_documents>
            <Function test_get_overlap_words>
            <Function test_get_overlap_words_zero_overlap>
            <Function test_count_tokens>
            <Function test_single_word_document>
            <Function test_chunk_metadata>
            <Function test_create_chunk_helper>
          <Module test_hybrid_chunker.py>
            <Function test_hybrid_chunker_initialization_with_embeddings>
            <Function test_hybrid_chunker_initialization_without_embeddings>
            <Function test_chunk_markdown_document>
            <Function test_chunk_document_empty>
            <Function test_structural_only_mode>
            <Function test_semantic_refinement_of_large_chunks>
            <Function test_hierarchy_preservation>
            <Function test_chunk_multiple_documents>
            <Function test_atomic_content_not_split>
            <Function test_get_stats>
            <Function test_chunk_position_reindexing>
            <Function test_semantic_chunking_failure_fallback>
          <Module test_semantic_chunker.py>
            <Function test_semantic_chunker_initialization>
            <Function test_semantic_chunker_requires_embeddings>
            <Function test_chunk_document_basic>
            <Function test_chunk_document_empty>
            <Function test_split_into_sentences>
            <Function test_cosine_similarity>
            <Function test_detect_boundaries_high_similarity>
            <Function test_detect_boundaries_low_similarity>
            <Function test_single_sentence_document>
            <Function test_fallback_chunking>
            <Function test_chunk_multiple_documents>
            <Function test_count_tokens_with_tokenizer>
            <Function test_create_segments>
            <Function test_coherence_score_computation>
          <Module test_structural_chunker.py>
            <Function test_structural_chunker_initialization>
            <Function test_is_markdown_detection>
            <Function test_chunk_markdown_with_headers>
            <Function test_split_by_headers_hierarchy>
            <Function test_chunk_plain_text_by_paragraphs>
            <Function test_large_section_splitting>
            <Function test_empty_markdown_document>
            <Function test_markdown_with_code_blocks>
            <Function test_multiple_documents_batch>
            <Function test_split_into_paragraphs>
            <Function test_is_atomic_content_code_block>
            <Function test_is_atomic_content_table>
            <Function test_atomic_content_not_split>
            <Function test_respect_headers_disabled>
            <Function test_count_tokens>
        <Package contextual>
          <Module test_batch_processor.py>
            <Coroutine test_process_chunks_batching>
            <Coroutine test_parallel_batch_processing>
            <Coroutine test_cost_tracking_during_batch>
            <Coroutine test_error_handling_in_batch>
            <Coroutine test_sequential_batch_processing>
            <Coroutine test_batch_creation>
            <Coroutine test_contextualized_text_format>
          <Module test_context_generator.py>
            <Coroutine test_generate_context_basic>
            <Coroutine test_context_includes_document_metadata>
            <Coroutine test_skip_short_chunks>
            <Coroutine test_skip_code_blocks>
            <Coroutine test_fallback_on_error>
            <Coroutine test_context_length_validation>
            <Coroutine test_disabled_contextualization>
            <Function test_token_counting>
            <Function test_context_truncation>
          <Module test_cost_tracker.py>
            <Function test_calculate_cost>
            <Function test_record_chunk_cost>
            <Function test_cost_summary>
            <Function test_budget_alert>
            <Function test_reset>
            <Function test_check_budget_limit>
            <Function test_multiple_chunk_costs>
            <Function test_cost_per_1k_chunks>
            <Function test_empty_tracker_summary>
          <Module test_storage.py>
            <Function test_store_chunks>
            <Function test_store_without_context>
            <Function test_retrieve_original_format>
            <Function test_retrieve_contextualized_format>
            <Function test_retrieve_both_format>
            <Function test_retrieve_context_only>
            <Function test_store_multiple_chunks>
            <Function test_config_controls_storage>
        <Dir fine_tuned>
          <Module test_ab_testing.py>
            <Class TestABTestingFramework>
              <Function test_start_stop_experiment>
              <Function test_get_model_for_request>
              <Function test_record_and_stats>
          <Module test_custom_loader.py>
            <Class TestCustomModelLoader>
              <Function test_load_model_onnx>
              <Function test_load_model_pytorch>
              <Function test_load_model_fallback>
          <Module test_model_registry.py>
            <Class TestONNXModelRegistry>
              <Function test_register_model>
              <Function test_get_model>
              <Function test_list_models>
              <Function test_delete_model>
              <Function test_get_latest_version>
        <Package hierarchical>
          <Module test_hierarchy_builder.py>
            <Class TestHierarchyBuilder>
              <Function test_build_creates_root_chunk>
              <Function test_is_markdown_detection>
              <Function test_markdown_hierarchy_structure>
              <Function test_split_by_headers>
              <Function test_paragraph_hierarchy>
              <Function test_hierarchy_metadata>
              <Function test_parent_child_relationships>
              <Function test_min_chunk_size_respected>
              <Function test_max_hierarchy_depth>
              <Function test_empty_document>
              <Function test_document_with_no_structure>
            <Class TestHierarchyBuilderEdgeCases>
              <Function test_nested_headers_same_level>
              <Function test_header_without_content>
              <Function test_very_long_document>
          <Module test_parent_retriever.py>
            <Class TestParentRetriever>
              <Function test_expand_immediate_parent>
              <Function test_expand_no_parent>
              <Function test_deduplication>
              <Function test_adaptive_strategy_small_chunk>
              <Function test_adaptive_strategy_paragraph_level>
              <Function test_window_expansion>
            <Class TestParentRetrieverEdgeCases>
              <Function test_circular_reference_protection>
              <Function test_missing_parent_handling>
        <Dir indexing>
          <Module test_context_aware.py>
            <Function test_capabilities>
            <Function test_requirements>
            <Function test_split_into_sentences>
            <Function test_create_windows>
            <Function test_find_boundaries>
            <Function test_create_chunks_respects_boundaries>
            <Function test_create_chunks_respects_min_size>
            <Function test_create_chunks_respects_max_size>
            <Coroutine test_process_flow>
        <Package knowledge_graph>
          <Module test_entity_extractor.py>
            <Function test_entity_extraction_basic>
            <Function test_entity_extraction_with_confidence>
            <Function test_entity_deduplication>
            <Function test_batch_extraction>
            <Function test_invalid_json_response>
            <Function test_confidence_filtering>
          <Module test_hybrid_retriever.py>
            <Function test_hybrid_retrieval>
            <Function test_score_combination>
            <Function test_empty_vector_results>
            <Function test_entities_in_chunks>
            <Function test_graph_expansion>
            <Function test_top_k_limiting>
            <Function test_score_ordering>
          <Module test_memory_graph_store.py>
            <Function test_add_entity>
            <Function test_add_relationship>
            <Function test_graph_traversal>
            <Function test_find_entities_by_name>
            <Function test_graph_stats>
            <Function test_delete_entity>
            <Function test_clear_graph>
            <Function test_relationship_type_filtering>
        <Package late_chunking>
          <Module test_coherence_analyzer.py>
            <Function test_analyze_chunk_coherence>
            <Function test_coherence_score_calculation>
            <Function test_coherence_score_size_penalty>
            <Function test_compare_with_traditional>
            <Function test_compare_metrics_types>
            <Function test_coherence_with_no_scores>
            <Function test_analyze_preserves_chunk_data>
          <Module test_document_embedder.py>
            <Function test_document_embedding_basic>
            <Function test_token_embeddings_extracted>
            <Function test_mean_pooling>
            <Function test_mean_pooling_with_mask>
            <Function test_long_document_truncation>
            <Function test_batch_processing>
            <Function test_embedding_dimensions_consistent>
            <Function test_model_name_stored>
            <Function test_chunk_embeddings>
            <Function test_pool_embeddings_mean>
            <Function test_pool_embeddings_max>
            <Function test_pool_embeddings_first>
            <Function test_decode_tokens>
          <Module test_embedding_chunker.py>
            <Function test_fixed_size_chunking>
            <Function test_semantic_boundary_chunking>
            <Function test_adaptive_chunking>
            <Function test_chunk_text_reconstruction>
            <Function test_chunk_embedding_averaging>
            <Function test_cosine_similarity>
            <Function test_cosine_similarity_zero_vectors>
            <Function test_chunk_overlap>
            <Function test_chunk_ids_unique>
            <Function test_detect_semantic_boundaries>
            <Function test_hierarchical_chunking_fallback>
            <Function test_chunk_metadata>
        <Package multi_query>
          <Module test_deduplicator.py>
            <Function test_exact_deduplication>
            <Function test_frequency_tracking>
            <Function test_max_score_retention>
            <Function test_skip_failed_queries>
            <Function test_empty_results>
            <Function test_variant_indices_tracking>
            <Function test_near_duplicate_detection>
          <Module test_parallel_executor.py>
            <Coroutine test_execute_queries_parallel>
            <Coroutine test_execute_single_query>
            <Coroutine test_query_timeout_handling>
            <Coroutine test_partial_failure_handling>
            <Coroutine test_minimum_successful_queries>
            <Coroutine test_sync_vector_store_support>
          <Module test_ranker.py>
            <Function test_rank_by_max_score>
            <Function test_rank_by_frequency_boost>
            <Function test_rank_by_rrf>
            <Function test_top_k_selection>
            <Function test_empty_results>
            <Function test_hybrid_ranking>
            <Function test_ranking_preserves_metadata>
          <Module test_variant_generator.py>
            <Coroutine test_generate_variants_basic>
            <Coroutine test_generate_variants_include_original>
            <Coroutine test_generate_variants_exclude_original>
            <Coroutine test_variant_validation>
            <Coroutine test_variant_generation_failure_fallback>
            <Coroutine test_variant_deduplication>
            <Coroutine test_variant_generation_with_complete_method>
        <Package query_expansion>
          <Module test_base.py>
            <Class TestExpansionStrategy>
              <Function test_strategy_values>
            <Class TestExpandedQuery>
              <Function test_expanded_query_creation>
              <Function test_expanded_query_with_reasoning>
              <Function test_expanded_query_with_metadata>
            <Class TestExpansionConfig>
              <Function test_default_config>
              <Function test_custom_config>
            <Class TestIQueryExpander>
              <Function test_validate_query_empty>
              <Function test_validate_query_whitespace>
              <Function test_validate_query_too_long>
              <Function test_validate_query_valid>
              <Function test_extract_added_terms>
              <Function test_extract_added_terms_no_additions>
              <Function test_expand_mock>
          <Module test_expander_service.py>
            <Class TestQueryExpanderService>
              <Function test_service_initialization>
              <Function test_service_initialization_without_cache>
              <Function test_expand_basic>
              <Function test_expand_with_cache_hit>
              <Function test_expand_disabled>
              <Function test_expand_with_error_fallback>
              <Function test_multiple_variants>
              <Function test_get_stats>
              <Function test_clear_cache>
              <Function test_execution_time_tracked>
              <Function test_stats_average_execution_time>
              <Function test_cache_key_computation>
              <Function test_passthrough_result_metadata>
              <Function test_hyde_expander_used_for_hyde_strategy>
              <Function test_llm_expander_used_for_other_strategies>
          <Module test_llm_expander.py>
            <Class TestLLMQueryExpander>
              <Function test_initialization>
              <Function test_expand_query>
              <Function test_expand_calls_llm_with_correct_params>
              <Function test_validate_query_empty>
              <Function test_validate_query_too_long>
              <Function test_extract_added_terms>
              <Function test_expand_with_domain_context>
              <Function test_different_expansion_strategies>
              <Function test_metadata_includes_token_info>
              <Function test_llm_response_trimmed>
              <Function test_confidence_is_one>
          <Module test_prompts.py>
            <Class TestExpansionPrompts>
              <Function test_initialization>
              <Function test_get_system_prompt_keyword>
              <Function test_get_system_prompt_reformulation>
              <Function test_get_system_prompt_question_generation>
              <Function test_get_system_prompt_multi_query>
              <Function test_get_system_prompt_hyde>
              <Function test_custom_system_prompt>
              <Function test_get_user_prompt_keyword>
              <Function test_get_user_prompt_reformulation>
              <Function test_get_user_prompt_question_generation>
              <Function test_get_user_prompt_multi_query>
              <Function test_get_user_prompt_hyde>
        <Package reranking>
          <Module test_base.py>
            <Class TestRerankConfig>
              <Function test_default_config>
              <Function test_custom_config>
            <Class TestRerankResult>
              <Function test_rerank_result_creation>
            <Class TestRerankResponse>
              <Function test_rerank_response_creation>
              <Function test_rerank_response_with_metadata>
            <Class TestIReranker>
              <Function test_normalize_scores_basic>
              <Function test_normalize_scores_empty>
              <Function test_normalize_scores_all_same>
              <Function test_validate_inputs_empty_query>
              <Function test_validate_inputs_empty_documents>
              <Function test_validate_inputs_too_many_documents>
              <Function test_validate_inputs_valid>
              <Function test_mock_reranker_rerank>
              <Function test_mock_reranker_get_model_name>
          <Module test_cache.py>
            <Class TestRerankCache>
              <Function test_cache_initialization>
              <Function test_cache_set_and_get>
              <Function test_cache_miss>
              <Function test_cache_hit>
              <Function test_cache_expiration>
              <Function test_cache_clear>
              <Function test_evict_expired>
              <Function test_cache_stats>
              <Function test_cache_hit_rate>
              <Function test_compute_key_static>
              <Function test_compute_key_document_order>
              <Function test_multiple_entries>
              <Function test_cache_overwrite>
          <Module test_cosine_reranker.py>
            <Class TestCosineRerankerInitialization>
              <Function test_initialization_success>
              <Function test_initialization_without_embedder>
              <Function test_initialization_invalid_metric>
              <Function test_supported_metrics>
            <Class TestCosineRerankerReranking>
              <Function test_rerank_cosine_similarity>
              <Function test_rerank_dot_product>
              <Function test_rerank_euclidean_similarity>
              <Function test_rerank_empty_documents>
              <Function test_rerank_empty_query>
              <Function test_rerank_with_normalization>
            <Class TestCosineRerankerNormalization>
              <Function test_normalize_vector>
              <Function test_normalize_zero_vector>
              <Function test_normalize_batch>
            <Class TestCosineRerankerModelName>
              <Function test_get_model_name_cosine>
              <Function test_get_model_name_dot>
              <Function test_get_model_name_euclidean>
            <Class TestCosineRerankerPerformance>
              <Function test_large_batch_processing>
          <Module test_cross_encoder_reranker.py>
            <Class TestCrossEncoderReranker>
              <Function test_initialization>
              <Function test_initialization_with_cuda>
              <Function test_rerank_basic>
              <Function test_rerank_batching>
              <Function test_validate_empty_query>
              <Function test_validate_empty_documents>
              <Function test_validate_too_many_documents>
              <Function test_get_model_name>
              <Function test_model_name_shortcut>
            <Function test_import_error_without_dependencies>
          <Module test_metrics.py>
            <Class TestDCG>
              <Function test_dcg_basic>
              <Function test_dcg_empty>
              <Function test_dcg_at_k_limits>
            <Class TestNDCG>
              <Function test_ndcg_perfect_ranking>
              <Function test_ndcg_worst_ranking>
              <Function test_ndcg_empty>
              <Function test_ndcg_all_zeros>
              <Function test_ndcg_range>
            <Class TestMRR>
              <Function test_mrr_first_position>
              <Function test_mrr_second_position>
              <Function test_mrr_third_position>
              <Function test_mrr_multiple_positions>
              <Function test_mrr_empty>
            <Class TestPrecisionAtK>
              <Function test_precision_all_relevant>
              <Function test_precision_none_relevant>
              <Function test_precision_half_relevant>
              <Function test_precision_at_k_limits>
              <Function test_precision_empty>
            <Class TestRecallAtK>
              <Function test_recall_all_found>
              <Function test_recall_partial_found>
              <Function test_recall_at_k_limits>
              <Function test_recall_empty>
            <Class TestCompareRankings>
              <Function test_compare_improved_ranking>
              <Function test_compare_same_ranking>
              <Function test_compare_empty>
            <Class TestRankingCorrelation>
              <Function test_correlation_identical>
              <Function test_correlation_reversed>
              <Function test_correlation_different_lengths>
              <Function test_correlation_empty>
              <Function test_correlation_single_item>
            <Class TestRankingAnalyzer>
              <Function test_analyzer_initialization>
              <Function test_analyzer_add_ranking>
              <Function test_analyzer_multiple_rankings>
              <Function test_analyzer_improvement_rate>
              <Function test_analyzer_clear>
              <Function test_analyzer_average_metrics>
          <Module test_reranker_selector.py>
            <Class TestRerankerSelectorAvailability>
              <Function test_is_cohere_available_with_key_and_package>
              <Function test_is_cohere_available_no_key>
              <Function test_is_cohere_available_with_env_key>
              <Function test_is_torch_available_true>
              <Function test_is_torch_available_false>
              <Function test_get_available_rerankers>
            <Class TestRerankerSelectorAutoSelection>
              <Function test_auto_select_cohere_when_available>
              <Function test_auto_select_cosine_when_cohere_unavailable>
              <Function test_auto_select_with_custom_config>
            <Class TestRerankerSelectorManualSelection>
              <Function test_manual_select_cohere>
              <Function test_manual_select_cosine>
              <Function test_manual_select_bge_with_torch>
              <Function test_manual_select_bge_without_torch>
              <Function test_manual_select_cross_encoder_with_torch>
              <Function test_manual_select_cross_encoder_without_torch>
              <Function test_manual_select_unknown_type>
            <Class TestRerankerSelectorErrorMessages>
              <Function test_cohere_error_message_suggests_alternatives>
              <Function test_bge_error_message_suggests_alternatives>
              <Function test_cross_encoder_error_message_suggests_alternatives>
            <Class TestRerankerSelectorConfiguration>
              <Function test_config_api_key_overrides_env>
              <Function test_cosine_metric_configuration>
          <Module test_reranker_service.py>
            <Class TestCandidateDocument>
              <Function test_candidate_creation>
              <Function test_candidate_default_metadata>
            <Class TestRerankerService>
              <Function test_service_initialization>
              <Function test_service_without_cache>
              <Function test_rerank_basic>
              <Function test_rerank_empty_candidates>
              <Function test_rerank_top_k_limit>
              <Function test_cache_hit>
              <Function test_cache_disabled>
              <Function test_score_threshold>
              <Function test_fallback_on_error>
              <Function test_no_fallback_raises_error>
              <Function test_get_stats>
              <Function test_clear_cache>
              <Function test_score_normalization>
              <Function test_cohere_model_initialization>
        <Package self_reflective>
          <Module test_grader.py>
            <Function test_grade_results>
            <Function test_grade_parsing>
            <Function test_batch_grading>
            <Function test_grade_fallback_on_parse_error>
            <Function test_grade_levels>
            <Function test_empty_results>
            <Function test_grading_error_handling>
            <Function test_build_grading_prompt>
          <Module test_refiner.py>
            <Function test_refine_query>
            <Function test_identify_gaps>
            <Function test_parse_refinement>
            <Function test_refinement_with_previous_attempts>
            <Function test_refinement_strategies>
            <Function test_empty_grades>
            <Function test_refinement_error_handling>
            <Function test_build_refinement_prompt>
          <Module test_strategy.py>
            <Function test_retrieve_good_results_no_retry>
            <Function test_retrieve_poor_results_triggers_retry>
            <Function test_max_retries_enforced>
            <Function test_result_aggregation>
            <Function test_timeout_protection>
            <Function test_same_query_prevention>
            <Function test_normalize_results>
            <Function test_strategy_properties>
        <Module test_base.py>
          <Function test_interface_is_abstract>
          <Function test_interface_requires_all_abstract_methods>
          <Function test_strategy_config_defaults>
          <Function test_strategy_config_custom_values>
          <Function test_strategy_config_validation>
          <Function test_chunk_creation>
          <Function test_chunk_serialization>
          <Function test_prepared_data_creation>
          <Function test_query_result_creation>
          <Function test_minimal_concrete_implementation>
          <Function test_concrete_implementation_initialize>
          <Function test_type_hints_present>
          <Function test_async_method_signature>
          <Function test_initialize_type_hints>
          <Function test_prepare_data_type_hints>
          <Function test_process_query_type_hints>
        <Module test_base_strategy_di.py>
          <Class TestBaseStrategyDI>
            <Function test_strategy_with_all_required_services>
            <Function test_strategy_fails_without_required_llm_service>
            <Function test_strategy_fails_without_required_embedding_service>
            <Function test_strategy_fails_with_no_services>
            <Function test_error_message_is_clear_and_helpful>
            <Function test_strategy_with_extra_unused_services>
          <Class TestStrategyWithNoRequirements>
            <Function test_strategy_with_no_service_requirements>
            <Function test_strategy_with_no_requirements_accepts_services>
          <Class TestDifferentServiceCombinations>
            <Function test_database_only_strategy>
            <Function test_database_only_strategy_fails_without_database>
      <Module test_config.py>
        <Function test_load_from_yaml>
        <Function test_load_from_json>
        <Function test_load_from_dict>
        <Function test_file_not_found_raises_error>
        <Function test_invalid_yaml_raises_error>
        <Function test_invalid_json_raises_error>
        <Function test_unsupported_file_format_raises_error>
        <Function test_empty_yaml_loads_as_empty_dict>
        <Function test_validation_enforces_chunk_size_range>
        <Function test_validation_enforces_chunk_size_max>
        <Function test_validation_enforces_top_k_min>
        <Function test_validation_enforces_log_level>
        <Function test_validation_accepts_valid_log_levels>
        <Function test_validation_normalizes_log_level_case>
        <Function test_default_config_loaded>
        <Function test_user_config_merged_with_defaults>
        <Function test_get_strategy_config_returns_default>
        <Function test_environment_from_env_variable>
        <Function test_environment_override_merges_correctly>
        <Function test_environment_override_nonexistent_file>
        <Function test_deep_merge_nested_dicts>
        <Function test_get_with_dot_notation>
        <Function test_get_missing_key_returns_default>
        <Function test_get_strategy_config>
        <Function test_get_before_load_raises_error>
        <Function test_to_dict_exports_config>
        <Function test_to_dict_before_load_raises_error>
        <Function test_config_property_returns_schema>
        <Function test_hot_reload_detects_file_changes>
        <Function test_hot_reload_without_config_path_raises_error>
        <Function test_disable_hot_reload>
        <Function test_reload_method_reloads_config>
        <Function test_strategy_config_schema_defaults>
        <Function test_global_config_schema_defaults>
        <Function test_pipeline_config_schema_defaults>
        <Function test_rag_config_schema_defaults>
        <Function test_config_manager_singleton>
        <Function test_config_file_handler_initialization>
      <Module test_factory.py>
        <Function test_factory_can_be_created>
        <Function test_factory_has_empty_registry_initially>
        <Function test_register_strategy_adds_to_registry>
        <Function test_register_duplicate_raises_error>
        <Function test_register_duplicate_with_override>
        <Function test_unregister_strategy>
        <Function test_unregister_nonexistent_strategy>
        <Function test_list_strategies_returns_all_names>
        <Function test_create_strategy_returns_instance>
        <Function test_create_unknown_strategy_raises_error>
        <Function test_create_strategy_with_config>
        <Function test_strategy_not_found_error_message_includes_available>
        <Function test_create_strategy_without_config>
        <Function test_invalid_config_raises_error>
        <Function test_strategy_initialization_error_propagates>
        <Function test_register_decorator_auto_registers>
        <Function test_decorator_returns_class_unchanged>
        <Function test_create_from_yaml_config>
        <Function test_create_from_json_config>
        <Function test_create_from_nonexistent_config_file>
        <Function test_create_from_invalid_yaml>
        <Function test_create_from_config_missing_strategy_name>
        <Function test_set_dependency>
        <Function test_get_dependency>
        <Function test_get_nonexistent_dependency>
        <Function test_registry_is_class_level>
        <Function test_create_from_unsupported_file_format>
        <Function test_clear_registry>
        <Function test_clear_dependencies>
      <Module test_factory_di.py>
        <Function test_factory_initialization_with_no_services>
        <Function test_factory_initialization_with_llm_service>
        <Function test_factory_initialization_with_all_services>
        <Function test_factory_initialization_with_partial_services>
        <Function test_create_strategy_with_required_services>
        <Function test_create_strategy_without_required_services>
        <Function test_create_strategy_with_partial_services>
        <Function test_create_strategy_with_no_service_requirements>
        <Function test_create_database_only_strategy>
        <Function test_create_strategy_with_extra_services>
        <Function test_create_strategy_with_override_dependencies>
        <Function test_override_dependencies_can_add_missing_services>
        <Function test_override_dependencies_still_validates_requirements>
        <Function test_error_message_includes_strategy_name>
        <Function test_error_message_lists_missing_services>
        <Function test_create_strategy_without_config>
        <Function test_create_strategy_with_config>
        <Function test_create_from_config_with_dependencies>
        <Function test_multiple_strategies_with_same_factory>
        <Function test_class_level_dependencies_still_exist>
        <Function test_set_and_get_dependency_still_work>
        <Function test_legacy_create_strategy_method_exists>
      <Module test_package.py>
        <Class TestImports>
          <Function test_import_main_package>
          <Function test_import_factory>
          <Function test_import_pipeline>
          <Function test_import_config>
          <Function test_import_base_strategy>
          <Function test_import_all_exports>
        <Class TestVersion>
          <Function test_version_format>
          <Function test_version_accessible>
        <Class TestPackageStructure>
          <Function test_strategies_subpackage_exists>
          <Function test_no_circular_imports>
        <Class TestDependencies>
          <Function test_required_dependencies_installed>
          <Function test_optional_dependencies_handled>
      <Module test_pipeline.py>
        <Function test_pipeline_can_be_created>
        <Function test_pipeline_add_stage>
        <Function test_pipeline_chaining>
        <Function test_sequential_execution_order>
        <Function test_sequential_execution_collects_results>
        <Coroutine test_parallel_execution>
        <Function test_strategy_error_caught>
        <Function test_fallback_strategy_executed>
        <Function test_duplicate_results_removed>
        <Function test_results_sorted_by_score>
        <Function test_performance_metrics_collected>
        <Function test_from_config_creates_pipeline>
        <Function test_cascade_mode_not_implemented>
        <Coroutine test_cascade_mode_not_implemented_async>
        <Function test_required_stage_failure_raises_exception>
        <Coroutine test_required_stage_failure_raises_exception_async>
        <Function test_fallback_failure_when_required>
        <Coroutine test_fallback_failure_when_required_async>
        <Coroutine test_parallel_required_stage_failure>
        <Coroutine test_parallel_required_fallback_failure>
        <Function test_non_required_fallback_failure_continues>
        <Coroutine test_non_required_fallback_failure_continues_async>
        <Coroutine test_parallel_non_required_fallback_success>
        <Coroutine test_parallel_non_required_both_fail>
      <Dir utils>
        <Module test_token_counter.py>
          <Class TestTokenCounter>
            <Function test_initialization>
            <Function test_count_messages>
            <Function test_count_messages_empty>
            <Function test_count_function_call>
            <Function test_count_function_call_complex_args>
          <Class TestTokenBudget>
            <Function test_initialization>
            <Function test_initialization_with_reserve>
            <Function test_add_text_within_budget>
            <Function test_add_text_exceeds_budget>
            <Function test_add_text_exact_budget>
            <Function test_add_texts>
            <Function test_add_texts_all_fit>
            <Function test_add_texts_none_fit>
            <Function test_remaining>
            <Function test_reset>
            <Function test_multiple_adds_and_reset>
            <Function test_budget_with_reserve>
          <Class TestTokenBudgetEdgeCases>
            <Function test_zero_budget>
            <Function test_empty_text>
            <Function test_reserve_equals_max>
            <Function test_reserve_exceeds_max>
        <Module test_tokenization.py>
          <Class TestTokenizer>
            <Function test_initialization_with_encoding>
            <Function test_initialization_with_model>
            <Function test_default_initialization>
            <Function test_encode_decode>
            <Function test_count_tokens>
            <Function test_truncate>
            <Function test_truncate_no_truncation_needed>
            <Function test_split_by_tokens>
            <Function test_split_with_overlap>
            <Function test_split_short_text>
            <Function test_fallback_tokenization>
            <Function test_no_fallback_raises_error>
            <Function test_different_encodings>
            <Function test_special_characters>
            <Function test_empty_text>
          <Class TestConvenienceFunctions>
            <Function test_count_tokens>
            <Function test_truncate_text>
            <Function test_split_text_by_tokens>
          <Class TestEncodingFunctions>
            <Function test_get_encoding>
            <Function test_get_encoding_caching>
            <Function test_get_encoding_invalid>
            <Function test_get_encoding_for_model>
            <Function test_get_encoding_for_unknown_model>
          <Class TestMultilingualSupport>
            <Function test_multilingual_text>
            <Function test_mixed_language_text>

=============================== warnings summary ===============================
rag_factory/services/llm/config.py:8
  /mnt/MCPProyects/ragTools/rag_factory/services/llm/config.py:8: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class LLMServiceConfig(BaseModel):

rag_factory/database/config.py:12
  /mnt/MCPProyects/ragTools/rag_factory/database/config.py:12: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class DatabaseConfig(BaseSettings):

rag_factory/strategies/contextual/config.py:31
  /mnt/MCPProyects/ragTools/rag_factory/strategies/contextual/config.py:31: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ContextualRetrievalConfig(BaseModel):

tests/benchmarks/test_contextual_performance.py:34
  /mnt/MCPProyects/ragTools/tests/benchmarks/test_contextual_performance.py:34: PytestUnknownMarkWarning: Unknown pytest.mark.benchmark - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.benchmark

tests/benchmarks/test_contextual_performance.py:67
  /mnt/MCPProyects/ragTools/tests/benchmarks/test_contextual_performance.py:67: PytestUnknownMarkWarning: Unknown pytest.mark.benchmark - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.benchmark

tests/benchmarks/test_contextual_performance.py:113
  /mnt/MCPProyects/ragTools/tests/benchmarks/test_contextual_performance.py:113: PytestUnknownMarkWarning: Unknown pytest.mark.benchmark - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.benchmark

tests/benchmarks/test_contextual_performance.py:144
  /mnt/MCPProyects/ragTools/tests/benchmarks/test_contextual_performance.py:144: PytestUnknownMarkWarning: Unknown pytest.mark.benchmark - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.benchmark

tests/benchmarks/test_contextual_performance.py:178
  /mnt/MCPProyects/ragTools/tests/benchmarks/test_contextual_performance.py:178: PytestUnknownMarkWarning: Unknown pytest.mark.benchmark - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.benchmark

tests/benchmarks/test_contextual_performance.py:197
  /mnt/MCPProyects/ragTools/tests/benchmarks/test_contextual_performance.py:197: PytestUnknownMarkWarning: Unknown pytest.mark.benchmark - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.benchmark

rag_factory/strategies/late_chunking/models.py:21
  /mnt/MCPProyects/ragTools/rag_factory/strategies/late_chunking/models.py:21: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class TokenEmbedding(BaseModel):

rag_factory/strategies/late_chunking/models.py:34
  /mnt/MCPProyects/ragTools/rag_factory/strategies/late_chunking/models.py:34: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class DocumentEmbedding(BaseModel):

rag_factory/strategies/late_chunking/models.py:49
  /mnt/MCPProyects/ragTools/rag_factory/strategies/late_chunking/models.py:49: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class EmbeddingChunk(BaseModel):

tests/benchmarks/test_late_chunking_performance.py:37
  /mnt/MCPProyects/ragTools/tests/benchmarks/test_late_chunking_performance.py:37: PytestUnknownMarkWarning: Unknown pytest.mark.benchmark - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.benchmark

tests/benchmarks/test_late_chunking_performance.py:58
  /mnt/MCPProyects/ragTools/tests/benchmarks/test_late_chunking_performance.py:58: PytestUnknownMarkWarning: Unknown pytest.mark.benchmark - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.benchmark

tests/benchmarks/test_late_chunking_performance.py:83
  /mnt/MCPProyects/ragTools/tests/benchmarks/test_late_chunking_performance.py:83: PytestUnknownMarkWarning: Unknown pytest.mark.benchmark - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.benchmark

tests/benchmarks/test_late_chunking_performance.py:107
  /mnt/MCPProyects/ragTools/tests/benchmarks/test_late_chunking_performance.py:107: PytestUnknownMarkWarning: Unknown pytest.mark.benchmark - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.benchmark

tests/benchmarks/test_late_chunking_performance.py:129
  /mnt/MCPProyects/ragTools/tests/benchmarks/test_late_chunking_performance.py:129: PytestUnknownMarkWarning: Unknown pytest.mark.benchmark - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.benchmark

tests/benchmarks/test_late_chunking_performance.py:165
  /mnt/MCPProyects/ragTools/tests/benchmarks/test_late_chunking_performance.py:165: PytestUnknownMarkWarning: Unknown pytest.mark.benchmark - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.benchmark

tests/benchmarks/test_late_chunking_performance.py:190
  /mnt/MCPProyects/ragTools/tests/benchmarks/test_late_chunking_performance.py:190: PytestUnknownMarkWarning: Unknown pytest.mark.benchmark - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.benchmark

tests/benchmarks/test_late_chunking_performance.py:215
  /mnt/MCPProyects/ragTools/tests/benchmarks/test_late_chunking_performance.py:215: PytestUnknownMarkWarning: Unknown pytest.mark.benchmark - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.benchmark

tests/benchmarks/test_model_comparison_performance.py:8
  /mnt/MCPProyects/ragTools/tests/benchmarks/test_model_comparison_performance.py:8: PytestUnknownMarkWarning: Unknown pytest.mark.benchmark - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.benchmark

tests/benchmarks/test_model_comparison_performance.py:30
  /mnt/MCPProyects/ragTools/tests/benchmarks/test_model_comparison_performance.py:30: PytestUnknownMarkWarning: Unknown pytest.mark.benchmark - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.benchmark

tests/benchmarks/test_model_comparison_performance.py:56
  /mnt/MCPProyects/ragTools/tests/benchmarks/test_model_comparison_performance.py:56: PytestUnknownMarkWarning: Unknown pytest.mark.benchmark - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.benchmark

tests/benchmarks/test_model_comparison_performance.py:93
  /mnt/MCPProyects/ragTools/tests/benchmarks/test_model_comparison_performance.py:93: PytestUnknownMarkWarning: Unknown pytest.mark.benchmark - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.benchmark

tests/benchmarks/test_model_comparison_performance.py:126
  /mnt/MCPProyects/ragTools/tests/benchmarks/test_model_comparison_performance.py:126: PytestUnknownMarkWarning: Unknown pytest.mark.benchmark - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.benchmark

tests/benchmarks/test_model_comparison_performance.py:168
  /mnt/MCPProyects/ragTools/tests/benchmarks/test_model_comparison_performance.py:168: PytestUnknownMarkWarning: Unknown pytest.mark.benchmark - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.benchmark

rag_factory/strategies/fine_tuned/config.py:6
  /mnt/MCPProyects/ragTools/rag_factory/strategies/fine_tuned/config.py:6: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class FineTunedConfig(BaseSettings):

rag_factory/strategies/agentic/config.py:9
  /mnt/MCPProyects/ragTools/rag_factory/strategies/agentic/config.py:9: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class AgenticStrategyConfig(BaseModel):

tests/unit/test_factory.py:35
  /mnt/MCPProyects/ragTools/tests/unit/test_factory.py:35: PytestCollectionWarning: cannot collect test class 'TestStrategy' because it has a __init__ constructor (from: tests/unit/test_factory.py)
    class TestStrategy(IRAGStrategy):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.12.3-final-0 ________________

Name                                                               Stmts   Miss  Cover   Missing
------------------------------------------------------------------------------------------------
rag_factory/__init__.py                                               37      9    76%   100-101, 107-109, 121-122, 130-131
rag_factory/__version__.py                                             1      0   100%
rag_factory/cli/__init__.py                                            2      0   100%
rag_factory/cli/commands/__init__.py                                   1      0   100%
rag_factory/cli/commands/benchmark.py                                 96     81    16%   40-53, 64-84, 148-263
rag_factory/cli/commands/check_consistency.py                         38     28    26%   64-113
rag_factory/cli/commands/config.py                                    78     68    13%   26-64, 102-188
rag_factory/cli/commands/index.py                                     65     52    20%   29-39, 93-185
rag_factory/cli/commands/query.py                                     47     36    23%   73-149
rag_factory/cli/commands/repl.py                                     153    132    14%   28-56, 63-108, 112-120, 124-133, 137-155, 159-172, 176-187, 191-208, 212-221, 254-261
rag_factory/cli/commands/strategies.py                                45     36    20%   48-120
rag_factory/cli/commands/validate_pipeline.py                         70     57    19%   57-156
rag_factory/cli/formatters/__init__.py                                 4      0   100%
rag_factory/cli/formatters/consistency.py                             61     55    10%   21-69, 79-103, 108-138
rag_factory/cli/formatters/output.py                                  20      9    55%   23-24, 43-44, 63-64, 74, 79, 84
rag_factory/cli/formatters/results.py                                 71     62    13%   28-55, 72-99, 116-144, 157-181
rag_factory/cli/formatters/validation.py                              63     53    16%   25-43, 48-56, 65-77, 86-98, 103-129, 134-137
rag_factory/cli/main.py                                               30     10    67%   25-28, 48-49, 74-76, 80
rag_factory/cli/utils/__init__.py                                      3      0   100%
rag_factory/cli/utils/progress.py                                     14      8    43%   34-47, 73-76
rag_factory/cli/utils/validation.py                                   53     42    21%   30-41, 57-77, 93-118, 135
rag_factory/config.py                                                155     99    36%   134-139, 189-191, 216-232, 247-266, 275, 301-310, 327-335, 357-369, 388-395, 416-440, 449-452, 464-469, 479, 496-498, 506-508, 521-526, 536-542
rag_factory/core/__init__.py                                           4      4     0%   7-23
rag_factory/core/capabilities.py                                      61     16    74%   129, 155, 173-174, 239-253
rag_factory/core/indexing_interface.py                                54     35    35%   55-57, 118-123, 144, 164, 208, 260, 272, 292-313, 341-364
rag_factory/core/pipeline.py                                          49     35    29%   22-24, 33-40, 55-77, 95-96, 105-108, 117-120, 137-146
rag_factory/core/retrieval_interface.py                               38     20    47%   56-58, 112-117, 138, 158, 196, 247, 259, 285-309
rag_factory/database/__init__.py                                       4      0   100%
rag_factory/database/config.py                                        17      0   100%
rag_factory/database/connection.py                                    80     54    32%   40-48, 61-86, 96, 107, 126-137, 150-157, 165-170, 178-183, 196-197, 209-214, 218, 222
rag_factory/database/env_validator.py                                 38     22    42%   46-54, 66-77, 86-88, 114-126, 139
rag_factory/database/models.py                                        85     32    62%   31-34, 37-45, 48-54, 66-69, 72-77, 80-85, 181, 323-325
rag_factory/database/vector_indexing.py                               38     28    26%   27, 44-82, 90-96, 104-114
rag_factory/evaluation/__init__.py                                     4      0   100%
rag_factory/evaluation/analysis/__init__.py                            3      0   100%
rag_factory/evaluation/analysis/comparison.py                        135    122    10%   35, 56-86, 95-128, 135-165, 172-196, 221-282, 305-323
rag_factory/evaluation/analysis/statistics.py                         81     59    27%   65-68, 97-125, 152-159, 182-196, 219-227, 251-257, 269-277, 305-320
rag_factory/evaluation/benchmarks/__init__.py                          3      0   100%
rag_factory/evaluation/benchmarks/config.py                           25      9    64%   48-55, 64
rag_factory/evaluation/benchmarks/runner.py                          155    122    21%   17-18, 55, 72-73, 86-88, 124-131, 156-246, 264-311, 333-372, 376-381, 385-386, 414-423
rag_factory/evaluation/datasets/__init__.py                            3      0   100%
rag_factory/evaluation/datasets/loader.py                             88     74    16%   42-60, 88-106, 130-152, 173-204, 226-236, 240-257, 261-271, 275-281
rag_factory/evaluation/datasets/schema.py                             52     30    42%   45-51, 80, 84, 88, 100-103, 116-139, 148-160
rag_factory/evaluation/datasets/statistics.py                         65     65     0%   8-226
rag_factory/evaluation/exporters/__init__.py                           4      0   100%
rag_factory/evaluation/exporters/csv_exporter.py                      52     43    17%   33-39, 43-48, 57-84, 100-124
rag_factory/evaluation/exporters/html_exporter.py                     47     39    17%   31-37, 41-165, 181-187, 192-293
rag_factory/evaluation/exporters/json_exporter.py                     19     12    37%   34-42, 58-68
rag_factory/evaluation/metrics/__init__.py                             3      0   100%
rag_factory/evaluation/metrics/base.py                                31      6    81%   76-77, 93, 99, 111, 115
rag_factory/evaluation/metrics/cost.py                                65     65     0%   8-313
rag_factory/evaluation/metrics/performance.py                         42     42     0%   8-202
rag_factory/evaluation/metrics/quality.py                             84     84     0%   8-377
rag_factory/evaluation/metrics/retrieval.py                           77     49    36%   44-47, 66-70, 84, 117-120, 139-151, 165, 187, 206-220, 233, 268-271, 290-313, 327, 361-364, 383-387, 401
rag_factory/exceptions.py                                             13      0   100%
rag_factory/factory.py                                               187    141    25%   109-116, 144, 165-170, 202-230, 256-270, 300-324, 347-348, 365, 384, 401, 418, 435, 451-460, 480-502, 528-545, 568-611, 644-699, 703-715, 744-749
rag_factory/models/__init__.py                                         6      0   100%
rag_factory/models/embedding/__init__.py                               4      0   100%
rag_factory/models/embedding/loader.py                               179    152    15%   8, 16-18, 23-25, 45, 60-88, 92-97, 101-114, 118-135, 139-166, 175-191, 200-235, 244-313, 322-341, 350-367
rag_factory/models/embedding/models.py                                47      0   100%
rag_factory/models/embedding/registry.py                             128    110    14%   30-34, 38-61, 65-76, 88-100, 112-125, 145-164, 176-192, 210-220, 231-241, 252-263, 273-282
rag_factory/models/evaluation/__init__.py                              3      0   100%
rag_factory/models/evaluation/ab_testing.py                           97     80    18%   10-12, 33-34, 42-45, 56-60, 77-88, 106-216, 234-257, 273-279
rag_factory/models/evaluation/models.py                               29      0   100%
rag_factory/observability/__init__.py                                  3      0   100%
rag_factory/observability/integrations/__init__.py                     1      1     0%   3
rag_factory/observability/integrations/prometheus.py                  47     47     0%   3-229
rag_factory/observability/logging/__init__.py                          2      0   100%
rag_factory/observability/logging/config.py                           16     16     0%   3-37
rag_factory/observability/logging/filters.py                          41     25    39%   37-49, 61-74, 91-93, 101-103
rag_factory/observability/logging/logger.py                           86     46    47%   49, 99-103, 108-115, 140-162, 190-229, 250, 270, 290-291, 306, 315, 324, 333, 344-373, 394-396
rag_factory/observability/metrics/__init__.py                          2      0   100%
rag_factory/observability/metrics/collector.py                       143     96    33%   66-68, 77-79, 88-90, 99, 108, 117, 128-143, 193-198, 221-266, 284-290, 304, 335-340, 352-364, 372-404, 442-443, 457-459
rag_factory/observability/metrics/cost.py                             39     20    49%   90-92, 113-124, 136, 153-159, 176, 192, 200, 219-221
rag_factory/observability/metrics/performance.py                      64     41    36%   50-51, 64-84, 92-94, 111-124, 142, 153-160, 168-171, 194-196
rag_factory/observability/monitoring/__init__.py                       1      1     0%   3
rag_factory/observability/monitoring/api.py                          101    101     0%   3-328
rag_factory/pipeline.py                                              156    118    24%   131-134, 160-167, 184-188, 205-209, 222-254, 277-312, 335-377, 402-406, 422-430, 444-450, 489-507
rag_factory/repositories/__init__.py                                   5      0   100%
rag_factory/repositories/base.py                                      42     21    50%   38, 53, 70, 87, 103, 114-118, 125, 136-139, 159-164
rag_factory/repositories/chunk.py                                    203    177    13%   40-45, 68-76, 90-95, 120-133, 155-171, 187-202, 221-231, 250-261, 287-335, 362-409, 435-493, 508-518, 532-540, 556-562, 576-582, 596-606, 623-645, 658-689
rag_factory/repositories/document.py                                  93     74    20%   41-46, 63-68, 98-118, 140-156, 172-187, 206, 223-233, 247-255, 272-279, 290-293, 307-312
rag_factory/repositories/exceptions.py                                18      7    61%   34-36, 56-59
rag_factory/services/__init__.py                                       8      0   100%
rag_factory/services/api/__init__.py                                   4      0   100%
rag_factory/services/api/anthropic.py                                 27     18    33%   46-52, 76-94, 118-141
rag_factory/services/api/cohere.py                                    30     19    37%   14-15, 49-59, 82-113
rag_factory/services/api/openai.py                                    46     31    33%   45-51, 75-93, 117-140, 168-174, 189-199, 216-227, 235
rag_factory/services/consistency.py                                   32     24    25%   80-113, 144-170
rag_factory/services/database/__init__.py                              3      0   100%
rag_factory/services/database/neo4j.py                                54     36    33%   14, 60-71, 79-84, 103-114, 134-150, 172-181, 188-191, 195, 199
rag_factory/services/database/postgres.py                             91     71    22%   17-18, 72-87, 97-111, 115-139, 152-185, 209-242, 256-271, 286-301, 333-351, 358-361, 365, 369
rag_factory/services/dependencies.py                                  41     21    49%   96-109, 134-140, 176-180
rag_factory/services/embedding/__init__.py                             4      0   100%
rag_factory/services/embedding/base.py                                31      6    81%   44, 59, 68, 77, 86, 98
rag_factory/services/embedding/cache.py                               43     33    23%   26-32, 43-58, 67-76, 80-82, 90-94
rag_factory/services/embedding/config.py                              29     13    55%   37-43, 50-68, 80
rag_factory/services/embedding/providers/__init__.py                   5      0   100%
rag_factory/services/embedding/providers/cohere.py                    53     36    32%   10-20, 55-75, 90-117, 125, 133, 141, 152-153
rag_factory/services/embedding/providers/local.py                     43     27    37%   8-9, 46-67, 83-109, 117, 125, 133, 146
rag_factory/services/embedding/providers/onnx_local.py                85     61    28%   18-19, 24-25, 89-155, 171-221, 232-251, 262, 270, 278, 291
rag_factory/services/embedding/providers/openai.py                    51     34    33%   10-20, 53-72, 87-108, 116, 124, 132, 143-144
rag_factory/services/embedding/rate_limiter.py                        20     14    30%   27-37, 45-53
rag_factory/services/embedding/service.py                            100     83    17%   50-62, 79-93, 117-198, 220-222, 233-239, 248-266, 273-275
rag_factory/services/interfaces.py                                    35      0   100%
rag_factory/services/llm/__init__.py                                   5      0   100%
rag_factory/services/llm/base.py                                      43      0   100%
rag_factory/services/llm/config.py                                    23     11    52%   42-57
rag_factory/services/llm/prompt_template.py                           43     24    44%   47-82, 97-100, 111-115
rag_factory/services/llm/providers/__init__.py                        12     10    17%   10-22
rag_factory/services/llm/providers/anthropic.py                       57     42    26%   44-50, 64-97, 120-147, 171-172, 184-189, 197, 205
rag_factory/services/llm/providers/ollama.py                          55     42    24%   22-24, 37-67, 93-122, 142-143, 157, 165, 174, 185-196
rag_factory/services/llm/providers/openai.py                          44     28    36%   50-56, 70-95, 118-143, 158, 170-175, 183, 191
rag_factory/services/llm/service.py                                   66     51    23%   32-39, 56-70, 93-129, 154-175, 186, 194-198, 215-216
rag_factory/services/llm/token_counter.py                             27     17    37%   22-41, 56-57, 71-72
rag_factory/services/local/__init__.py                                 2      0   100%
rag_factory/services/local/reranker.py                                32     22    31%   13-14, 45-52, 78-116
rag_factory/services/onnx/__init__.py                                  2      0   100%
rag_factory/services/onnx/embedding.py                                29     19    34%   54-68, 83-93, 110-121, 129
rag_factory/services/utils/__init__.py                                 2      0   100%
rag_factory/services/utils/model_converter.py                        104    104     0%   8-291
rag_factory/services/utils/onnx_utils.py                             131    110    16%   22-23, 28-29, 40-48, 75-100, 126-147, 173-219, 241-275, 292-313, 333-348, 361-379, 393-405
rag_factory/services/utils/reranker_selector.py                       68     53    22%   57-96, 115-125, 135-139, 162-231, 249
rag_factory/strategies/__init__.py                                     2      0   100%
rag_factory/strategies/agentic/__init__.py                             7      0   100%
rag_factory/strategies/agentic/agent.py                              151    130    14%   31-36, 45, 57, 66-90, 109-111, 123-161, 190-214, 230-265, 276-293, 310-331, 339-346, 357-368, 381-420
rag_factory/strategies/agentic/config.py                              12      0   100%
rag_factory/strategies/agentic/frameworks/__init__.py                  1      1     0%   9
rag_factory/strategies/agentic/query_analyzer.py                      89     65    27%   50-55, 67, 79-90, 109-125, 137-147, 159-178, 196-214, 225-260, 278
rag_factory/strategies/agentic/strategy.py                            76     53    30%   48-64, 76, 87-95, 107, 119, 132, 145-185, 197-221, 230, 239, 247
rag_factory/strategies/agentic/tool_implementations.py               135     91    33%   36-37, 41, 45, 52, 86-129, 148-149, 153, 157, 164, 182-247, 266-267, 271, 275, 282, 329-373, 392-393, 397, 401, 407, 446-511
rag_factory/strategies/agentic/tools.py                               40      9    78%   66, 79, 89, 101, 112, 139-142
rag_factory/strategies/base.py                                        55     13    76%   80-85, 169-178
rag_factory/strategies/chunking/__init__.py                           15      4    73%   45-48
rag_factory/strategies/chunking/base.py                               91     35    62%   115-128, 146, 159, 171, 182-196, 207-217, 228-256
rag_factory/strategies/chunking/docling_chunker.py                    45     26    42%   18, 61-73, 89-101, 112, 131-136, 147-152, 163-168, 186-188
rag_factory/strategies/chunking/fixed_size_chunker.py                 74     61    18%   8-9, 33-46, 58-111, 122, 145-159, 171-185, 196-204
rag_factory/strategies/chunking/hybrid_chunker.py                     70     58    17%   36-48, 63-132, 143, 157-160, 173-192
rag_factory/strategies/chunking/semantic_chunker.py                  195    171    12%   9-10, 14-15, 45-71, 83-128, 139, 155-156, 172-177, 193-206, 218-227, 245-277, 293-328, 340-386, 397-423, 434-441, 459-473, 485-534
rag_factory/strategies/chunking/structural_chunker.py                147    128    13%   9-10, 37-50, 62-69, 80, 95, 107-144, 155-201, 222-288, 299-305, 317-366, 377-385, 399-425
rag_factory/strategies/chunking/utils.py                              89     89     0%   3-264
rag_factory/strategies/contextual/__init__.py                          7      0   100%
rag_factory/strategies/contextual/batch_processor.py                  86     71    17%   41-43, 60-73, 85-91, 109-129, 146-162, 179-200, 217-257
rag_factory/strategies/contextual/config.py                           46      0   100%
rag_factory/strategies/contextual/context_generator.py                84     70    17%   35-36, 59-99, 112-135, 152-194, 209, 224-234
rag_factory/strategies/contextual/cost_tracker.py                     32     21    34%   31-35, 48-51, 69-82, 94-99, 111-114, 126
rag_factory/strategies/contextual/prompts.py                          25     17    32%   85-106, 119
rag_factory/strategies/contextual/storage.py                          44     35    20%   32-33, 42-45, 54-81, 98-118
rag_factory/strategies/contextual/strategy.py                         63     39    38%   51-64, 72, 93-140, 157, 170, 191-199, 215-242, 247, 252, 261
rag_factory/strategies/fine_tuned/__init__.py                          4      0   100%
rag_factory/strategies/fine_tuned/ab_testing.py                       78     45    42%   40-42, 46-47, 51-53, 62-84, 88, 93-134
rag_factory/strategies/fine_tuned/config.py                           11      0   100%
rag_factory/strategies/fine_tuned/custom_loader.py                    40     28    30%   17-19, 36-73, 77, 84-88
rag_factory/strategies/fine_tuned/model_registry.py                  126     96    24%   39-50, 80-112, 132-149, 166-178, 182-196, 200-223, 227-240, 249-270, 274-287, 291-303
rag_factory/strategies/hierarchical/__init__.py                        5      0   100%
rag_factory/strategies/hierarchical/hierarchy_builder.py              79     65    18%   35-36, 49-75, 92-93, 113-149, 167-201, 220, 249-281, 310-335
rag_factory/strategies/hierarchical/models.py                         58      0   100%
rag_factory/strategies/hierarchical/parent_retriever.py               89     77    13%   38-40, 56-92, 103-113, 130-149, 166-196, 213-227, 250-257, 268-278
rag_factory/strategies/hierarchical/strategy.py                       63     48    24%   45-70, 83, 94-126, 144-152, 180-214, 228, 242-243, 259-275
rag_factory/strategies/indexing/__init__.py                            5      0   100%
rag_factory/strategies/indexing/context_aware.py                      97     79    19%   29, 40, 60-120, 141-142, 146-156, 168-174, 178-184, 194-223, 227-228
rag_factory/strategies/indexing/hierarchical.py                       83     68    18%   48, 60, 84-121, 143-172, 188-223, 240-265, 279-280
rag_factory/strategies/indexing/in_memory.py                          41     25    39%   54, 65, 93-121, 143, 160, 173, 194-200
rag_factory/strategies/indexing/keyword_indexing.py                   40     31    22%   40, 51, 75-155
rag_factory/strategies/indexing/vector_embedding.py                   29     21    28%   21, 30, 53-91
rag_factory/strategies/knowledge_graph/__init__.py                     4      0   100%
rag_factory/strategies/knowledge_graph/config.py                      21      4    81%   125-129
rag_factory/strategies/knowledge_graph/entity_extractor.py            70     56    20%   34-36, 53-74, 89, 96-119, 128-166, 178-205
rag_factory/strategies/knowledge_graph/graph_store.py                 31      9    71%   25, 35, 48, 66, 86, 99, 109, 114, 124
rag_factory/strategies/knowledge_graph/hybrid_retriever.py            56     45    20%   35-42, 61-97, 101-108, 117-164
rag_factory/strategies/knowledge_graph/memory_graph_store.py          97     80    18%   23-25, 29-38, 42-53, 60, 68-87, 96-152, 161-168, 172-182, 186-189, 193-196
rag_factory/strategies/knowledge_graph/models.py                      53      0   100%
rag_factory/strategies/knowledge_graph/relationship_extractor.py      62     50    19%   35-37, 56-85, 93-122, 132-189
rag_factory/strategies/knowledge_graph/strategy.py                    73     49    33%   44-63, 75, 94-154, 179-201, 210-220, 224, 228, 232, 237, 242
rag_factory/strategies/late_chunking/__init__.py                       6      0   100%
rag_factory/strategies/late_chunking/coherence_analyzer.py            27     17    37%   20-21, 36-45, 57-65, 82-96
rag_factory/strategies/late_chunking/document_embedder.py             88     72    18%   30-54, 74-153, 171-184, 196-204, 225-248, 265-272, 287
rag_factory/strategies/late_chunking/embedding_chunker.py            112     97    13%   26, 41-61, 68-98, 105-141, 148-168, 177-178, 185-240, 251-275, 279-286
rag_factory/strategies/late_chunking/models.py                        63      0   100%
rag_factory/strategies/late_chunking/strategy.py                      49     33    33%   42-58, 68-105, 124-133, 138, 143
rag_factory/strategies/multi_query/__init__.py                         7      0   100%
rag_factory/strategies/multi_query/config.py                          36      0   100%
rag_factory/strategies/multi_query/deduplicator.py                    87     77    11%   26-27, 41-100, 116-176, 188-197
rag_factory/strategies/multi_query/parallel_executor.py               52     41    21%   27-28, 42-86, 105-135, 147-163
rag_factory/strategies/multi_query/prompts.py                         10      5    50%   74-84
rag_factory/strategies/multi_query/ranker.py                          80     68    15%   24, 35-70, 81-84, 98-103, 116-126, 141-177, 189-201
rag_factory/strategies/multi_query/strategy.py                        62     39    37%   43-53, 57, 73-103, 107, 111, 124-140, 151-158, 170, 175
rag_factory/strategies/multi_query/variant_generator.py               62     48    23%   27-28, 47-79, 90, 107-129, 141-154, 171-187
rag_factory/strategies/query_expansion/__init__.py                     8      0   100%
rag_factory/strategies/query_expansion/base.py                        66     10    85%   90, 103, 114-118, 130-133
rag_factory/strategies/query_expansion/cache.py                       52     40    23%   20-22, 38-55, 64-66, 70-73, 81-97, 105-112
rag_factory/strategies/query_expansion/expander_service.py            91     70    23%   36-40, 55-58, 75-141, 152-173, 197-208, 226-227, 235-239, 247, 258-266, 276-277
rag_factory/strategies/query_expansion/hyde_expander.py               19     12    37%   25-27, 41-65
rag_factory/strategies/query_expansion/llm_expander.py                23     14    39%   23-25, 39-67, 95
rag_factory/strategies/query_expansion/metrics.py                     66     30    55%   44-45, 53-57, 76-109, 130, 134, 146-152, 160
rag_factory/strategies/query_expansion/prompts.py                     13      7    46%   16, 28-56, 68-107
rag_factory/strategies/reranking/__init__.py                           7      0   100%
rag_factory/strategies/reranking/base.py                              68     16    76%   81, 101, 106, 110-119, 123-130
rag_factory/strategies/reranking/bge_reranker.py                      51     38    25%   13-14, 53-81, 103-147, 151
rag_factory/strategies/reranking/cache.py                             48     34    29%   32-34, 51-66, 76-77, 81, 90-101, 110-113, 121, 136-138
rag_factory/strategies/reranking/cohere_reranker.py                   34     20    41%   15-16, 55-71, 94-115, 119
rag_factory/strategies/reranking/cosine_reranker.py                   62     47    24%   54-72, 97-139, 158-171, 188, 209-215, 227-230, 242-245, 249
rag_factory/strategies/reranking/cross_encoder_reranker.py            40     27    32%   13-14, 53-76, 98-120, 124
rag_factory/strategies/reranking/metrics.py                           67     53    21%   25-33, 49-61, 76-82, 98-102, 119-123, 142-157, 173-186, 201, 219-222, 231-251, 264
rag_factory/strategies/reranking/reranker_service.py                 115     88    23%   56-67, 71-96, 113-225, 235-255, 269, 282-283, 287-292, 296-300, 308-310
rag_factory/strategies/self_reflective/__init__.py                     6      0   100%
rag_factory/strategies/self_reflective/config.py                      20      8    60%   29-42
rag_factory/strategies/self_reflective/grader.py                      80     65    19%   29-35, 51-67, 83-109, 135-171, 187-258, 266
rag_factory/strategies/self_reflective/models.py                      48      0   100%
rag_factory/strategies/self_reflective/refiner.py                     69     56    19%   28-30, 53-96, 113-143, 161-193, 208-228
rag_factory/strategies/self_reflective/strategy.py                    89     73    18%   37-48, 66-176, 187-201, 224-254, 259, 264
rag_factory/utils/__init__.py                                          3      0   100%
rag_factory/utils/token_counter.py                                    45     30    33%   36-40, 52-62, 74-82, 86, 90, 105-106, 124-135, 153-158
rag_factory/utils/tokenization.py                                     95     73    23%   36-40, 53-64, 87-114, 126-129, 141-144, 156, 175-190, 209-228, 241-243, 251-252, 270-271, 292-293, 314-315
------------------------------------------------------------------------------------------------
TOTAL                                                              10971   7609    31%
======================== 1796 tests collected in 25.87s ========================
