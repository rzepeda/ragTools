============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-9.0.1, pluggy-1.6.0 -- /mnt/MCPProyects/ragTools/venv/bin/python3
cachedir: .pytest_cache
rootdir: /mnt/MCPProyects/ragTools
configfile: pytest.ini (WARNING: ignoring pytest config in pyproject.toml!)
testpaths: tests
plugins: anyio-4.12.0, cov-7.0.0, asyncio-1.3.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 1796 items

tests/benchmarks/test_contextual_performance.py::test_batch_processing_throughput PASSED [  0%]
tests/benchmarks/test_contextual_performance.py::test_parallel_vs_sequential_performance PASSED [  0%]
tests/benchmarks/test_contextual_performance.py::test_large_document_processing_time PASSED [  0%]
tests/benchmarks/test_contextual_performance.py::test_batch_size_impact PASSED [  0%]
tests/benchmarks/test_contextual_performance.py::test_cost_tracker_performance PASSED [  0%]
tests/benchmarks/test_contextual_performance.py::test_context_generation_latency PASSED [  0%]
tests/benchmarks/test_late_chunking_performance.py::test_document_embedding_speed FAILED [  0%]
tests/benchmarks/test_late_chunking_performance.py::test_embedding_chunking_speed FAILED [  0%]
tests/benchmarks/test_late_chunking_performance.py::test_semantic_boundary_speed FAILED [  0%]
tests/benchmarks/test_late_chunking_performance.py::test_end_to_end_latency FAILED [  0%]
tests/benchmarks/test_late_chunking_performance.py::test_coherence_analysis_overhead FAILED [  0%]
tests/benchmarks/test_late_chunking_performance.py::test_batch_processing_speed FAILED [  0%]
tests/benchmarks/test_late_chunking_performance.py::test_adaptive_chunking_speed FAILED [  0%]
tests/benchmarks/test_late_chunking_performance.py::test_memory_efficiency FAILED [  0%]
tests/benchmarks/test_model_comparison_performance.py::test_model_loading_speed FAILED [  0%]
tests/benchmarks/test_model_comparison_performance.py::test_model_loading_cached FAILED [  0%]
tests/benchmarks/test_model_comparison_performance.py::test_inference_speed FAILED [  0%]
tests/benchmarks/test_model_comparison_performance.py::test_batch_size_comparison FAILED [  1%]
tests/benchmarks/test_model_comparison_performance.py::test_embedding_quality FAILED [  1%]
tests/benchmarks/test_model_comparison_performance.py::test_memory_efficiency FAILED [  1%]
tests/integration/cli/test_benchmark_integration.py::TestBenchmarkIntegration::test_benchmark_execution_flow PASSED [  1%]
tests/integration/cli/test_config_validation_integration.py::TestConfigValidationIntegration::test_validate_valid_config_flow PASSED [  1%]
tests/integration/cli/test_config_validation_integration.py::TestConfigValidationIntegration::test_validate_invalid_config_flow PASSED [  1%]
tests/integration/cli/test_index_query_flow.py::TestIndexQueryFlow::test_index_single_file PASSED [  1%]
tests/integration/cli/test_index_query_flow.py::TestIndexQueryFlow::test_index_directory PASSED [  1%]
tests/integration/cli/test_index_query_flow.py::TestIndexQueryFlow::test_index_with_custom_strategy PASSED [  1%]
tests/integration/cli/test_index_query_flow.py::TestIndexQueryFlow::test_index_with_config_file PASSED [  1%]
tests/integration/cli/test_index_query_flow.py::TestIndexQueryFlow::test_index_nonexistent_path PASSED [  1%]
tests/integration/cli/test_index_query_flow.py::TestIndexQueryFlow::test_query_basic PASSED [  1%]
tests/integration/cli/test_index_query_flow.py::TestIndexQueryFlow::test_query_with_strategies PASSED [  1%]
tests/integration/cli/test_index_query_flow.py::TestIndexQueryFlow::test_query_with_top_k PASSED [  1%]
tests/integration/cli/test_index_query_flow.py::TestIndexQueryFlow::test_query_without_index PASSED [  1%]
tests/integration/cli/test_index_query_flow.py::TestFullWorkflow::test_complete_workflow PASSED [  1%]
tests/integration/cli/test_index_query_flow.py::TestFullWorkflow::test_workflow_with_config PASSED [  1%]
tests/integration/database/test_database_integration.py::TestDatabaseIntegration::test_full_database_workflow SKIPPED [  1%]
tests/integration/database/test_database_integration.py::TestDatabaseIntegration::test_batch_insert_chunks SKIPPED [  2%]
tests/integration/database/test_database_integration.py::TestDatabaseIntegration::test_query_with_filters SKIPPED [  2%]
tests/integration/database/test_database_integration.py::TestDatabaseIntegration::test_metadata_queries SKIPPED [  2%]
tests/integration/database/test_database_integration.py::TestDatabaseIntegration::test_chunk_ordering SKIPPED [  2%]
tests/integration/database/test_database_integration.py::TestDatabaseIntegration::test_document_deduplication SKIPPED [  2%]
tests/integration/database/test_database_integration.py::TestVectorOperations::test_insert_chunk_with_embedding SKIPPED [  2%]
tests/integration/database/test_database_integration.py::TestVectorOperations::test_vector_similarity_search SKIPPED [  2%]
tests/integration/database/test_database_integration.py::TestVectorOperations::test_null_embeddings SKIPPED [  2%]
tests/integration/database/test_database_integration.py::TestConnectionPooling::test_connection_pool_concurrent_access SKIPPED [  2%]
tests/integration/database/test_database_integration.py::TestConnectionPooling::test_connection_pool_metrics SKIPPED [  2%]
tests/integration/database/test_database_integration.py::TestConnectionPooling::test_session_isolation SKIPPED [  2%]
tests/integration/database/test_database_integration.py::TestPerformance::test_batch_insert_performance SKIPPED [  2%]
tests/integration/database/test_database_integration.py::TestPerformance::test_query_performance SKIPPED [  2%]
tests/integration/database/test_migration_integration.py::TestMigrationIntegration::test_real_migration_execution SKIPPED [  2%]
tests/integration/database/test_migration_integration.py::TestMigrationIntegration::test_migration_with_existing_data SKIPPED [  2%]
tests/integration/database/test_migration_integration.py::TestMigrationIntegration::test_rollback_functionality SKIPPED [  2%]
tests/integration/database/test_migration_integration.py::TestMigrationIntegration::test_pgvector_extension_installed SKIPPED [  2%]
tests/integration/documentation/test_documentation_integration.py::TestDocumentationBuild::test_mkdocs_build_succeeds SKIPPEDlization
arguments: {}
INFO    -  MERMAID2  - Using javascript library (10.6.1):
https://unpkg.com/mermaid@10.6.1/dist/mermaid.esm.min.mjs
INFO    -
Cleaning site directory
INFO    -  Building documentation to directory:
/mnt/MCPProyects/ragTools/site
INFO    -  The following pages exist in
the docs directory, but are not included in the "nav" configuration:
  -
CLI-USER-GUIDE.md
  - DEVELOPMENT-STANDARDS.md
  - ONNX-PROVIDER-
SUMMARY.md
  - TEST-MIGRATION-ONNX.md
  - rag-factory-project-plan.md
- database/README.md
  - database/CONSOLIDATION_PLAN.md
  -
database/ENVIRONMENT_VARIABLES.md
  - database/IMPLEMENTATION_CONTEXT.md
- database/MIGRATION_AUDIT.md
  - database/MIGRATION_MANAGER_REMOVAL.md
- epics/README.md
  - epics/epic-01-core-infrastructure.md
  -
epics/epic-02-database-storage.md
  - epics/epic-03-core-services.md
  -
epics/epic-04-priority-strategies.md
  - epics/epic-05-agentic-
advanced.md
  - epics/epic-06-multi-query-contextual.md
  -
epics/epic-07-experimental-strategies.md
  -
epics/epic-08-observability.md
  - epics/epic-08.5-development-tools.md
- epics/epic-09-documentation.md
  - epics/epic-10-lightweight-
dependencies.md
  - epics/epic-11-dependency-injection.md
  -
epics/epic-12-pipeline-separation.md
  - epics/epic-13-indexing-
strategies.md
  - epics/epic-14-cli-enhancements.md
  -
epics/epic-16-database-consolidation.md
  - epics/rag-factory-project-
plan.md
  - stories/Completed/epic-01/story-1.1-rag-strategy-
interface.md
  - stories/Completed/epic-01/story-1.2-rag-factory.md
  -
stories/Completed/epic-01/story-1.3-strategy-composition-engine.md
  -
stories/Completed/epic-01/story-1.4-configuration-management.md
  -
stories/Completed/epic-01/story-1.5-COMPLETION-SUMMARY.md
  -
stories/Completed/epic-01/story-1.5-package-structure.md
  -
stories/Completed/epic-02/README.md
  -
stories/Completed/epic-02/VERIFICATION.md
  -
stories/Completed/epic-02/story-2.1-COMPLETION-SUMMARY.md
  -
stories/Completed/epic-02/story-2.1-vector-database-setup.md
  -
stories/Completed/epic-02/story-2.2-COMPLETION-SUMMARY.md
  -
stories/Completed/epic-02/story-2.2-database-repository-pattern.md
  -
stories/Completed/epic-03/README.md
  -
stories/Completed/epic-03/VERIFICATION.md
  -
stories/Completed/epic-03/story-3.1-COMPLETION-SUMMARY.md
  -
stories/Completed/epic-03/story-3.1-ONNX-ADDITION.md
  -
stories/Completed/epic-03/story-3.1-embedding-service.md
  -
stories/Completed/epic-03/story-3.2-COMPLETION-SUMMARY.md
  -
stories/Completed/epic-03/story-3.2-llm-service-adapter.md
  -
stories/Completed/epic-04/README.md
  -
stories/Completed/epic-04/VERIFICATION.md
  -
stories/Completed/epic-04/story-4.1-COMPLETION-SUMMARY.md
  -
stories/Completed/epic-04/story-4.1-context-aware-chunking.md
  -
stories/Completed/epic-04/story-4.2-COMPLETION-SUMMARY.md
  -
stories/Completed/epic-04/story-4.2-reranking-strategy.md
  -
stories/Completed/epic-04/story-4.3-COMPLETION-SUMMARY.md
  -
stories/Completed/epic-04/story-4.3-INTEGRATION-GUIDE.md
  -
stories/Completed/epic-04/story-4.3-query-expansion.md
  -
stories/Completed/epic-05/README.md
  -
stories/Completed/epic-05/VERIFICATION.md
  -
stories/Completed/epic-05/story-5.1-agentic-rag-strategy.md
  -
stories/Completed/epic-05/story-5.2-hierarchical-rag-strategy.md
  -
stories/Completed/epic-05/story-5.3-self-reflective-rag-strategy.md
  -
stories/Completed/epic-06/README.md
  -
stories/Completed/epic-06/VERIFICATION.md
  -
stories/Completed/epic-06/story-6.1-multi-query-rag-strategy.md
  -
stories/Completed/epic-06/story-6.2-contextual-retrieval-strategy.md
  -
stories/Completed/epic-07/README.md
  -
stories/Completed/epic-07/VERIFICATION.md
  -
stories/Completed/epic-07/story-7.1-knowledge-graph-strategy.md
  -
stories/Completed/epic-07/story-7.2-late-chunking-strategy.md
  -
stories/Completed/epic-07/story-7.3-fine-tuned-embeddings-strategy.md
- stories/Completed/epic-08/README.md
  -
stories/Completed/epic-08/VERIFICATION.md
  -
stories/Completed/epic-08/story-8.1-COMPLETION-SUMMARY.md
  -
stories/Completed/epic-08/story-8.1-monitoring-logging-system.md
  -
stories/Completed/epic-08/story-8.2-COMPLETION-SUMMARY.md
  -
stories/Completed/epic-08/story-8.2-evaluation-framework.md
  -
stories/Completed/epic-08.5/story-8.5.1-COMPLETION-SUMMARY.md
  -
stories/Completed/epic-08.5/story-8.5.1-IMPLEMENTATION-UPDATE.md
  -
stories/Completed/epic-08.5/story-8.5.1-cli-strategy-testing.md
  -
stories/Completed/epic-08.5/story-8.5.2-dev-server-pocs.md
  -
stories/Completed/epic-09/story-9.1-developer-documentation.md
  -
stories/Completed/epic-09/story-9.2-example-implementations.md
  -
stories/Completed/epic-10/README.md
  -
stories/Completed/epic-10/story-10.1-migrate-embedding-services-to-
onnx.md
  - stories/Completed/epic-10/story-10.2-replace-tokenization-
with-tiktoken.md
  - stories/Completed/epic-10/story-10.3-migrate-late-
chunking-to-onnx.md
  - stories/Completed/epic-10/story-10.4-migrate-
reranking-to-lightweight-alternatives.md
  -
stories/Completed/epic-10/story-10.5-migrate-fine-tuned-embeddings-to-
onnx.md
  - stories/Completed/epic-11/story-11.1-define-service-
interfaces.md
  - stories/Completed/epic-11/story-11.2-create-strategy-
dependencies-container.md
  -
stories/Completed/epic-11/story-11.3-implement-service-
implementations.md
  - stories/Completed/epic-11/story-11.4-update-
strategy-base-classes-for-di.md
  -
stories/Completed/epic-11/story-11.5-update-rag-factory-for-di.md
  -
stories/Completed/epic-11/story-11.6-implement-consistency-checker.md
- stories/Completed/epic-12/story-12.1-define-capability-enums-and-
models.md
  - stories/Completed/epic-12/story-12.2-create-
iindexingstrategy-interface.md
  -
stories/Completed/epic-12/story-12.3-create-iretrievalstrategy-
interface.md
  - stories/Completed/epic-12/story-12.4-implement-
indexingpipeline.md
  - stories/Completed/epic-12/story-12.5-implement-
retrievalpipeline.md
  - stories/Completed/epic-12/story-12.6-implement-
factory-validation-with-consistency-checking.md
  -
stories/Completed/epic-13/story-13.1-context-aware-chunking.md
  -
stories/Completed/epic-13/story-13.2-vector-embedding-indexing.md
  -
stories/Completed/epic-13/story-13.3-keyword-extraction-indexing.md
  -
stories/Completed/epic-13/story-13.4-hierarchical-indexing.md
  -
stories/Completed/epic-13/story-13.5-in-memory-indexing.md
  -
stories/Completed/epic-14/story-14.1-pipeline-validation-command.md
  -
stories/Completed/epic-14/story-14.2-consistency-checking-command.md
  -
stories/epic-15/story-15.1-remove-deprecated-tests.md
  -
stories/epic-15/story-15.2-service-interface-tests.md
  -
stories/epic-15/story-15.3-cli-command-tests.md
  -
stories/epic-15/story-15.4-database-feature-tests.md
  -
stories/epic-15/story-15.5-development-server-tests.md
  -
stories/epic-15/story-15.6-evaluation-framework-tests.md
  -
stories/epic-16/README.md
  - stories/epic-16/story-16.1-audit-
migration-systems.md
  - stories/epic-16/story-16.2-standardize-
environment-variables.md
  - stories/epic-16/story-16.3-create-database-
fixtures.md
  - stories/epic-16/story-16.4-migrate-tests-to-alembic.md
- stories/epic-16/story-16.5-remove-migration-manager.md
  -
stories/epic-16/story-16.6-update-database-documentation.md
WARNING -  A
relative path to 'architecture/data-flow.md' is included in the 'nav'
configuration, which is not found in the documentation files.
WARNING -
A relative path to 'architecture/components.md' is included in the 'nav'
configuration, which is not found in the documentation files.
WARNING -
A relative path to 'guides/configuration-reference.md' is included in
the 'nav' configuration, which is not found in the documentation files.
WARNING -  A relative path to 'guides/performance-tuning.md' is included
in the 'nav' configuration, which is not found in the documentation
files.
WARNING -  A relative path to 'guides/error-handling.md' is
included in the 'nav' configuration, which is not found in the
documentation files.
WARNING -  A relative path to 'guides/best-
practices.md' is included in the 'nav' configuration, which is not found
in the documentation files.
WARNING -  A relative path to
'strategies/agentic.md' is included in the 'nav' configuration, which is
not found in the documentation files.
WARNING -  A relative path to
'strategies/chunking.md' is included in the 'nav' configuration, which
is not found in the documentation files.
WARNING -  A relative path to
'strategies/hierarchical.md' is included in the 'nav' configuration,
which is not found in the documentation files.
WARNING -  A relative
path to 'strategies/knowledge-graph.md' is included in the 'nav'
configuration, which is not found in the documentation files.
WARNING -
A relative path to 'strategies/late-chunking.md' is included in the
'nav' configuration, which is not found in the documentation files.
WARNING -  A relative path to 'strategies/multi-query.md' is included in
the 'nav' configuration, which is not found in the documentation files.
WARNING -  A relative path to 'strategies/query-expansion.md' is
included in the 'nav' configuration, which is not found in the
documentation files.
WARNING -  A relative path to
'strategies/reranking.md' is included in the 'nav' configuration, which
is not found in the documentation files.
WARNING -  A relative path to
'strategies/self-reflective.md' is included in the 'nav' configuration,
which is not found in the documentation files.
WARNING -  A relative
path to 'api-reference/index.md' is included in the 'nav' configuration,
which is not found in the documentation files.
WARNING -  A relative
path to 'api-reference/factory.md' is included in the 'nav'
configuration, which is not found in the documentation files.
WARNING -
A relative path to 'api-reference/strategies.md' is included in the
'nav' configuration, which is not found in the documentation files.
WARNING -  A relative path to 'api-reference/pipeline.md' is included in
the 'nav' configuration, which is not found in the documentation files.
WARNING -  A relative path to 'api-reference/config.md' is included in
the 'nav' configuration, which is not found in the documentation files.
WARNING -  A relative path to 'api-reference/exceptions.md' is included
in the 'nav' configuration, which is not found in the documentation
files.
WARNING -  A relative path to 'tutorials/basic-retrieval.md' is
included in the 'nav' configuration, which is not found in the
documentation files.
WARNING -  A relative path to 'tutorials/pipeline-
setup.md' is included in the 'nav' configuration, which is not found in
the documentation files.
WARNING -  A relative path to
'tutorials/custom-strategy.md' is included in the 'nav' configuration,
which is not found in the documentation files.
WARNING -  A relative
path to 'tutorials/performance-optimization.md' is included in the 'nav'
configuration, which is not found in the documentation files.
WARNING -
A relative path to 'tutorials/production-deployment.md' is included in
the 'nav' configuration, which is not found in the documentation files.
WARNING -  A relative path to 'contributing/development-setup.md' is
included in the 'nav' configuration, which is not found in the
documentation files.
WARNING -  A relative path to 'contributing/code-
style.md' is included in the 'nav' configuration, which is not found in
the documentation files.
WARNING -  A relative path to
'contributing/testing.md' is included in the 'nav' configuration, which
is not found in the documentation files.
WARNING -  A relative path to
'contributing/documentation.md' is included in the 'nav' configuration,
which is not found in the documentation files.
WARNING -  A relative
path to 'contributing/adding-strategies.md' is included in the 'nav'
configuration, which is not found in the documentation files.
WARNING -
A relative path to 'contributing/release-process.md' is included in the
'nav' configuration, which is not found in the documentation files.
WARNING -  A relative path to 'troubleshooting/common-errors.md' is
included in the 'nav' configuration, which is not found in the
documentation files.
WARNING -  A relative path to
'troubleshooting/performance-issues.md' is included in the 'nav'
configuration, which is not found in the documentation files.
WARNING -
A relative path to 'troubleshooting/database-issues.md' is included in
the 'nav' configuration, which is not found in the documentation files.
WARNING -  A relative path to 'troubleshooting/api-issues.md' is
included in the 'nav' configuration, which is not found in the
documentation files.
WARNING -  A relative path to 'changelog.md' is
included in the 'nav' configuration, which is not found in the
documentation files.
WARNING -  Doc file 'index.md' contains a relative
link 'guides/configuration-reference.md', but the target is not found
among documentation files.
WARNING -  Doc file 'index.md' contains a
relative link 'tutorials/pipeline-setup.md', but the target is not found
among documentation files.
WARNING -  Doc file 'index.md' contains a
relative link 'guides/performance-tuning.md', but the target is not
found among documentation files.
WARNING -  Doc file 'index.md' contains
a relative link 'guides/best-practices.md', but the target is not found
among documentation files.
WARNING -  Doc file 'CLI-USER-GUIDE.md'
contains a relative link './API.md', but the target 'API.md' is not
found among documentation files.
WARNING -  Doc file 'CLI-USER-GUIDE.md'
contains a relative link './STRATEGIES.md', but the target
'STRATEGIES.md' is not found among documentation files.
INFO    -  Doc
file 'CLI-USER-GUIDE.md' contains an unrecognized relative link
'../examples/', it was left as is.
WARNING -  Doc file
'architecture/design-patterns.md' contains a relative link 'data-
flow.md', but the target 'architecture/data-flow.md' is not found among
documentation files.
WARNING -  Doc file 'architecture/design-
patterns.md' contains a relative link 'components.md', but the target
'architecture/components.md' is not found among documentation files.
WARNING -  Doc file 'architecture/design-patterns.md' contains a
relative link '../contributing/adding-strategies.md', but the target
'contributing/adding-strategies.md' is not found among documentation
files.
WARNING -  Doc file 'architecture/design-patterns.md' contains a
relative link '../guides/best-practices.md', but the target
'guides/best-practices.md' is not found among documentation files.
WARNING -  Doc file 'architecture/design-patterns.md' contains a
relative link '../api-reference/index.md', but the target 'api-
reference/index.md' is not found among documentation files.
WARNING -
Doc file 'architecture/overview.md' contains a relative link 'data-
flow.md', but the target 'architecture/data-flow.md' is not found among
documentation files.
WARNING -  Doc file 'architecture/overview.md'
contains a relative link 'components.md', but the target
'architecture/components.md' is not found among documentation files.
WARNING -  Doc file 'architecture/overview.md' contains a relative link
'../guides/configuration-reference.md', but the target
'guides/configuration-reference.md' is not found among documentation
files.
WARNING -  Doc file 'architecture/overview.md' contains a
relative link '../guides/best-practices.md', but the target
'guides/best-practices.md' is not found among documentation files.
WARNING -  Doc file 'contributing/index.md' contains a relative link
'development-setup.md', but the target 'contributing/development-
setup.md' is not found among documentation files.
WARNING -  Doc file
'contributing/index.md' contains a relative link 'development-setup.md',
but the target 'contributing/development-setup.md' is not found among
documentation files.
WARNING -  Doc file 'contributing/index.md'
contains a relative link 'code-style.md', but the target
'contributing/code-style.md' is not found among documentation files.
WARNING -  Doc file 'contributing/index.md' contains a relative link
'testing.md', but the target 'contributing/testing.md' is not found
among documentation files.
WARNING -  Doc file 'contributing/index.md'
contains a relative link 'documentation.md', but the target
'contributing/documentation.md' is not found among documentation files.
WARNING -  Doc file 'contributing/index.md' contains a relative link
'adding-strategies.md', but the target 'contributing/adding-
strategies.md' is not found among documentation files.
WARNING -  Doc
file 'contributing/index.md' contains a relative link 'release-
process.md', but the target 'contributing/release-process.md' is not
found among documentation files.
WARNING -  Doc file
'database/README.md' contains a relative link '../../tests/README.md',
but the target '../tests/README.md' is not found among documentation
files.
WARNING -  Doc file 'database/README.md' contains a relative link
'../../tests/README.md', but the target '../tests/README.md' is not
found among documentation files.
WARNING -  Doc file 'getting-
started/configuration.md' contains a relative link
'../guides/configuration-reference.md', but the target
'guides/configuration-reference.md' is not found among documentation
files.
WARNING -  Doc file 'getting-started/configuration.md' contains a
relative link '../guides/performance-tuning.md', but the target
'guides/performance-tuning.md' is not found among documentation files.
WARNING -  Doc file 'getting-started/configuration.md' contains a
relative link '../guides/configuration-reference.md#environment-
variables', but the target 'guides/configuration-reference.md' is not
found among documentation files.
WARNING -  Doc file 'getting-
started/configuration.md' contains a relative link '../guides/best-
practices.md', but the target 'guides/best-practices.md' is not found
among documentation files.
WARNING -  Doc file 'getting-
started/configuration.md' contains a relative link
'../troubleshooting/common-errors.md', but the target
'troubleshooting/common-errors.md' is not found among documentation
files.
WARNING -  Doc file 'getting-started/first-query.md' contains a
relative link '../tutorials/pipeline-setup.md', but the target
'tutorials/pipeline-setup.md' is not found among documentation files.
WARNING -  Doc file 'getting-started/first-query.md' contains a relative
link '../tutorials/performance-optimization.md', but the target
'tutorials/performance-optimization.md' is not found among documentation
files.
WARNING -  Doc file 'getting-started/first-query.md' contains a
relative link '../troubleshooting/performance-issues.md', but the target
'troubleshooting/performance-issues.md' is not found among documentation
files.
WARNING -  Doc file 'getting-started/installation.md' contains a
relative link '../troubleshooting/common-errors.md', but the target
'troubleshooting/common-errors.md' is not found among documentation
files.
WARNING -  Doc file 'getting-started/quick-start.md' contains a
relative link '../tutorials/pipeline-setup.md', but the target
'tutorials/pipeline-setup.md' is not found among documentation files.
WARNING -  Doc file 'getting-started/quick-start.md' contains a relative
link '../tutorials/production-deployment.md', but the target
'tutorials/production-deployment.md' is not found among documentation
files.
WARNING -  Doc file 'getting-started/quick-start.md' contains a
relative link '../troubleshooting/common-errors.md', but the target
'troubleshooting/common-errors.md' is not found among documentation
files.
WARNING -  Doc file 'guides/strategy-selection.md' contains a
relative link '../tutorials/pipeline-setup.md', but the target
'tutorials/pipeline-setup.md' is not found among documentation files.
WARNING -  Doc file 'guides/strategy-selection.md' contains a relative
link 'performance-tuning.md', but the target 'guides/performance-
tuning.md' is not found among documentation files.
WARNING -  Doc file
'guides/strategy-selection.md' contains a relative link 'configuration-
reference.md', but the target 'guides/configuration-reference.md' is not
found among documentation files.
WARNING -  Doc file 'guides/strategy-
selection.md' contains a relative link 'best-practices.md', but the
target 'guides/best-practices.md' is not found among documentation
files.
WARNING -  Doc file 'guides/strategy-selection.md' contains a
relative link '../tutorials/performance-optimization.md', but the target
'tutorials/performance-optimization.md' is not found among documentation
files.
WARNING -  Doc file
'stories/Completed/epic-04/story-4.3-INTEGRATION-GUIDE.md' contains a
relative link '../../rag_factory/strategies/query_expansion/README.md',
but the target
'stories/rag_factory/strategies/query_expansion/README.md' is not found
among documentation files.
WARNING -  Doc file
'stories/Completed/epic-04/story-4.3-INTEGRATION-GUIDE.md' contains a
relative link '../../examples/query_expansion_example.py', but the
target 'stories/examples/query_expansion_example.py' is not found among
documentation files.
INFO    -  Doc file
'stories/Completed/epic-04/story-4.3-INTEGRATION-GUIDE.md' contains an
unrecognized relative link
'../../tests/unit/strategies/query_expansion/', it was left as is.
ERROR
-  Encoding error reading file: stories/Completed/epic-05/README.md
ERROR   -  Error reading page 'stories/Completed/epic-05/README.md':
'utf-8' codec can't decode byte 0x92 in position 2015: invalid start
byte
Traceback (most recent call last):
  File
"/mnt/MCPProyects/ragTools/venv/bin/mkdocs", line 8, in <module>
sys.exit(cli())
             ^^^^^
  File
"/mnt/MCPProyects/ragTools/venv/lib/python3.12/site-
packages/click/core.py", line 1485, in __call__
    return
self.main(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File
"/mnt/MCPProyects/ragTools/venv/lib/python3.12/site-
packages/click/core.py", line 1406, in main
    rv = self.invoke(ctx)
^^^^^^^^^^^^^^^^
  File
"/mnt/MCPProyects/ragTools/venv/lib/python3.12/site-
packages/click/core.py", line 1873, in invoke
    return
_process_result(sub_ctx.command.invoke(sub_ctx))
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File
"/mnt/MCPProyects/ragTools/venv/lib/python3.12/site-
packages/click/core.py", line 1269, in invoke
    return
ctx.invoke(self.callback, **ctx.params)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File
"/mnt/MCPProyects/ragTools/venv/lib/python3.12/site-
packages/click/core.py", line 824, in invoke
    return callback(*args,
**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File
"/mnt/MCPProyects/ragTools/venv/lib/python3.12/site-
packages/mkdocs/__main__.py", line 286, in build_command
build.build(cfg, dirty=not clean)
  File
"/mnt/MCPProyects/ragTools/venv/lib/python3.12/site-
packages/mkdocs/commands/build.py", line 322, in build
_populate_page(file.page, config, files, dirty)
  File
"/mnt/MCPProyects/ragTools/venv/lib/python3.12/site-
packages/mkdocs/commands/build.py", line 167, in _populate_page
page.read_source(config)
  File
"/mnt/MCPProyects/ragTools/venv/lib/python3.12/site-
packages/mkdocs/structure/pages.py", line 203, in read_source
    source
= f.read()
             ^^^^^^^^
  File "<frozen codecs>", line 322, in
decode
  File "/usr/lib/python3.12/encodings/utf_8_sig.py", line 69, in
_buffer_decode
    return codecs.utf_8_decode(input, errors, final)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeDecodeError: 'utf-8'
codec can't decode byte 0x92 in position 2015: invalid start byte)       [  2%]
tests/integration/documentation/test_documentation_integration.py::TestDocumentationBuild::test_mkdocs_serve_starts SKIPPED, port=8001): Max
retries exceeded with url: / (Caused by
NewConnectionError('<urllib3.connection.HTTPConnection object at
0x7db52b427920>: Failed to establish a new connection: [Errno 111]
Connection refused')))                                                   [  3%]
tests/integration/documentation/test_documentation_integration.py::TestDocumentationBuild::test_search_index_generated SKIPPED [  3%]
tests/integration/documentation/test_documentation_integration.py::test_documentation_time_to_first_example SKIPPED [  3%]
tests/integration/documentation/test_documentation_integration.py::test_api_reference_generated SKIPPED [  3%]
tests/integration/documentation/test_documentation_integration.py::test_diagrams_rendered SKIPPED [  3%]
tests/integration/evaluation/test_evaluation_integration.py::TestEvaluationIntegration::test_full_benchmark_workflow PASSED [  3%]
tests/integration/evaluation/test_evaluation_integration.py::TestEvaluationIntegration::test_compare_multiple_strategies PASSED [  3%]
tests/integration/evaluation/test_evaluation_integration.py::TestEvaluationIntegration::test_statistical_analysis_workflow PASSED [  3%]
tests/integration/evaluation/test_evaluation_integration.py::TestEvaluationIntegration::test_export_workflow_csv PASSED [  3%]
tests/integration/evaluation/test_evaluation_integration.py::TestEvaluationIntegration::test_export_workflow_json PASSED [  3%]
tests/integration/evaluation/test_evaluation_integration.py::TestEvaluationIntegration::test_comparison_report_generation PASSED [  3%]
tests/integration/evaluation/test_evaluation_integration.py::TestEvaluationIntegration::test_checkpoint_resume_workflow PASSED [  3%]
tests/integration/models/test_fine_tuned_embeddings_integration.py::test_register_and_load_model FAILED [  3%]
tests/integration/models/test_fine_tuned_embeddings_integration.py::test_ab_testing_workflow PASSED [  3%]
tests/integration/models/test_fine_tuned_embeddings_integration.py::test_model_registry_persistence_workflow PASSED [  3%]
tests/integration/models/test_fine_tuned_embeddings_integration.py::test_model_comparison_workflow FAILED [  3%]
tests/integration/models/test_fine_tuned_embeddings_integration.py::test_multiple_models_registry PASSED [  3%]
tests/integration/observability/test_monitoring_integration.py::TestCompleteQueryLogging::test_complete_query_workflow PASSED [  3%]
tests/integration/observability/test_monitoring_integration.py::TestCompleteQueryLogging::test_failed_query_workflow PASSED [  4%]
tests/integration/observability/test_monitoring_integration.py::TestCompleteQueryLogging::test_multiple_strategy_workflow PASSED [  4%]
tests/integration/observability/test_monitoring_integration.py::TestPerformanceMonitoring::test_performance_tracking PASSED [  4%]
tests/integration/observability/test_monitoring_integration.py::TestPerformanceMonitoring::test_multiple_operations_tracking PASSED [  4%]
tests/integration/observability/test_monitoring_integration.py::TestDashboardAPI::test_dashboard_endpoints PASSED [  4%]
tests/integration/observability/test_monitoring_integration.py::TestDashboardAPI::test_dashboard_error_handling PASSED [  4%]
tests/integration/observability/test_monitoring_integration.py::TestEndToEndMonitoring::test_complete_monitoring_stack PASSED [  4%]
tests/integration/observability/test_monitoring_integration.py::TestEndToEndMonitoring::test_high_volume_simulation PASSED [  4%]
tests/integration/observability/test_monitoring_integration.py::TestEndToEndMonitoring::test_error_rate_monitoring PASSED [  4%]
tests/integration/observability/test_monitoring_integration.py::TestPrometheusIntegration::test_prometheus_metrics_export PASSED [  4%]
tests/integration/repositories/test_repository_integration.py::TestDocumentRepositoryIntegration::test_complete_document_lifecycle SKIPPED [  4%]
tests/integration/repositories/test_repository_integration.py::TestDocumentRepositoryIntegration::test_document_deduplication SKIPPED [  4%]
tests/integration/repositories/test_repository_integration.py::TestDocumentRepositoryIntegration::test_document_pagination SKIPPED [  4%]
tests/integration/repositories/test_repository_integration.py::TestDocumentRepositoryIntegration::test_document_status_filtering SKIPPED [  4%]
tests/integration/repositories/test_repository_integration.py::TestDocumentRepositoryIntegration::test_bulk_operations SKIPPED [  4%]
tests/integration/repositories/test_repository_integration.py::TestChunkRepositoryIntegration::test_complete_chunk_lifecycle SKIPPED [  4%]
tests/integration/repositories/test_repository_integration.py::TestChunkRepositoryIntegration::test_chunk_document_relationship SKIPPED [  4%]
tests/integration/repositories/test_repository_integration.py::TestChunkRepositoryIntegration::test_cascade_delete SKIPPEDabase tests.) [  4%]
tests/integration/repositories/test_repository_integration.py::TestChunkRepositoryIntegration::test_bulk_chunk_operations SKIPPED [  5%]
tests/integration/repositories/test_repository_integration.py::TestVectorSearchIntegration::test_vector_similarity_search SKIPPED [  5%]
tests/integration/repositories/test_repository_integration.py::TestVectorSearchIntegration::test_vector_search_with_threshold SKIPPED [  5%]
tests/integration/repositories/test_repository_integration.py::TestVectorSearchIntegration::test_vector_search_with_document_filter SKIPPED [  5%]
tests/integration/repositories/test_repository_integration.py::TestVectorSearchIntegration::test_vector_search_with_metadata_filter SKIPPED [  5%]
tests/integration/repositories/test_repository_integration.py::TestVectorSearchIntegration::test_vector_search_identical_embedding SKIPPED [  5%]
tests/integration/repositories/test_repository_integration.py::TestRepositoryTransactions::test_transaction_commit SKIPPEDabase tests.) [  5%]
tests/integration/repositories/test_repository_integration.py::TestRepositoryTransactions::test_transaction_rollback SKIPPED [  5%]
tests/integration/repositories/test_repository_integration.py::TestRepositoryTransactions::test_multiple_operations_in_transaction SKIPPED [  5%]
tests/integration/repositories/test_repository_integration.py::TestRepositoryTransactions::test_transaction_context_manager SKIPPED [  5%]
tests/integration/repositories/test_repository_integration.py::TestRepositoryTransactions::test_transaction_rollback_on_error SKIPPED [  5%]
tests/integration/services/test_embedding_integration.py::test_openai_full_workflow SKIPPED [  5%]
tests/integration/services/test_embedding_integration.py::test_cohere_full_workflow SKIPPED [  5%]
tests/integration/services/test_embedding_integration.py::test_local_embedding_provider FAILED [  5%]
tests/integration/services/test_embedding_integration.py::test_large_batch_processing FAILED [  5%]
tests/integration/services/test_embedding_integration.py::test_concurrent_embedding_requests FAILED [  5%]
tests/integration/services/test_embedding_integration.py::test_cache_persistence_across_batches FAILED [  5%]
tests/integration/services/test_embedding_integration.py::test_error_handling FAILED [  5%]
tests/integration/services/test_embedding_integration.py::test_onnx_provider_compatibility FAILED [  6%]
tests/integration/services/test_fine_tuned_onnx_integration.py::TestFineTunedONNXIntegration::test_end_to_end_flow PASSED [  6%]
tests/integration/services/test_llm_integration.py::test_full_llm_workflow SKIPPED [  6%]
tests/integration/services/test_llm_integration.py::test_streaming_response SKIPPED [  6%]
tests/integration/services/test_llm_integration.py::test_local_ollama_provider SKIPPED [  6%]
tests/integration/services/test_llm_integration.py::test_prompt_template_with_real_llm SKIPPED [  6%]
tests/integration/services/test_llm_integration.py::test_openai_provider SKIPPED [  6%]
tests/integration/services/test_llm_integration.py::test_concurrent_llm_requests SKIPPED [  6%]
tests/integration/services/test_llm_integration.py::test_cost_tracking SKIPPED [  6%]
tests/integration/services/test_llm_integration.py::test_token_counting SKIPPED [  6%]
tests/integration/services/test_onnx_embeddings_integration.py::TestONNXEmbeddingsIntegration::test_embed_single_document SKIPPED
transformers/all-MiniLM-L6-v2'.
Error: 404 Client Error. (Request ID: Ro
ot=1-6939a3f5-0ce2f3f76d8575d87f6aa04c;1b9d9a1e-4598-4926-b685-
686116656c09)

Entry Not Found for url: https://huggingface.co/sentence-
transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.

The model may
not have an ONNX version available.
You can convert it using:
  python
scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-
MiniLM-L6-v2

See documentation for model conversion guide.)                           [  6%]
tests/integration/services/test_onnx_embeddings_integration.py::TestONNXEmbeddingsIntegration::test_embed_multiple_documents SKIPPED
transformers/all-MiniLM-L6-v2'.
Error: 404 Client Error. (Request ID: Ro
ot=1-6939a3f5-0ce2f3f76d8575d87f6aa04c;1b9d9a1e-4598-4926-b685-
686116656c09)

Entry Not Found for url: https://huggingface.co/sentence-
transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.

The model may
not have an ONNX version available.
You can convert it using:
  python
scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-
MiniLM-L6-v2

See documentation for model conversion guide.)                           [  6%]
tests/integration/services/test_onnx_embeddings_integration.py::TestONNXEmbeddingsIntegration::test_semantic_similarity SKIPPEDtransformers/all-
MiniLM-L6-v2'.
Error: 404 Client Error. (Request ID: Root=1-6939a3f5-
0ce2f3f76d8575d87f6aa04c;1b9d9a1e-4598-4926-b685-686116656c09)

Entry
Not Found for url: https://huggingface.co/sentence-transformers/all-
MiniLM-L6-v2/resolve/main/model.onnx.

The model may not have an ONNX
version available.
You can convert it using:
  python
scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-
MiniLM-L6-v2

See documentation for model conversion guide.)                           [  6%]
tests/integration/services/test_onnx_embeddings_integration.py::TestONNXEmbeddingsIntegration::test_batch_consistency SKIPPEDtransformers/all-
MiniLM-L6-v2'.
Error: 404 Client Error. (Request ID: Root=1-6939a3f5-
0ce2f3f76d8575d87f6aa04c;1b9d9a1e-4598-4926-b685-686116656c09)

Entry
Not Found for url: https://huggingface.co/sentence-transformers/all-
MiniLM-L6-v2/resolve/main/model.onnx.

The model may not have an ONNX
version available.
You can convert it using:
  python
scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-
MiniLM-L6-v2

See documentation for model conversion guide.)                           [  6%]
tests/integration/services/test_onnx_embeddings_integration.py::TestONNXEmbeddingsIntegration::test_empty_input SKIPPEDtransformers/all-
MiniLM-L6-v2'.
Error: 404 Client Error. (Request ID: Root=1-6939a3f5-
0ce2f3f76d8575d87f6aa04c;1b9d9a1e-4598-4926-b685-686116656c09)

Entry
Not Found for url: https://huggingface.co/sentence-transformers/all-
MiniLM-L6-v2/resolve/main/model.onnx.

The model may not have an ONNX
version available.
You can convert it using:
  python
scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-
MiniLM-L6-v2

See documentation for model conversion guide.)                           [  6%]
tests/integration/services/test_onnx_embeddings_integration.py::TestONNXEmbeddingsIntegration::test_long_text_handling SKIPPEDtransformers/all-
MiniLM-L6-v2'.
Error: 404 Client Error. (Request ID: Root=1-6939a3f5-
0ce2f3f76d8575d87f6aa04c;1b9d9a1e-4598-4926-b685-686116656c09)

Entry
Not Found for url: https://huggingface.co/sentence-transformers/all-
MiniLM-L6-v2/resolve/main/model.onnx.

The model may not have an ONNX
version available.
You can convert it using:
  python
scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-
MiniLM-L6-v2

See documentation for model conversion guide.)                           [  6%]
tests/integration/services/test_onnx_embeddings_integration.py::TestONNXEmbeddingsIntegration::test_special_characters SKIPPEDtransformers/all-
MiniLM-L6-v2'.
Error: 404 Client Error. (Request ID: Root=1-6939a3f5-
0ce2f3f76d8575d87f6aa04c;1b9d9a1e-4598-4926-b685-686116656c09)

Entry
Not Found for url: https://huggingface.co/sentence-transformers/all-
MiniLM-L6-v2/resolve/main/model.onnx.

The model may not have an ONNX
version available.
You can convert it using:
  python
scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-
MiniLM-L6-v2

See documentation for model conversion guide.)                           [  6%]
tests/integration/services/test_onnx_embeddings_integration.py::TestONNXEmbeddingsIntegration::test_performance_target SKIPPEDtransformers/all-
MiniLM-L6-v2'.
Error: 404 Client Error. (Request ID: Root=1-6939a3f5-
0ce2f3f76d8575d87f6aa04c;1b9d9a1e-4598-4926-b685-686116656c09)

Entry
Not Found for url: https://huggingface.co/sentence-transformers/all-
MiniLM-L6-v2/resolve/main/model.onnx.

The model may not have an ONNX
version available.
You can convert it using:
  python
scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-
MiniLM-L6-v2

See documentation for model conversion guide.)                           [  6%]
tests/integration/services/test_onnx_embeddings_integration.py::TestONNXEmbeddingsIntegration::test_provider_metadata SKIPPEDtransformers/all-
MiniLM-L6-v2'.
Error: 404 Client Error. (Request ID: Root=1-6939a3f5-
0ce2f3f76d8575d87f6aa04c;1b9d9a1e-4598-4926-b685-686116656c09)

Entry
Not Found for url: https://huggingface.co/sentence-transformers/all-
MiniLM-L6-v2/resolve/main/model.onnx.

The model may not have an ONNX
version available.
You can convert it using:
  python
scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-
MiniLM-L6-v2

See documentation for model conversion guide.)                           [  7%]
tests/integration/services/test_onnx_embeddings_integration.py::TestONNXEmbeddingsIntegration::test_result_metadata SKIPPEDtransformers/all-
MiniLM-L6-v2'.
Error: 404 Client Error. (Request ID: Root=1-6939a3f5-
0ce2f3f76d8575d87f6aa04c;1b9d9a1e-4598-4926-b685-686116656c09)

Entry
Not Found for url: https://huggingface.co/sentence-transformers/all-
MiniLM-L6-v2/resolve/main/model.onnx.

The model may not have an ONNX
version available.
You can convert it using:
  python
scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-
MiniLM-L6-v2

See documentation for model conversion guide.)                           [  7%]
tests/integration/services/test_service_implementations.py::TestONNXServices::test_onnx_embedding_service_implements_interface PASSED [  7%]
tests/integration/services/test_service_implementations.py::TestONNXServices::test_onnx_embedding_service_basic_functionality PASSED [  7%]
tests/integration/services/test_service_implementations.py::TestAPIServices::test_anthropic_llm_service_implements_interface PASSED [  7%]
tests/integration/services/test_service_implementations.py::TestAPIServices::test_anthropic_llm_service_basic_functionality PASSED [  7%]
tests/integration/services/test_service_implementations.py::TestAPIServices::test_openai_llm_service_implements_interface PASSED [  7%]
tests/integration/services/test_service_implementations.py::TestAPIServices::test_openai_embedding_service_implements_interface PASSED [  7%]
tests/integration/services/test_service_implementations.py::TestAPIServices::test_cohere_reranking_service_implements_interface PASSED [  7%]
tests/integration/services/test_service_implementations.py::TestAPIServices::test_cohere_reranking_service_basic_functionality PASSED [  7%]
tests/integration/services/test_service_implementations.py::TestDatabaseServices::test_neo4j_graph_service_implements_interface PASSED [  7%]
tests/integration/services/test_service_implementations.py::TestDatabaseServices::test_neo4j_graph_service_basic_functionality SKIPPED [  7%]
tests/integration/services/test_service_implementations.py::TestDatabaseServices::test_postgresql_database_service_implements_interface PASSED [  7%]
tests/integration/services/test_service_implementations.py::TestDatabaseServices::test_postgresql_database_service_basic_functionality FAILED [  7%]
tests/integration/services/test_service_implementations.py::TestLocalServices::test_cosine_reranking_service_implements_interface PASSED [  7%]
tests/integration/services/test_service_implementations.py::TestLocalServices::test_cosine_reranking_service_basic_functionality PASSED [  7%]
tests/integration/services/test_service_implementations.py::TestInterfaceCompliance::test_all_llm_services_implement_interface PASSED [  7%]
tests/integration/services/test_service_implementations.py::TestInterfaceCompliance::test_all_embedding_services_implement_interface PASSED [  7%]
tests/integration/services/test_service_implementations.py::TestInterfaceCompliance::test_all_reranking_services_implement_interface PASSED [  8%]
tests/integration/services/test_service_implementations.py::TestInterfaceCompliance::test_all_graph_services_implement_interface PASSED [  8%]
tests/integration/services/test_service_implementations.py::TestInterfaceCompliance::test_all_database_services_implement_interface PASSED [  8%]
tests/integration/services/test_service_integration.py::test_rag_workflow ERROR [  8%]
tests/integration/services/test_service_integration.py::test_embedding_database_consistency FAILED [  8%]
tests/integration/strategies/test_base_integration.py::test_strategy_full_lifecycle FAILED [  8%]
tests/integration/strategies/test_base_integration.py::test_multiple_strategies_implement_interface FAILED [  8%]
tests/integration/strategies/test_base_integration.py::test_async_retrieve_works FAILED [  8%]
tests/integration/strategies/test_base_integration.py::test_strategy_error_handling FAILED [  8%]
tests/integration/strategies/test_base_integration.py::test_strategy_configuration_override FAILED [  8%]
tests/integration/strategies/test_chunking_integration.py::test_structural_chunking_markdown_document PASSED [  8%]
tests/integration/strategies/test_chunking_integration.py::test_structural_chunking_plain_text PASSED [  8%]
tests/integration/strategies/test_chunking_integration.py::test_structural_chunking_code_blocks PASSED [  8%]
tests/integration/strategies/test_chunking_integration.py::test_fixed_size_chunking_consistency PASSED [  8%]
tests/integration/strategies/test_chunking_integration.py::test_compare_chunking_strategies PASSED [  8%]
tests/integration/strategies/test_chunking_integration.py::test_chunking_empty_document PASSED [  8%]
tests/integration/strategies/test_chunking_integration.py::test_chunking_very_long_document PASSED [  8%]
tests/integration/strategies/test_chunking_integration.py::test_chunking_with_special_characters PASSED [  8%]
tests/integration/strategies/test_chunking_integration.py::test_batch_document_processing PASSED [  9%]
tests/integration/strategies/test_chunking_integration.py::test_chunk_metadata_completeness PASSED [  9%]
tests/integration/strategies/test_chunking_integration.py::test_chunk_validation PASSED [  9%]
tests/integration/strategies/test_chunking_integration.py::test_get_stats_functionality PASSED [  9%]
tests/integration/strategies/test_contextual_integration.py::test_contextual_retrieval_complete_workflow FAILED [  9%]
tests/integration/strategies/test_contextual_integration.py::test_cost_tracking_accuracy FAILED [  9%]
tests/integration/strategies/test_contextual_integration.py::test_retrieval_with_different_formats FAILED [  9%]
tests/integration/strategies/test_contextual_integration.py::test_error_recovery FAILED [  9%]
tests/integration/strategies/test_contextual_integration.py::test_synchronous_indexing FAILED [  9%]
tests/integration/strategies/test_contextual_integration.py::test_large_document_processing FAILED [  9%]
tests/integration/strategies/test_hierarchical_indexing.py::TestHierarchicalIndexing::test_produces_capabilities PASSED [  9%]
tests/integration/strategies/test_hierarchical_indexing.py::TestHierarchicalIndexing::test_requires_services PASSED [  9%]
tests/integration/strategies/test_hierarchical_indexing.py::TestHierarchicalIndexing::test_process_basic_document PASSED [  9%]
tests/integration/strategies/test_hierarchical_indexing.py::TestHierarchicalIndexing::test_process_document_with_headings PASSED [  9%]
tests/integration/strategies/test_hierarchical_indexing.py::TestHierarchicalIndexing::test_hierarchy_metadata PASSED [  9%]
tests/integration/strategies/test_hierarchical_indexing.py::TestHierarchicalIndexing::test_max_depth_configuration PASSED [  9%]
tests/integration/strategies/test_hierarchical_indexing.py::TestHierarchicalIndexing::test_empty_document PASSED [  9%]
tests/integration/strategies/test_hierarchical_indexing.py::TestHierarchicalIndexing::test_multiple_documents PASSED [  9%]
tests/integration/strategies/test_hierarchical_indexing.py::TestHierarchicalIndexing::test_path_tracking PASSED [ 10%]
tests/integration/strategies/test_hierarchical_indexing.py::TestHierarchicalIndexing::test_split_by_headings_markdown PASSED [ 10%]
tests/integration/strategies/test_hierarchical_indexing.py::TestHierarchicalIndexing::test_split_by_headings_no_headings PASSED [ 10%]
tests/integration/strategies/test_hierarchical_indexing.py::TestHierarchicalIndexing::test_split_by_paragraphs PASSED [ 10%]
tests/integration/strategies/test_hierarchical_indexing.py::TestHierarchicalIndexing::test_split_by_paragraphs_single PASSED [ 10%]
tests/integration/strategies/test_hierarchical_indexing.py::TestHierarchicalIndexing::test_document_metadata_preserved PASSED [ 10%]
tests/integration/strategies/test_hierarchical_integration.py::TestHierarchicalIntegration::test_end_to_end_workflow FAILED [ 10%]
tests/integration/strategies/test_hierarchical_integration.py::TestHierarchicalIntegration::test_expansion_strategy_comparison FAILED [ 10%]
tests/integration/strategies/test_hierarchical_integration.py::TestHierarchicalIntegration::test_hierarchy_validation FAILED [ 10%]
tests/integration/strategies/test_hierarchical_integration.py::TestHierarchicalIntegration::test_multiple_documents FAILED [ 10%]
tests/integration/strategies/test_in_memory_indexing.py::test_capabilities PASSED [ 10%]
tests/integration/strategies/test_in_memory_indexing.py::test_dependencies PASSED [ 10%]
tests/integration/strategies/test_in_memory_indexing.py::test_process_success PASSED [ 10%]
tests/integration/strategies/test_in_memory_indexing.py::test_storage_operations PASSED [ 10%]
tests/integration/strategies/test_in_memory_indexing.py::test_clear_storage PASSED [ 10%]
tests/integration/strategies/test_in_memory_indexing.py::test_get_chunk PASSED [ 10%]
tests/integration/strategies/test_in_memory_indexing.py::test_multiple_documents PASSED [ 10%]
tests/integration/strategies/test_in_memory_indexing.py::test_empty_documents PASSED [ 10%]
tests/integration/strategies/test_in_memory_indexing.py::test_custom_chunk_size PASSED [ 11%]
tests/integration/strategies/test_in_memory_indexing.py::test_chunk_metadata_preservation PASSED [ 11%]
tests/integration/strategies/test_in_memory_indexing.py::test_shared_storage_across_instances PASSED [ 11%]
tests/integration/strategies/test_in_memory_indexing.py::test_document_without_id PASSED [ 11%]
tests/integration/strategies/test_keyword_indexing.py::test_capabilities ERROR [ 11%]
tests/integration/strategies/test_keyword_indexing.py::test_dependencies ERROR [ 11%]
tests/integration/strategies/test_keyword_indexing.py::test_process_success ERROR [ 11%]
tests/integration/strategies/test_keyword_indexing.py::test_process_no_chunks ERROR [ 11%]
tests/integration/strategies/test_keyword_indexing.py::test_process_empty_text ERROR [ 11%]
tests/integration/strategies/test_keyword_indexing.py::test_process_stop_words_only ERROR [ 11%]
tests/integration/strategies/test_knowledge_graph_integration.py::test_knowledge_graph_workflow FAILED [ 11%]
tests/integration/strategies/test_knowledge_graph_integration.py::test_hybrid_retrieval FAILED [ 11%]
tests/integration/strategies/test_knowledge_graph_integration.py::test_relationship_queries FAILED [ 11%]
tests/integration/strategies/test_knowledge_graph_integration.py::test_graph_statistics FAILED [ 11%]
tests/integration/strategies/test_late_chunking_integration.py::test_late_chunking_workflow FAILED [ 11%]
tests/integration/strategies/test_late_chunking_integration.py::test_fixed_size_chunking_integration FAILED [ 11%]
tests/integration/strategies/test_late_chunking_integration.py::test_adaptive_chunking_integration FAILED [ 11%]
tests/integration/strategies/test_late_chunking_integration.py::test_multiple_documents FAILED [ 11%]
tests/integration/strategies/test_late_chunking_integration.py::test_strategy_properties FAILED [ 12%]
tests/integration/strategies/test_late_chunking_integration.py::test_coherence_scores_computed FAILED [ 12%]
tests/integration/strategies/test_late_chunking_integration.py::test_short_document FAILED [ 12%]
tests/integration/strategies/test_late_chunking_integration.py::test_chunk_embeddings_valid FAILED [ 12%]
tests/integration/strategies/test_late_chunking_integration.py::test_embedding_quality FAILED [ 12%]
tests/integration/strategies/test_multi_query_integration.py::TestMultiQueryIntegration::test_multi_query_complete_workflow FAILED [ 12%]
tests/integration/strategies/test_multi_query_integration.py::TestMultiQueryIntegration::test_multi_query_async_workflow FAILED [ 12%]
tests/integration/strategies/test_multi_query_integration.py::TestMultiQueryIntegration::test_variant_diversity FAILED [ 12%]
tests/integration/strategies/test_multi_query_integration.py::TestMultiQueryIntegration::test_performance_requirements FAILED [ 12%]
tests/integration/strategies/test_multi_query_integration.py::TestMultiQueryIntegration::test_fallback_on_failure FAILED [ 12%]
tests/integration/strategies/test_multi_query_integration.py::TestMultiQueryIntegration::test_ranking_strategy_comparison FAILED [ 12%]
tests/integration/strategies/test_multi_query_integration.py::TestMultiQueryIntegration::test_deduplication_across_variants FAILED [ 12%]
tests/integration/strategies/test_multi_query_integration.py::TestMultiQueryIntegration::test_strategy_properties FAILED [ 12%]
tests/integration/strategies/test_multi_query_integration.py::TestMultiQueryRealLLM::test_with_real_llm SKIPPED [ 12%]
tests/integration/strategies/test_query_expansion_integration.py::TestQueryExpansionIntegration::test_keyword_expansion_real_llm SKIPPED [ 12%]
tests/integration/strategies/test_query_expansion_integration.py::TestQueryExpansionIntegration::test_query_reformulation SKIPPED [ 12%]
tests/integration/strategies/test_query_expansion_integration.py::TestQueryExpansionIntegration::test_question_generation SKIPPED [ 12%]
tests/integration/strategies/test_query_expansion_integration.py::TestQueryExpansionIntegration::test_hyde_expansion SKIPPED [ 12%]
tests/integration/strategies/test_query_expansion_integration.py::TestQueryExpansionIntegration::test_multi_query_generation SKIPPED [ 13%]
tests/integration/strategies/test_query_expansion_integration.py::TestQueryExpansionIntegration::test_expansion_performance SKIPPED [ 13%]
tests/integration/strategies/test_query_expansion_integration.py::TestQueryExpansionIntegration::test_cache_functionality SKIPPED [ 13%]
tests/integration/strategies/test_query_expansion_integration.py::TestQueryExpansionIntegration::test_ab_testing_functionality SKIPPED [ 13%]
tests/integration/strategies/test_query_expansion_integration.py::TestQueryExpansionIntegration::test_domain_context SKIPPED [ 13%]
tests/integration/strategies/test_query_expansion_integration.py::TestQueryExpansionIntegration::test_error_handling_fallback SKIPPED [ 13%]
tests/integration/strategies/test_query_expansion_integration.py::TestQueryExpansionIntegration::test_stats_tracking SKIPPED [ 13%]
tests/integration/strategies/test_reranking_integration.py::TestMockRerankerIntegration::test_end_to_end_reranking PASSED [ 13%]
tests/integration/strategies/test_reranking_integration.py::TestMockRerankerIntegration::test_performance_with_many_candidates PASSED [ 13%]
tests/integration/strategies/test_reranking_integration.py::TestMockRerankerIntegration::test_cache_effectiveness PASSED [ 13%]
tests/integration/strategies/test_reranking_integration.py::TestMockRerankerIntegration::test_score_threshold_filtering PASSED [ 13%]
tests/integration/strategies/test_reranking_integration.py::TestMockRerankerIntegration::test_ranking_position_tracking PASSED [ 13%]
tests/integration/strategies/test_reranking_integration.py::TestMockRerankerIntegration::test_fallback_preserves_order PASSED [ 13%]
tests/integration/strategies/test_reranking_integration.py::TestMockRerankerIntegration::test_batch_processing PASSED [ 13%]
tests/integration/strategies/test_reranking_integration.py::TestMockRerankerIntegration::test_statistics_accumulation PASSED [ 13%]
tests/integration/strategies/test_reranking_integration.py::TestRealCrossEncoderIntegration::test_real_model_reranking SKIPPED [ 13%]
tests/integration/strategies/test_self_reflective_integration.py::TestSelfReflectiveIntegration::test_end_to_end_workflow PASSED [ 13%]
tests/integration/strategies/test_self_reflective_integration.py::TestSelfReflectiveIntegration::test_retry_with_poor_results PASSED [ 13%]
tests/integration/strategies/test_self_reflective_integration.py::TestSelfReflectiveIntegration::test_performance_within_limits PASSED [ 14%]
tests/integration/strategies/test_self_reflective_integration.py::TestSelfReflectiveRealLLM::test_with_real_llm SKIPPED [ 14%]
tests/integration/strategies/test_vector_embedding_indexing.py::TestVectorEmbeddingIndexing::test_capabilities_and_dependencies PASSED [ 14%]
tests/integration/strategies/test_vector_embedding_indexing.py::TestVectorEmbeddingIndexing::test_process_success PASSED [ 14%]
tests/integration/strategies/test_vector_embedding_indexing.py::TestVectorEmbeddingIndexing::test_process_batching PASSED [ 14%]
tests/integration/strategies/test_vector_embedding_indexing.py::TestVectorEmbeddingIndexing::test_no_chunks_error PASSED [ 14%]
tests/integration/strategies/test_vector_embedding_indexing.py::TestVectorEmbeddingIndexing::test_service_error PASSED [ 14%]
tests/integration/test_config_integration.py::test_load_validate_use_config PASSED [ 14%]
tests/integration/test_config_integration.py::test_multi_environment_configuration PASSED [ 14%]
tests/integration/test_config_integration.py::test_config_with_factory FAILED [ 14%]
tests/integration/test_config_integration.py::test_config_with_pipeline FAILED [ 14%]
tests/integration/test_config_integration.py::test_complete_real_world_scenario PASSED [ 14%]
tests/integration/test_config_integration.py::test_config_export_and_reimport PASSED [ 14%]
tests/integration/test_config_integration.py::test_json_configuration_integration PASSED [ 14%]
tests/integration/test_config_integration.py::test_deeply_nested_configuration_access PASSED [ 14%]
tests/integration/test_factory_consistency.py::TestFactoryConsistencyIntegration::test_consistent_indexing_strategy_no_warnings PASSED [ 14%]
tests/integration/test_factory_consistency.py::TestFactoryConsistencyIntegration::test_inconsistent_indexing_strategy_logs_warnings PASSED [ 14%]
tests/integration/test_factory_consistency.py::TestFactoryConsistencyIntegration::test_consistent_retrieval_strategy_no_warnings PASSED [ 14%]
tests/integration/test_factory_consistency.py::TestFactoryConsistencyIntegration::test_inconsistent_retrieval_strategy_logs_warnings PASSED [ 15%]
tests/integration/test_factory_consistency.py::TestFactoryConsistencyIntegration::test_legacy_strategy_without_capability_methods PASSED [ 15%]
tests/integration/test_factory_consistency.py::TestFactoryConsistencyIntegration::test_warning_messages_include_strategy_name PASSED [ 15%]
tests/integration/test_factory_consistency.py::TestFactoryConsistencyIntegration::test_warning_messages_include_emoji PASSED [ 15%]
tests/integration/test_factory_consistency.py::TestFactoryConsistencyIntegration::test_override_dependencies_checked PASSED [ 15%]
tests/integration/test_factory_integration.py::test_register_create_use_strategy FAILED [ 15%]
tests/integration/test_factory_integration.py::test_create_multiple_different_strategies FAILED [ 15%]
tests/integration/test_factory_integration.py::test_create_multiple_instances_of_same_strategy FAILED [ 15%]
tests/integration/test_factory_integration.py::test_dependency_injection PASSED [ 15%]
tests/integration/test_factory_integration.py::test_config_file_with_yaml FAILED [ 15%]
tests/integration/test_factory_integration.py::test_config_file_with_json FAILED [ 15%]
tests/integration/test_factory_integration.py::test_factory_error_recovery FAILED [ 15%]
tests/integration/test_factory_integration.py::test_factory_state_after_failed_creation FAILED [ 15%]
tests/integration/test_factory_integration.py::test_decorator_integration FAILED [ 15%]
tests/integration/test_factory_integration.py::test_full_rag_workflow FAILED [ 15%]
tests/integration/test_factory_integration.py::test_async_retrieve_integration FAILED [ 15%]
tests/integration/test_package_integration.py::TestPackageInstallation::test_package_installable FAILED [ 15%]
tests/integration/test_package_integration.py::TestSmokeTest::test_basic_usage_smoke_test PASSED [ 15%]
tests/integration/test_package_integration.py::TestFullWorkflow::test_full_workflow_with_installed_package FAILED [ 16%]
tests/integration/test_package_integration.py::TestBuildAndDistribution::test_package_can_be_built SKIPPED [ 16%]
tests/integration/test_pipeline_integration.py::test_three_strategy_pipeline FAILED [ 16%]
tests/integration/test_pipeline_integration.py::test_parallel_faster_than_sequential FAILED [ 16%]
tests/integration/test_pipeline_integration.py::test_pipeline_continues_after_non_critical_failure FAILED [ 16%]
tests/integration/test_pipeline_integration.py::test_load_pipeline_from_yaml FAILED [ 16%]
tests/integration/test_pipeline_integration.py::test_async_sequential_execution FAILED [ 16%]
tests/integration/test_pipeline_integration.py::test_async_fallback_execution FAILED [ 16%]
tests/integration/test_pipeline_integration.py::test_parallel_execution_with_failures FAILED [ 16%]
tests/integration/test_tokenization_integration.py::TestTokenizationIntegration::test_openai_token_count_accuracy PASSED [ 16%]
tests/integration/test_tokenization_integration.py::TestTokenizationIntegration::test_different_encodings PASSED [ 16%]
tests/integration/test_tokenization_integration.py::TestTokenizationIntegration::test_long_text_handling PASSED [ 16%]
tests/integration/test_tokenization_integration.py::TestTokenizationIntegration::test_special_characters PASSED [ 16%]
tests/integration/test_tokenization_integration.py::TestTokenizationIntegration::test_multilingual_text PASSED [ 16%]
tests/integration/test_tokenization_integration.py::TestTokenizationIntegration::test_mixed_content PASSED [ 16%]
tests/integration/test_tokenization_integration.py::TestTokenizationIntegration::test_truncation_accuracy PASSED [ 16%]
tests/integration/test_tokenization_integration.py::TestTokenizationIntegration::test_splitting_accuracy PASSED [ 16%]
tests/integration/test_tokenization_integration.py::TestTokenizationIntegration::test_overlap_behavior PASSED [ 16%]
tests/integration/test_tokenization_integration.py::TestTokenizationIntegration::test_empty_and_whitespace PASSED [ 17%]
tests/integration/test_tokenization_integration.py::TestTokenizationIntegration::test_very_long_single_word PASSED [ 17%]
tests/integration/test_tokenization_integration.py::TestTokenizationIntegration::test_consistency_across_calls PASSED [ 17%]
tests/integration/test_tokenization_integration.py::TestTokenizationIntegration::test_different_models PASSED [ 17%]
tests/integration/test_tokenization_integration.py::TestPerformance::test_tokenization_speed PASSED [ 17%]
tests/integration/test_tokenization_integration.py::TestPerformance::test_token_counting_speed PASSED [ 17%]
tests/integration/test_tokenization_integration.py::TestPerformance::test_batch_tokenization_performance PASSED [ 17%]
tests/unit/cli/test_benchmark_command.py::TestBenchmarkCommand::test_benchmark_default_strategies PASSED [ 17%]
tests/unit/cli/test_benchmark_command.py::TestBenchmarkCommand::test_benchmark_specific_strategies PASSED [ 17%]
tests/unit/cli/test_benchmark_command.py::TestBenchmarkCommand::test_benchmark_export_results PASSED [ 17%]
tests/unit/cli/test_benchmark_command.py::TestBenchmarkCommand::test_benchmark_missing_dataset PASSED [ 17%]
tests/unit/cli/test_benchmark_command.py::TestBenchmarkCommand::test_benchmark_missing_index PASSED [ 17%]
tests/unit/cli/test_check_consistency_command.py::TestCheckConsistencyCommand::test_command_help PASSED [ 17%]
tests/unit/cli/test_check_consistency_command.py::TestCheckConsistencyCommand::test_all_strategies_consistent PASSED [ 17%]
tests/unit/cli/test_check_consistency_command.py::TestCheckConsistencyCommand::test_strategies_with_warnings PASSED [ 17%]
tests/unit/cli/test_check_consistency_command.py::TestCheckConsistencyCommand::test_type_filter_indexing PASSED [ 17%]
tests/unit/cli/test_check_consistency_command.py::TestCheckConsistencyCommand::test_type_filter_retrieval PASSED [ 17%]
tests/unit/cli/test_check_consistency_command.py::TestCheckConsistencyCommand::test_invalid_type_filter PASSED [ 17%]
tests/unit/cli/test_check_consistency_command.py::TestCheckConsistencyCommand::test_strategy_filter PASSED [ 18%]
tests/unit/cli/test_check_consistency_command.py::TestCheckConsistencyCommand::test_verbose_mode PASSED [ 18%]
tests/unit/cli/test_check_consistency_command.py::TestCheckConsistencyCommand::test_config_file_loading FAILED [ 18%]
tests/unit/cli/test_check_consistency_command.py::TestCheckConsistencyCommand::test_system_error_returns_exit_code_1 PASSED [ 18%]
tests/unit/cli/test_check_consistency_command.py::TestCheckConsistencyCommand::test_strategies_with_errors PASSED [ 18%]
tests/unit/cli/test_config_validation_command.py::TestConfigValidationCommand::test_validate_valid_config PASSED [ 18%]
tests/unit/cli/test_config_validation_command.py::TestConfigValidationCommand::test_validate_invalid_config_missing_field PASSED [ 18%]
tests/unit/cli/test_config_validation_command.py::TestConfigValidationCommand::test_validate_invalid_config_values PASSED [ 18%]
tests/unit/cli/test_config_validation_command.py::TestConfigValidationCommand::test_validate_config_warnings PASSED [ 18%]
tests/unit/cli/test_config_validation_command.py::TestConfigValidationCommand::test_validate_config_strict_mode PASSED [ 18%]
tests/unit/cli/test_config_validation_command.py::TestConfigValidationCommand::test_validate_show_config PASSED [ 18%]
tests/unit/cli/test_consistency_formatter.py::TestConsistencyFormatter::test_format_empty_results PASSED [ 18%]
tests/unit/cli/test_consistency_formatter.py::TestConsistencyFormatter::test_format_consistent_strategies PASSED [ 18%]
tests/unit/cli/test_consistency_formatter.py::TestConsistencyFormatter::test_format_strategies_with_warnings PASSED [ 18%]
tests/unit/cli/test_consistency_formatter.py::TestConsistencyFormatter::test_format_strategies_with_errors PASSED [ 18%]
tests/unit/cli/test_consistency_formatter.py::TestConsistencyFormatter::test_grouping_by_type PASSED [ 18%]
tests/unit/cli/test_consistency_formatter.py::TestConsistencyFormatter::test_verbose_mode PASSED [ 18%]
tests/unit/cli/test_consistency_formatter.py::TestConsistencyFormatter::test_display_strategy_group PASSED [ 18%]
tests/unit/cli/test_consistency_formatter.py::TestConsistencyFormatter::test_display_summary PASSED [ 19%]
tests/unit/cli/test_consistency_formatter.py::TestConsistencyFormatter::test_warning_note_displayed PASSED [ 19%]
tests/unit/cli/test_consistency_formatter.py::TestConsistencyFormatter::test_multiple_warnings_per_strategy PASSED [ 19%]
tests/unit/cli/test_formatters.py::TestOutputFormatters::test_format_success PASSED [ 19%]
tests/unit/cli/test_formatters.py::TestOutputFormatters::test_format_success_with_title PASSED [ 19%]
tests/unit/cli/test_formatters.py::TestOutputFormatters::test_format_error PASSED [ 19%]
tests/unit/cli/test_formatters.py::TestOutputFormatters::test_format_warning PASSED [ 19%]
tests/unit/cli/test_formatters.py::TestQueryResultsFormatter::test_format_query_results_basic PASSED [ 19%]
tests/unit/cli/test_formatters.py::TestQueryResultsFormatter::test_format_query_results_with_strategy PASSED [ 19%]
tests/unit/cli/test_formatters.py::TestQueryResultsFormatter::test_format_empty_results PASSED [ 19%]
tests/unit/cli/test_formatters.py::TestQueryResultsFormatter::test_format_results_with_long_text PASSED [ 19%]
tests/unit/cli/test_formatters.py::TestStrategyListFormatter::test_format_strategy_list_basic PASSED [ 19%]
tests/unit/cli/test_formatters.py::TestStrategyListFormatter::test_format_strategy_list_with_filter PASSED [ 19%]
tests/unit/cli/test_formatters.py::TestStrategyListFormatter::test_format_empty_strategy_list PASSED [ 19%]
tests/unit/cli/test_formatters.py::TestStrategyListFormatter::test_format_strategy_list_grouped_by_type PASSED [ 19%]
tests/unit/cli/test_formatters.py::TestBenchmarkResultsFormatter::test_format_benchmark_results_basic PASSED [ 19%]
tests/unit/cli/test_formatters.py::TestBenchmarkResultsFormatter::test_format_single_strategy_benchmark PASSED [ 19%]
tests/unit/cli/test_formatters.py::TestBenchmarkResultsFormatter::test_format_empty_benchmark_results PASSED [ 19%]
tests/unit/cli/test_formatters.py::TestStatisticsFormatter::test_format_statistics_basic PASSED [ 20%]
tests/unit/cli/test_formatters.py::TestStatisticsFormatter::test_format_statistics_with_floats PASSED [ 20%]
tests/unit/cli/test_formatters.py::TestStatisticsFormatter::test_format_empty_statistics PASSED [ 20%]
tests/unit/cli/test_formatters.py::TestStatisticsFormatter::test_format_statistics_key_transformation PASSED [ 20%]
tests/unit/cli/test_index_command.py::TestIndexCommand::test_index_success PASSED [ 20%]
tests/unit/cli/test_index_command.py::TestIndexCommand::test_index_with_invalid_path PASSED [ 20%]
tests/unit/cli/test_index_command.py::TestIndexCommand::test_index_no_documents_found PASSED [ 20%]
tests/unit/cli/test_index_command.py::TestIndexCommand::test_index_with_config PASSED [ 20%]
tests/unit/cli/test_index_command.py::TestIndexCommand::test_index_output_directory PASSED [ 20%]
tests/unit/cli/test_list_strategies_command.py::TestListStrategiesCommand::test_list_all_strategies PASSED [ 20%]
tests/unit/cli/test_list_strategies_command.py::TestListStrategiesCommand::test_list_strategies_empty PASSED [ 20%]
tests/unit/cli/test_list_strategies_command.py::TestListStrategiesCommand::test_filter_strategies_by_type PASSED [ 20%]
tests/unit/cli/test_list_strategies_command.py::TestListStrategiesCommand::test_filter_strategies_no_match PASSED [ 20%]
tests/unit/cli/test_list_strategies_command.py::TestListStrategiesCommand::test_list_strategies_verbose PASSED [ 20%]
tests/unit/cli/test_query_command.py::TestQueryCommand::test_query_success PASSED [ 20%]
tests/unit/cli/test_query_command.py::TestQueryCommand::test_query_index_not_found PASSED [ 20%]
tests/unit/cli/test_query_command.py::TestQueryCommand::test_query_with_config PASSED [ 20%]
tests/unit/cli/test_query_command.py::TestQueryCommand::test_query_multiple_strategies PASSED [ 20%]
tests/unit/cli/test_query_command.py::TestQueryCommand::test_query_no_results PASSED [ 21%]
tests/unit/cli/test_repl_command.py::TestREPLCommand::test_repl_start PASSED [ 21%]
tests/unit/cli/test_repl_command.py::TestREPLCommand::test_repl_with_config PASSED [ 21%]
tests/unit/cli/test_repl_command.py::TestREPLSession::test_repl_session_init FAILED [ 21%]
tests/unit/cli/test_repl_command.py::TestREPLSession::test_repl_set_command PASSED [ 21%]
tests/unit/cli/test_validate_pipeline_command.py::TestValidatePipelineCommand::test_command_help PASSED [ 21%]
tests/unit/cli/test_validate_pipeline_command.py::TestValidatePipelineCommand::test_missing_indexing_argument PASSED [ 21%]
tests/unit/cli/test_validate_pipeline_command.py::TestValidatePipelineCommand::test_missing_retrieval_argument PASSED [ 21%]
tests/unit/cli/test_validate_pipeline_command.py::TestValidatePipelineCommand::test_valid_pipeline_returns_zero PASSED [ 21%]
tests/unit/cli/test_validate_pipeline_command.py::TestValidatePipelineCommand::test_invalid_pipeline_returns_nonzero PASSED [ 21%]
tests/unit/cli/test_validate_pipeline_command.py::TestValidatePipelineCommand::test_invalid_strategy_name_error PASSED [ 21%]
tests/unit/cli/test_validate_pipeline_command.py::TestValidatePipelineCommand::test_parse_multiple_strategies PASSED [ 21%]
tests/unit/cli/test_validate_pipeline_command.py::TestValidatePipelineCommand::test_config_file_loading PASSED [ 21%]
tests/unit/cli/test_validation.py::TestValidatePathExists::test_validate_existing_file PASSED [ 21%]
tests/unit/cli/test_validation.py::TestValidatePathExists::test_validate_existing_directory PASSED [ 21%]
tests/unit/cli/test_validation.py::TestValidatePathExists::test_validate_nonexistent_path PASSED [ 21%]
tests/unit/cli/test_validation.py::TestValidatePathExists::test_validate_file_when_directory PASSED [ 21%]
tests/unit/cli/test_validation.py::TestValidatePathExists::test_validate_directory_when_file PASSED [ 21%]
tests/unit/cli/test_validation.py::TestValidateConfigFile::test_validate_yaml_config PASSED [ 22%]
tests/unit/cli/test_validation.py::TestValidateConfigFile::test_validate_json_config PASSED [ 22%]
tests/unit/cli/test_validation.py::TestValidateConfigFile::test_validate_invalid_yaml PASSED [ 22%]
tests/unit/cli/test_validation.py::TestValidateConfigFile::test_validate_invalid_json PASSED [ 22%]
tests/unit/cli/test_validation.py::TestValidateConfigFile::test_validate_unsupported_format PASSED [ 22%]
tests/unit/cli/test_validation.py::TestValidateConfigFile::test_validate_nonexistent_file PASSED [ 22%]
tests/unit/cli/test_validation.py::TestValidateConfigFile::test_validate_non_dict_config PASSED [ 22%]
tests/unit/cli/test_validation.py::TestParseStrategyList::test_parse_single_strategy PASSED [ 22%]
tests/unit/cli/test_validation.py::TestParseStrategyList::test_parse_multiple_strategies PASSED [ 22%]
tests/unit/cli/test_validation.py::TestParseStrategyList::test_parse_strategies_with_spaces PASSED [ 22%]
tests/unit/cli/test_validation.py::TestParseStrategyList::test_parse_empty_string PASSED [ 22%]
tests/unit/cli/test_validation.py::TestParseStrategyList::test_parse_only_commas PASSED [ 22%]
tests/unit/cli/test_validation_formatter.py::TestDisplayCapabilities::test_display_capabilities_with_capabilities PASSED [ 22%]
tests/unit/cli/test_validation_formatter.py::TestDisplayCapabilities::test_display_capabilities_empty PASSED [ 22%]
tests/unit/cli/test_validation_formatter.py::TestDisplayRequirements::test_display_requirements_all_met PASSED [ 22%]
tests/unit/cli/test_validation_formatter.py::TestDisplayRequirements::test_display_requirements_unmet PASSED [ 22%]
tests/unit/cli/test_validation_formatter.py::TestDisplayRequirements::test_display_requirements_empty PASSED [ 22%]
tests/unit/cli/test_validation_formatter.py::TestDisplayServiceRequirements::test_display_service_requirements_all_available PASSED [ 22%]
tests/unit/cli/test_validation_formatter.py::TestDisplayServiceRequirements::test_display_service_requirements_missing PASSED [ 23%]
tests/unit/cli/test_validation_formatter.py::TestDisplayServiceRequirements::test_display_service_requirements_empty PASSED [ 23%]
tests/unit/cli/test_validation_formatter.py::TestDisplayValidationStatus::test_display_valid_status PASSED [ 23%]
tests/unit/cli/test_validation_formatter.py::TestDisplayValidationStatus::test_display_invalid_status_missing_capabilities PASSED [ 23%]
tests/unit/cli/test_validation_formatter.py::TestDisplayValidationStatus::test_display_invalid_status_missing_services PASSED [ 23%]
tests/unit/cli/test_validation_formatter.py::TestDisplaySuggestions::test_display_suggestions PASSED [ 23%]
tests/unit/cli/test_validation_formatter.py::TestFormatValidationResults::test_format_valid_pipeline PASSED [ 23%]
tests/unit/cli/test_validation_formatter.py::TestFormatValidationResults::test_format_invalid_pipeline_with_suggestions PASSED [ 23%]
tests/unit/config/test_env_validator.py::TestEnvironmentValidator::test_validate_production_success PASSED [ 23%]
tests/unit/config/test_env_validator.py::TestEnvironmentValidator::test_validate_development_success PASSED [ 23%]
tests/unit/config/test_env_validator.py::TestEnvironmentValidator::test_validate_test_success PASSED [ 23%]
tests/unit/config/test_env_validator.py::TestEnvironmentValidator::test_validate_production_missing PASSED [ 23%]
tests/unit/config/test_env_validator.py::TestEnvironmentValidator::test_validate_test_missing PASSED [ 23%]
tests/unit/config/test_env_validator.py::TestEnvironmentValidator::test_validate_test_with_deprecated_var PASSED [ 23%]
tests/unit/config/test_env_validator.py::TestEnvironmentValidator::test_deprecated_warning PASSED [ 23%]
tests/unit/config/test_env_validator.py::TestEnvironmentValidator::test_no_deprecated_warning_when_not_set PASSED [ 23%]
tests/unit/config/test_env_validator.py::TestEnvironmentValidator::test_get_database_url_main PASSED [ 23%]
tests/unit/config/test_env_validator.py::TestEnvironmentValidator::test_get_database_url_test_new_name PASSED [ 23%]
tests/unit/config/test_env_validator.py::TestEnvironmentValidator::test_get_database_url_backward_compatible PASSED [ 24%]
tests/unit/config/test_env_validator.py::TestEnvironmentValidator::test_get_database_url_prefers_new_name PASSED [ 24%]
tests/unit/config/test_env_validator.py::TestEnvironmentValidator::test_get_database_url_returns_none_when_not_set PASSED [ 24%]
tests/unit/config/test_env_validator.py::TestEnvironmentValidator::test_get_database_url_test_returns_none_when_not_set PASSED [ 24%]
tests/unit/config/test_env_validator.py::TestEnvironmentValidator::test_get_all_database_vars PASSED [ 24%]
tests/unit/config/test_env_validator.py::TestEnvironmentValidator::test_check_required_returns_empty_for_valid_config PASSED [ 24%]
tests/unit/config/test_env_validator.py::TestEnvironmentValidator::test_check_required_returns_missing_vars PASSED [ 24%]
tests/unit/config/test_env_validator.py::TestEnvironmentValidator::test_error_message_includes_documentation_reference PASSED [ 24%]
tests/unit/config/test_env_validator.py::TestEnvironmentValidator::test_deprecation_warning_includes_migration_instructions PASSED [ 24%]
tests/unit/core/test_capabilities.py::TestIndexCapability::test_all_capabilities_defined PASSED [ 24%]
tests/unit/core/test_capabilities.py::TestIndexCapability::test_enum_values_unique PASSED [ 24%]
tests/unit/core/test_capabilities.py::TestIndexCapability::test_enum_members_accessible PASSED [ 24%]
tests/unit/core/test_capabilities.py::TestIndexCapability::test_enum_string_representation PASSED [ 24%]
tests/unit/core/test_capabilities.py::TestIndexCapability::test_enum_comparison PASSED [ 24%]
tests/unit/core/test_capabilities.py::TestIndexCapability::test_enum_in_set PASSED [ 24%]
tests/unit/core/test_capabilities.py::TestIndexingResult::test_has_capability_present PASSED [ 24%]
tests/unit/core/test_capabilities.py::TestIndexingResult::test_has_capability_absent PASSED [ 24%]
tests/unit/core/test_capabilities.py::TestIndexingResult::test_is_compatible_with_satisfied PASSED [ 25%]
tests/unit/core/test_capabilities.py::TestIndexingResult::test_is_compatible_with_unsatisfied PASSED [ 25%]
tests/unit/core/test_capabilities.py::TestIndexingResult::test_is_compatible_with_empty_requirements PASSED [ 25%]
tests/unit/core/test_capabilities.py::TestIndexingResult::test_repr_format PASSED [ 25%]
tests/unit/core/test_capabilities.py::TestIndexingResult::test_repr_sorted_capabilities PASSED [ 25%]
tests/unit/core/test_capabilities.py::TestValidationResult::test_repr_valid PASSED [ 25%]
tests/unit/core/test_capabilities.py::TestValidationResult::test_repr_missing_capabilities_only PASSED [ 25%]
tests/unit/core/test_capabilities.py::TestValidationResult::test_repr_missing_services_only PASSED [ 25%]
tests/unit/core/test_capabilities.py::TestValidationResult::test_repr_missing_both PASSED [ 25%]
tests/unit/core/test_capabilities.py::TestValidationResult::test_repr_empty_missing PASSED [ 25%]
tests/unit/core/test_capabilities.py::TestValidationResult::test_repr_sorted_items PASSED [ 25%]
tests/unit/core/test_factory_validation.py::test_validate_compatibility_success PASSED [ 25%]
tests/unit/core/test_factory_validation.py::test_validate_compatibility_failure PASSED [ 25%]
tests/unit/core/test_factory_validation.py::test_validate_pipeline_success PASSED [ 25%]
tests/unit/core/test_factory_validation.py::test_validate_pipeline_missing_service PASSED [ 25%]
tests/unit/core/test_factory_validation.py::test_auto_select_retrieval PASSED [ 25%]
tests/unit/core/test_factory_validation.py::test_auto_select_retrieval_preference PASSED [ 25%]
tests/unit/core/test_factory_validation.py::test_consistency_checking_called PASSED [ 25%]
tests/unit/core/test_indexing_interface.py::TestIndexingContext::test_initialization_with_database_service PASSED [ 26%]
tests/unit/core/test_indexing_interface.py::TestIndexingContext::test_initialization_with_config PASSED [ 26%]
tests/unit/core/test_indexing_interface.py::TestIndexingContext::test_metrics_tracking PASSED [ 26%]
tests/unit/core/test_indexing_interface.py::TestIndexingContext::test_config_defaults_to_empty_dict PASSED [ 26%]
tests/unit/core/test_indexing_interface.py::TestIIndexingStrategy::test_cannot_instantiate_abstract_class PASSED [ 26%]
tests/unit/core/test_indexing_interface.py::TestIIndexingStrategy::test_requires_produces_implementation PASSED [ 26%]
tests/unit/core/test_indexing_interface.py::TestIIndexingStrategy::test_requires_requires_services_implementation PASSED [ 26%]
tests/unit/core/test_indexing_interface.py::TestIIndexingStrategy::test_requires_process_implementation PASSED [ 26%]
tests/unit/core/test_indexing_interface.py::TestIIndexingStrategy::test_complete_implementation_succeeds PASSED [ 26%]
tests/unit/core/test_indexing_interface.py::TestIIndexingStrategy::test_dependency_validation_on_init PASSED [ 26%]
tests/unit/core/test_indexing_interface.py::TestVectorEmbeddingIndexing::test_produces_correct_capabilities PASSED [ 26%]
tests/unit/core/test_indexing_interface.py::TestVectorEmbeddingIndexing::test_requires_correct_services PASSED [ 26%]
tests/unit/core/test_indexing_interface.py::TestVectorEmbeddingIndexing::test_initialization_fails_without_embedding_service PASSED [ 26%]
tests/unit/core/test_indexing_interface.py::TestVectorEmbeddingIndexing::test_initialization_fails_without_database_service PASSED [ 26%]
tests/unit/core/test_indexing_interface.py::TestVectorEmbeddingIndexing::test_initialization_succeeds_with_all_services PASSED [ 26%]
tests/unit/core/test_indexing_interface.py::TestVectorEmbeddingIndexing::test_process_chunks_documents PASSED [ 26%]
tests/unit/core/test_indexing_interface.py::TestVectorEmbeddingIndexing::test_process_generates_embeddings PASSED [ 26%]
tests/unit/core/test_indexing_interface.py::TestVectorEmbeddingIndexing::test_process_stores_chunks_in_database PASSED [ 26%]
tests/unit/core/test_indexing_interface.py::TestVectorEmbeddingIndexing::test_process_updates_context_metrics PASSED [ 27%]
tests/unit/core/test_indexing_interface.py::TestVectorEmbeddingIndexing::test_process_returns_correct_result PASSED [ 27%]
tests/unit/core/test_indexing_interface.py::TestVectorEmbeddingIndexing::test_chunk_documents_with_default_config PASSED [ 27%]
tests/unit/core/test_indexing_interface.py::TestVectorEmbeddingIndexing::test_chunk_documents_preserves_metadata PASSED [ 27%]
tests/unit/core/test_indexing_interface.py::TestValidateDependencies::test_validation_passes_with_all_services PASSED [ 27%]
tests/unit/core/test_indexing_interface.py::TestValidateDependencies::test_validation_fails_with_missing_service PASSED [ 27%]
tests/unit/core/test_indexing_interface.py::TestValidateDependencies::test_validation_fails_with_multiple_missing_services PASSED [ 27%]
tests/unit/core/test_indexing_interface.py::TestValidateDependencies::test_validation_passes_with_empty_requirements PASSED [ 27%]
tests/unit/core/test_indexing_interface.py::TestValidateDependencies::test_validation_passes_with_extra_services PASSED [ 27%]
tests/unit/core/test_pipeline.py::test_initialization PASSED             [ 27%]
tests/unit/core/test_pipeline.py::test_get_capabilities_before_execution PASSED [ 27%]
tests/unit/core/test_pipeline.py::test_index_sequential_execution PASSED [ 27%]
tests/unit/core/test_pipeline.py::test_get_capabilities_after_execution PASSED [ 27%]
tests/unit/core/test_pipeline.py::test_error_handling PASSED             [ 27%]
tests/unit/core/test_pipeline.py::test_retrieval_initialization PASSED   [ 27%]
tests/unit/core/test_pipeline.py::test_retrieval_requirements PASSED     [ 27%]
tests/unit/core/test_pipeline.py::test_retrieval_sequential_execution PASSED [ 27%]
tests/unit/core/test_pipeline.py::test_retrieval_error_handling PASSED   [ 27%]
tests/unit/core/test_retrieval_interface.py::TestRetrievalContext::test_initialization_with_database_service PASSED [ 28%]
tests/unit/core/test_retrieval_interface.py::TestRetrievalContext::test_initialization_with_config PASSED [ 28%]
tests/unit/core/test_retrieval_interface.py::TestRetrievalContext::test_metrics_tracking PASSED [ 28%]
tests/unit/core/test_retrieval_interface.py::TestIRetrievalStrategy::test_cannot_instantiate_abstract_class PASSED [ 28%]
tests/unit/core/test_retrieval_interface.py::TestIRetrievalStrategy::test_dependency_validation_on_init PASSED [ 28%]
tests/unit/core/test_retrieval_interface.py::TestIRetrievalStrategy::test_successful_initialization_with_all_dependencies PASSED [ 28%]
tests/unit/core/test_retrieval_interface.py::TestIRetrievalStrategy::test_abstract_methods_must_be_implemented PASSED [ 28%]
tests/unit/core/test_retrieval_interface.py::TestRerankingRetrieval::test_requires_capabilities PASSED [ 28%]
tests/unit/core/test_retrieval_interface.py::TestRerankingRetrieval::test_requires_services PASSED [ 28%]
tests/unit/core/test_retrieval_interface.py::TestRerankingRetrieval::test_initialization_validates_dependencies PASSED [ 28%]
tests/unit/core/test_retrieval_interface.py::TestRerankingRetrieval::test_retrieve_with_results PASSED [ 28%]
tests/unit/core/test_retrieval_interface.py::TestRerankingRetrieval::test_retrieve_with_no_candidates PASSED [ 28%]
tests/unit/core/test_retrieval_interface.py::TestRerankingRetrieval::test_retrieve_uses_default_initial_k PASSED [ 28%]
tests/unit/core/test_retrieval_interface.py::TestRerankingRetrieval::test_retrieve_uses_configured_initial_k PASSED [ 28%]
tests/unit/database/test_batch_operations.py::TestBatchOperations::test_batch_vector_insertion SKIPPED [ 28%]
tests/unit/database/test_batch_operations.py::TestBatchOperations::test_store_chunks_with_hierarchy SKIPPED [ 28%]
tests/unit/database/test_connection.py::TestDatabaseConnection::test_connection_initialization SKIPPED [ 28%]
tests/unit/database/test_connection.py::TestDatabaseConnection::test_connection_with_default_config SKIPPED [ 28%]
tests/unit/database/test_connection.py::TestDatabaseConnection::test_session_context_manager_commit SKIPPED [ 29%]
tests/unit/database/test_connection.py::TestDatabaseConnection::test_session_context_manager_rollback SKIPPED [ 29%]
tests/unit/database/test_connection.py::TestDatabaseConnection::test_health_check_success SKIPPED [ 29%]
tests/unit/database/test_connection.py::TestDatabaseConnection::test_health_check_failure SKIPPED [ 29%]
tests/unit/database/test_connection.py::TestDatabaseConnection::test_get_pool_status SKIPPED [ 29%]
tests/unit/database/test_connection.py::TestDatabaseConnection::test_create_tables SKIPPED [ 29%]
tests/unit/database/test_connection.py::TestDatabaseConnection::test_drop_tables SKIPPED [ 29%]
tests/unit/database/test_connection.py::TestDatabaseConnection::test_context_manager SKIPPED [ 29%]
tests/unit/database/test_connection.py::TestDatabaseConnection::test_multiple_sessions SKIPPED [ 29%]
tests/unit/database/test_connection.py::TestDatabaseConnection::test_pool_configuration SKIPPED [ 29%]
tests/unit/database/test_connection.py::TestDatabaseConnectionEvents::test_on_connect_event SKIPPED [ 29%]
tests/unit/database/test_connection.py::TestDatabaseConnectionEvents::test_on_checkout_event SKIPPED [ 29%]
tests/unit/database/test_migrations.py::TestAlembicMigrations::test_migration_upgrade_to_head SKIPPED [ 29%]
tests/unit/database/test_migrations.py::TestAlembicMigrations::test_migration_downgrade SKIPPED [ 29%]
tests/unit/database/test_migrations.py::TestAlembicMigrations::test_migration_history SKIPPED [ 29%]
tests/unit/database/test_migrations.py::TestAlembicMigrations::test_migration_idempotency SKIPPED [ 29%]
tests/unit/database/test_migrations.py::TestAlembicMigrations::test_get_current_version SKIPPED [ 29%]
tests/unit/database/test_migrations.py::TestAlembicMigrations::test_migration_creates_tables SKIPPED [ 29%]
tests/unit/database/test_migrations.py::TestAlembicMigrations::test_migration_creates_indexes SKIPPED [ 30%]
tests/unit/database/test_models.py::TestDocumentModel::test_document_model_has_required_columns SKIPPED [ 30%]
tests/unit/database/test_models.py::TestDocumentModel::test_document_creation SKIPPED [ 30%]
tests/unit/database/test_models.py::TestDocumentModel::test_document_default_values SKIPPED [ 30%]
tests/unit/database/test_models.py::TestDocumentModel::test_document_metadata_accepts_json SKIPPED [ 30%]
tests/unit/database/test_models.py::TestDocumentModel::test_document_status_values SKIPPED [ 30%]
tests/unit/database/test_models.py::TestDocumentModel::test_document_repr SKIPPED [ 30%]
tests/unit/database/test_models.py::TestDocumentModel::test_document_persistence SKIPPED [ 30%]
tests/unit/database/test_models.py::TestChunkModel::test_chunk_model_has_required_columns SKIPPED [ 30%]
tests/unit/database/test_models.py::TestChunkModel::test_chunk_creation SKIPPED [ 30%]
tests/unit/database/test_models.py::TestChunkModel::test_chunk_creation_with_embedding SKIPPED [ 30%]
tests/unit/database/test_models.py::TestChunkModel::test_chunk_default_values SKIPPED [ 30%]
tests/unit/database/test_models.py::TestChunkModel::test_chunk_metadata_accepts_json SKIPPED [ 30%]
tests/unit/database/test_models.py::TestChunkModel::test_chunk_repr SKIPPED [ 30%]
tests/unit/database/test_models.py::TestChunkModel::test_chunk_repr_without_embedding SKIPPED [ 30%]
tests/unit/database/test_models.py::TestChunkModel::test_chunk_persistence SKIPPED [ 30%]
tests/unit/database/test_models.py::TestModelRelationships::test_foreign_key_relationship SKIPPED [ 30%]
tests/unit/database/test_models.py::TestModelRelationships::test_document_chunks_relationship SKIPPED [ 30%]
tests/unit/database/test_models.py::TestModelRelationships::test_chunk_document_relationship SKIPPED [ 31%]
tests/unit/database/test_models.py::TestModelRelationships::test_cascade_delete SKIPPED [ 31%]
tests/unit/database/test_models.py::TestModelIndexes::test_document_indexes SKIPPED [ 31%]
tests/unit/database/test_models.py::TestModelIndexes::test_chunk_indexes SKIPPED [ 31%]
tests/unit/database/test_pgvector.py::TestPgVectorIntegration::test_cosine_similarity_search SKIPPED [ 31%]
tests/unit/database/test_pgvector.py::TestPgVectorIntegration::test_vector_storage_format SKIPPED [ 31%]
tests/unit/database/test_pgvector.py::TestPgVectorIntegration::test_empty_chunks_storage SKIPPED [ 31%]
tests/unit/database/test_vector_indexing.py::TestVectorIndexing::test_create_hnsw_index SKIPPED [ 31%]
tests/unit/database/test_vector_indexing.py::TestVectorIndexing::test_create_ivfflat_index SKIPPED [ 31%]
tests/unit/database/test_vector_indexing.py::TestVectorIndexing::test_drop_index SKIPPED [ 31%]
tests/unit/database/test_vector_indexing.py::TestVectorIndexing::test_list_indexes SKIPPED [ 31%]
tests/unit/documentation/test_code_examples.py::TestCodeExamples::test_all_code_examples_have_valid_syntax FAILED [ 31%]
tests/unit/documentation/test_code_examples.py::TestCodeExamples::test_strategy_examples_have_imports PASSED [ 31%]
tests/unit/documentation/test_code_examples.py::TestCodeExamples::test_configuration_examples_valid SKIPPED [ 31%]
tests/unit/documentation/test_code_examples.py::TestCodeExamples::test_quick_start_example_complete PASSED [ 31%]
tests/unit/documentation/test_code_examples.py::TestCodeExamples::test_no_placeholder_code FAILED [ 31%]
tests/unit/documentation/test_documentation_completeness.py::TestDocumentationCompleteness::test_required_doc_files_exist PASSED [ 31%]
tests/unit/documentation/test_documentation_completeness.py::TestDocumentationCompleteness::test_all_strategies_documented PASSED [ 31%]
tests/unit/documentation/test_documentation_completeness.py::TestDocumentationCompleteness::test_all_public_classes_documented PASSED [ 32%]
tests/unit/documentation/test_documentation_completeness.py::TestDocumentationCompleteness::test_all_public_methods_documented PASSED [ 32%]
tests/unit/documentation/test_documentation_completeness.py::TestDocumentationCompleteness::test_documentation_completeness_score PASSED [ 32%]
tests/unit/documentation/test_documentation_completeness.py::TestDocumentationCompleteness::test_mkdocs_config_valid FAILED [ 32%]
tests/unit/documentation/test_documentation_completeness.py::TestDocumentationCompleteness::test_readme_exists PASSED [ 32%]
tests/unit/documentation/test_documentation_completeness.py::TestDocumentationCompleteness::test_changelog_exists PASSED [ 32%]
tests/unit/documentation/test_links.py::TestDocumentationLinks::test_no_broken_internal_links FAILED [ 32%]
tests/unit/documentation/test_links.py::TestDocumentationLinks::test_all_diagrams_valid FAILED [ 32%]
tests/unit/documentation/test_links.py::TestDocumentationLinks::test_no_todo_links FAILED [ 32%]
tests/unit/documentation/test_links.py::TestDocumentationLinks::test_external_links_valid SKIPPED [ 32%]
tests/unit/evaluation/test_benchmark_suite.py::TestBenchmarkRunner::test_init_with_config PASSED [ 32%]
tests/unit/evaluation/test_benchmark_suite.py::TestBenchmarkRunner::test_init_with_metrics PASSED [ 32%]
tests/unit/evaluation/test_benchmark_suite.py::TestBenchmarkRunner::test_init_without_config_or_metrics PASSED [ 32%]
tests/unit/evaluation/test_benchmark_suite.py::TestBenchmarkRunner::test_run_benchmark_with_dataset PASSED [ 32%]
tests/unit/evaluation/test_benchmark_suite.py::TestBenchmarkRunner::test_run_benchmark_collects_metrics PASSED [ 32%]
tests/unit/evaluation/test_benchmark_suite.py::TestBenchmarkRunner::test_run_benchmark_aggregates_results PASSED [ 32%]
tests/unit/evaluation/test_benchmark_suite.py::TestBenchmarkRunner::test_compare_strategies PASSED [ 32%]
tests/unit/evaluation/test_benchmark_suite.py::TestBenchmarkRunner::test_compare_strategies_name_mismatch PASSED [ 32%]
tests/unit/evaluation/test_benchmark_suite.py::TestBenchmarkRunner::test_benchmark_error_handling PASSED [ 33%]
tests/unit/evaluation/test_benchmark_suite.py::TestBenchmarkRunner::test_save_checkpoint PASSED [ 33%]
tests/unit/evaluation/test_benchmark_suite.py::TestBenchmarkRunner::test_load_checkpoint PASSED [ 33%]
tests/unit/evaluation/test_benchmark_suite.py::TestBenchmarkRunner::test_resume_from_checkpoint PASSED [ 33%]
tests/unit/evaluation/test_benchmark_suite.py::TestBenchmarkResult::test_benchmark_result_to_dict PASSED [ 33%]
tests/unit/evaluation/test_benchmark_suite.py::TestBenchmarkResult::test_benchmark_result_save_load PASSED [ 33%]
tests/unit/evaluation/test_benchmark_suite.py::TestBenchmarkResult::test_empty_dataset_handling PASSED [ 33%]
tests/unit/evaluation/test_comparison.py::TestStrategyComparator::test_init_default_confidence PASSED [ 33%]
tests/unit/evaluation/test_comparison.py::TestStrategyComparator::test_init_custom_confidence PASSED [ 33%]
tests/unit/evaluation/test_comparison.py::TestStrategyComparator::test_compare_strategies PASSED [ 33%]
tests/unit/evaluation/test_comparison.py::TestStrategyComparator::test_compare_metric_specific PASSED [ 33%]
tests/unit/evaluation/test_comparison.py::TestStrategyComparator::test_generate_rankings PASSED [ 33%]
tests/unit/evaluation/test_comparison.py::TestStrategyComparator::test_find_best_strategy PASSED [ 33%]
tests/unit/evaluation/test_comparison.py::TestStrategyComparator::test_generate_report_table_format PASSED [ 33%]
tests/unit/evaluation/test_comparison.py::TestStrategyComparator::test_generate_report_markdown_format PASSED [ 33%]
tests/unit/evaluation/test_comparison.py::TestStrategyComparator::test_generate_report_text_format PASSED [ 33%]
tests/unit/evaluation/test_comparison.py::TestStrategyComparator::test_generate_summary_table PASSED [ 33%]
tests/unit/evaluation/test_comparison.py::TestStrategyComparator::test_comparison_with_statistical_tests PASSED [ 33%]
tests/unit/evaluation/test_comparison.py::TestStrategyComparator::test_comparison_with_baseline PASSED [ 34%]
tests/unit/evaluation/test_comparison.py::TestStrategyComparator::test_comparison_single_strategy PASSED [ 34%]
tests/unit/evaluation/test_comparison.py::TestStrategyComparator::test_comparison_missing_metrics PASSED [ 34%]
tests/unit/evaluation/test_dataset_loader.py::TestDatasetLoader::test_load_json_dataset PASSED [ 34%]
tests/unit/evaluation/test_dataset_loader.py::TestDatasetLoader::test_load_jsonl_dataset PASSED [ 34%]
tests/unit/evaluation/test_dataset_loader.py::TestDatasetLoader::test_load_csv_dataset PASSED [ 34%]
tests/unit/evaluation/test_dataset_loader.py::TestDatasetLoader::test_load_nonexistent_file PASSED [ 34%]
tests/unit/evaluation/test_dataset_loader.py::TestDatasetLoader::test_load_unsupported_format PASSED [ 34%]
tests/unit/evaluation/test_dataset_loader.py::TestDatasetLoader::test_dataset_name_override PASSED [ 34%]
tests/unit/evaluation/test_dataset_loader.py::TestDatasetLoader::test_save_and_load_json PASSED [ 34%]
tests/unit/evaluation/test_dataset_loader.py::TestDatasetLoader::test_save_and_load_jsonl PASSED [ 34%]
tests/unit/evaluation/test_dataset_loader.py::TestDatasetLoader::test_save_and_load_csv PASSED [ 34%]
tests/unit/evaluation/test_dataset_loader.py::TestEvaluationDataset::test_dataset_iteration PASSED [ 34%]
tests/unit/evaluation/test_dataset_loader.py::TestEvaluationDataset::test_dataset_indexing PASSED [ 34%]
tests/unit/evaluation/test_dataset_loader.py::TestEvaluationDataset::test_get_by_id PASSED [ 34%]
tests/unit/evaluation/test_dataset_loader.py::TestEvaluationDataset::test_dataset_split PASSED [ 34%]
tests/unit/evaluation/test_dataset_loader.py::TestEvaluationDataset::test_get_statistics PASSED [ 34%]
tests/unit/evaluation/test_export.py::TestCSVExporter::test_csv_export_summary PASSED [ 34%]
tests/unit/evaluation/test_export.py::TestCSVExporter::test_csv_export_detailed PASSED [ 35%]
tests/unit/evaluation/test_export.py::TestCSVExporter::test_csv_export_comparison PASSED [ 35%]
tests/unit/evaluation/test_export.py::TestCSVExporter::test_csv_export_comparison_custom_metrics PASSED [ 35%]
tests/unit/evaluation/test_export.py::TestCSVExporter::test_csv_export_creates_directories PASSED [ 35%]
tests/unit/evaluation/test_export.py::TestJSONExporter::test_json_export_with_details PASSED [ 35%]
tests/unit/evaluation/test_export.py::TestJSONExporter::test_json_export_without_details PASSED [ 35%]
tests/unit/evaluation/test_export.py::TestJSONExporter::test_json_export_comparison PASSED [ 35%]
tests/unit/evaluation/test_export.py::TestJSONExporter::test_json_export_indentation PASSED [ 35%]
tests/unit/evaluation/test_export.py::TestJSONExporter::test_json_export_creates_directories PASSED [ 35%]
tests/unit/evaluation/test_export.py::TestJSONExporter::test_export_file_content_validity PASSED [ 35%]
tests/unit/evaluation/test_export.py::TestJSONExporter::test_csv_field_selection PASSED [ 35%]
tests/unit/evaluation/test_retrieval_metrics.py::TestPrecisionAtK::test_perfect_precision PASSED [ 35%]
tests/unit/evaluation/test_retrieval_metrics.py::TestPrecisionAtK::test_zero_precision PASSED [ 35%]
tests/unit/evaluation/test_retrieval_metrics.py::TestPrecisionAtK::test_partial_precision PASSED [ 35%]
tests/unit/evaluation/test_retrieval_metrics.py::TestPrecisionAtK::test_fewer_retrieved_than_k PASSED [ 35%]
tests/unit/evaluation/test_retrieval_metrics.py::TestPrecisionAtK::test_invalid_k PASSED [ 35%]
tests/unit/evaluation/test_retrieval_metrics.py::TestRecallAtK::test_perfect_recall PASSED [ 35%]
tests/unit/evaluation/test_retrieval_metrics.py::TestRecallAtK::test_zero_recall PASSED [ 35%]
tests/unit/evaluation/test_retrieval_metrics.py::TestRecallAtK::test_partial_recall PASSED [ 36%]
tests/unit/evaluation/test_retrieval_metrics.py::TestRecallAtK::test_empty_relevant PASSED [ 36%]
tests/unit/evaluation/test_retrieval_metrics.py::TestMeanReciprocalRank::test_first_relevant PASSED [ 36%]
tests/unit/evaluation/test_retrieval_metrics.py::TestMeanReciprocalRank::test_third_relevant PASSED [ 36%]
tests/unit/evaluation/test_retrieval_metrics.py::TestMeanReciprocalRank::test_no_relevant_found PASSED [ 36%]
tests/unit/evaluation/test_retrieval_metrics.py::TestMeanReciprocalRank::test_multiple_relevant PASSED [ 36%]
tests/unit/evaluation/test_retrieval_metrics.py::TestNDCG::test_perfect_ranking PASSED [ 36%]
tests/unit/evaluation/test_retrieval_metrics.py::TestNDCG::test_worst_ranking PASSED [ 36%]
tests/unit/evaluation/test_retrieval_metrics.py::TestNDCG::test_no_relevant_docs PASSED [ 36%]
tests/unit/evaluation/test_retrieval_metrics.py::TestNDCG::test_partial_relevance PASSED [ 36%]
tests/unit/evaluation/test_retrieval_metrics.py::TestHitRateAtK::test_hit PASSED [ 36%]
tests/unit/evaluation/test_retrieval_metrics.py::TestHitRateAtK::test_no_hit PASSED [ 36%]
tests/unit/evaluation/test_retrieval_metrics.py::TestHitRateAtK::test_hit_outside_k PASSED [ 36%]
tests/unit/evaluation/test_retrieval_metrics.py::TestMetricProperties::test_metric_names PASSED [ 36%]
tests/unit/evaluation/test_retrieval_metrics.py::TestMetricProperties::test_higher_is_better PASSED [ 36%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_init_default_confidence PASSED [ 36%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_init_custom_confidence PASSED [ 36%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_init_invalid_confidence PASSED [ 36%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_paired_t_test_significant_difference PASSED [ 37%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_paired_t_test_no_difference PASSED [ 37%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_confidence_interval_contains_mean PASSED [ 37%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_confidence_interval_width PASSED [ 37%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_confidence_interval_single_value PASSED [ 37%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_bootstrap_confidence_interval PASSED [ 37%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_cohens_d_calculation PASSED [ 37%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_cohens_d_zero_difference PASSED [ 37%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_cohens_d_interpretation_small PASSED [ 37%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_cohens_d_interpretation_medium PASSED [ 37%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_cohens_d_interpretation_large PASSED [ 37%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_bonferroni_correction PASSED [ 37%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_bonferroni_correction_custom_comparisons PASSED [ 37%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_analyze_metric_comprehensive PASSED [ 37%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_statistical_test_result_structure PASSED [ 37%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_edge_case_equal_distributions PASSED [ 37%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_edge_case_high_variance PASSED [ 37%]
tests/unit/evaluation/test_statistical_testing.py::TestStatisticalAnalyzer::test_edge_case_small_sample PASSED [ 37%]
tests/unit/examples/test_examples_imports.py::TestExamplesImports::test_simple_example_imports_rag_factory PASSED [ 38%]
tests/unit/examples/test_examples_imports.py::TestExamplesImports::test_medium_example_imports PASSED [ 38%]
tests/unit/examples/test_examples_imports.py::TestExamplesImports::test_all_examples_import_from_rag_factory PASSED [ 38%]
tests/unit/examples/test_examples_imports.py::TestExamplesImports::test_no_relative_imports_in_examples PASSED [ 38%]
tests/unit/examples/test_examples_imports.py::TestExamplesImports::test_examples_use_absolute_imports PASSED [ 38%]
tests/unit/examples/test_examples_imports.py::TestExamplesImports::test_no_wildcard_imports PASSED [ 38%]
tests/unit/examples/test_examples_imports.py::TestExamplesImports::test_imports_are_organized PASSED [ 38%]
tests/unit/examples/test_examples_syntax.py::TestExamplesSyntax::test_all_examples_valid_syntax PASSED [ 38%]
tests/unit/examples/test_examples_syntax.py::TestExamplesSyntax::test_simple_example_exists PASSED [ 38%]
tests/unit/examples/test_examples_syntax.py::TestExamplesSyntax::test_medium_example_exists PASSED [ 38%]
tests/unit/examples/test_examples_syntax.py::TestExamplesSyntax::test_advanced_example_exists PASSED [ 38%]
tests/unit/examples/test_examples_syntax.py::TestExamplesSyntax::test_all_examples_have_docstrings PASSED [ 38%]
tests/unit/examples/test_examples_syntax.py::TestExamplesSyntax::test_all_examples_have_main_function PASSED [ 38%]
tests/unit/examples/test_examples_syntax.py::TestExamplesSyntax::test_examples_have_proper_encoding PASSED [ 38%]
tests/unit/examples/test_examples_syntax.py::TestExamplesSyntax::test_examples_not_too_long PASSED [ 38%]
tests/unit/examples/test_requirements.py::TestRequirements::test_simple_has_requirements PASSED [ 38%]
tests/unit/examples/test_requirements.py::TestRequirements::test_medium_has_requirements PASSED [ 38%]
tests/unit/examples/test_requirements.py::TestRequirements::test_advanced_has_requirements PASSED [ 38%]
tests/unit/examples/test_requirements.py::TestRequirements::test_all_example_dirs_have_requirements PASSED [ 39%]
tests/unit/examples/test_requirements.py::TestRequirements::test_requirements_have_rag_factory PASSED [ 39%]
tests/unit/examples/test_requirements.py::TestRequirements::test_requirements_are_valid_format PASSED [ 39%]
tests/unit/examples/test_requirements.py::TestRequirements::test_no_duplicate_requirements PASSED [ 39%]
tests/unit/examples/test_requirements.py::TestRequirements::test_requirements_have_versions PASSED [ 39%]
tests/unit/models/embedding/test_registry.py::test_register_model PASSED [ 39%]
tests/unit/models/embedding/test_registry.py::test_register_model_overwrites_existing PASSED [ 39%]
tests/unit/models/embedding/test_registry.py::test_get_model_not_found PASSED [ 39%]
tests/unit/models/embedding/test_registry.py::test_list_models PASSED    [ 39%]
tests/unit/models/embedding/test_registry.py::test_filter_by_domain PASSED [ 39%]
tests/unit/models/embedding/test_registry.py::test_filter_by_format PASSED [ 39%]
tests/unit/models/embedding/test_registry.py::test_filter_by_tags PASSED [ 39%]
tests/unit/models/embedding/test_registry.py::test_update_metrics PASSED [ 39%]
tests/unit/models/embedding/test_registry.py::test_update_metrics_nonexistent_model PASSED [ 39%]
tests/unit/models/embedding/test_registry.py::test_search_models PASSED  [ 39%]
tests/unit/models/embedding/test_registry.py::test_search_models_by_description PASSED [ 39%]
tests/unit/models/embedding/test_registry.py::test_search_models_case_insensitive PASSED [ 39%]
tests/unit/models/embedding/test_registry.py::test_delete_model PASSED   [ 39%]
tests/unit/models/embedding/test_registry.py::test_delete_nonexistent_model PASSED [ 40%]
tests/unit/models/embedding/test_registry.py::test_registry_persistence PASSED [ 40%]
tests/unit/models/embedding/test_registry.py::test_register_multiple_versions PASSED [ 40%]
tests/unit/models/embedding/test_registry.py::test_list_models_versions PASSED [ 40%]
tests/unit/models/embedding/test_registry.py::test_delete_specific_version PASSED [ 40%]
tests/unit/models/embedding/test_registry.py::test_delete_all_versions PASSED [ 40%]
tests/unit/models/embedding/test_registry.py::test_set_health_status PASSED [ 40%]
tests/unit/models/embedding/test_registry.py::test_registry_persistence_versions PASSED [ 40%]
tests/unit/models/embedding/test_registry.py::test_empty_registry PASSED [ 40%]
tests/unit/models/evaluation/test_ab_testing.py::test_framework_initialization PASSED [ 40%]
tests/unit/models/evaluation/test_ab_testing.py::test_start_test PASSED  [ 40%]
tests/unit/models/evaluation/test_ab_testing.py::test_traffic_splitting PASSED [ 40%]
tests/unit/models/evaluation/test_ab_testing.py::test_traffic_splitting_different_ratios PASSED [ 40%]
tests/unit/models/evaluation/test_ab_testing.py::test_should_use_model_b_inactive_test PASSED [ 40%]
tests/unit/models/evaluation/test_ab_testing.py::test_record_results PASSED [ 40%]
tests/unit/models/evaluation/test_ab_testing.py::test_record_result_inactive_test PASSED [ 40%]
tests/unit/models/evaluation/test_ab_testing.py::test_analyze_test PASSED [ 40%]
tests/unit/models/evaluation/test_ab_testing.py::test_analyze_test_not_found PASSED [ 40%]
tests/unit/models/evaluation/test_ab_testing.py::test_analyze_test_insufficient_samples PASSED [ 41%]
tests/unit/models/evaluation/test_ab_testing.py::test_winner_determination_clear_winner PASSED [ 41%]
tests/unit/models/evaluation/test_ab_testing.py::test_winner_determination_no_difference PASSED [ 41%]
tests/unit/models/evaluation/test_ab_testing.py::test_gradual_rollout PASSED [ 41%]
tests/unit/models/evaluation/test_ab_testing.py::test_gradual_rollout_bounds PASSED [ 41%]
tests/unit/models/evaluation/test_ab_testing.py::test_gradual_rollout_not_found PASSED [ 41%]
tests/unit/models/evaluation/test_ab_testing.py::test_metrics_comparison_calculation PASSED [ 41%]
tests/unit/models/evaluation/test_ab_testing.py::test_confidence_intervals PASSED [ 41%]
tests/unit/observability/test_cost_calculator.py::TestModelPricing::test_model_pricing_creation PASSED [ 41%]
tests/unit/observability/test_cost_calculator.py::TestCostCalculator::test_calculator_initialization PASSED [ 41%]
tests/unit/observability/test_cost_calculator.py::TestCostCalculator::test_calculate_cost_llm PASSED [ 41%]
tests/unit/observability/test_cost_calculator.py::TestCostCalculator::test_calculate_cost_embedding PASSED [ 41%]
tests/unit/observability/test_cost_calculator.py::TestCostCalculator::test_calculate_cost_unknown_model PASSED [ 41%]
tests/unit/observability/test_cost_calculator.py::TestCostCalculator::test_calculate_rerank_cost PASSED [ 41%]
tests/unit/observability/test_cost_calculator.py::TestCostCalculator::test_calculate_rerank_cost_invalid_model PASSED [ 41%]
tests/unit/observability/test_cost_calculator.py::TestCostCalculator::test_add_custom_model PASSED [ 41%]
tests/unit/observability/test_cost_calculator.py::TestCostCalculator::test_get_model_pricing PASSED [ 41%]
tests/unit/observability/test_cost_calculator.py::TestCostCalculator::test_get_model_pricing_nonexistent PASSED [ 41%]
tests/unit/observability/test_cost_calculator.py::TestCostCalculator::test_list_available_models PASSED [ 42%]
tests/unit/observability/test_cost_calculator.py::TestCostCalculator::test_custom_pricing_override PASSED [ 42%]
tests/unit/observability/test_cost_calculator.py::TestCostCalculator::test_zero_cost_models PASSED [ 42%]
tests/unit/observability/test_cost_calculator.py::TestGetCostCalculator::test_get_calculator_singleton PASSED [ 42%]
tests/unit/observability/test_cost_calculator.py::TestGetCostCalculator::test_get_calculator_with_custom_pricing PASSED [ 42%]
tests/unit/observability/test_cost_calculator.py::TestDefaultPricing::test_default_pricing_has_common_models PASSED [ 42%]
tests/unit/observability/test_cost_calculator.py::TestDefaultPricing::test_default_pricing_structure PASSED [ 42%]
tests/unit/observability/test_filters.py::TestPIIFilter::test_filter_email PASSED [ 42%]
tests/unit/observability/test_filters.py::TestPIIFilter::test_filter_multiple_emails PASSED [ 42%]
tests/unit/observability/test_filters.py::TestPIIFilter::test_filter_phone PASSED [ 42%]
tests/unit/observability/test_filters.py::TestPIIFilter::test_filter_ssn PASSED [ 42%]
tests/unit/observability/test_filters.py::TestPIIFilter::test_filter_credit_card PASSED [ 42%]
tests/unit/observability/test_filters.py::TestPIIFilter::test_filter_credit_card_no_dashes PASSED [ 42%]
tests/unit/observability/test_filters.py::TestPIIFilter::test_filter_none_text PASSED [ 42%]
tests/unit/observability/test_filters.py::TestPIIFilter::test_filter_empty_text PASSED [ 42%]
tests/unit/observability/test_filters.py::TestPIIFilter::test_filter_dict PASSED [ 42%]
tests/unit/observability/test_filters.py::TestPIIFilter::test_filter_nested_dict PASSED [ 42%]
tests/unit/observability/test_filters.py::TestPIIFilter::test_filter_dict_with_list PASSED [ 42%]
tests/unit/observability/test_filters.py::TestPIIFilter::test_filter_preserves_non_pii PASSED [ 43%]
tests/unit/observability/test_filters.py::TestPIIFilter::test_filter_mixed_content PASSED [ 43%]
tests/unit/observability/test_filters.py::TestSamplingFilter::test_sampling_filter_initialization PASSED [ 43%]
tests/unit/observability/test_filters.py::TestSamplingFilter::test_sampling_filter_invalid_rate_too_high PASSED [ 43%]
tests/unit/observability/test_filters.py::TestSamplingFilter::test_sampling_filter_invalid_rate_negative PASSED [ 43%]
tests/unit/observability/test_filters.py::TestSamplingFilter::test_sampling_filter_100_percent PASSED [ 43%]
tests/unit/observability/test_filters.py::TestSamplingFilter::test_sampling_filter_0_percent PASSED [ 43%]
tests/unit/observability/test_filters.py::TestSamplingFilter::test_sampling_filter_50_percent PASSED [ 43%]
tests/unit/observability/test_filters.py::TestSamplingFilter::test_sampling_filter_10_percent PASSED [ 43%]
tests/unit/observability/test_logger.py::TestLogContext::test_log_context_creation PASSED [ 43%]
tests/unit/observability/test_logger.py::TestLogContext::test_elapsed_ms PASSED [ 43%]
tests/unit/observability/test_logger.py::TestRAGLogger::test_logger_initialization PASSED [ 43%]
tests/unit/observability/test_logger.py::TestRAGLogger::test_logger_with_config PASSED [ 43%]
tests/unit/observability/test_logger.py::TestRAGLogger::test_logger_with_log_file PASSED [ 43%]
tests/unit/observability/test_logger.py::TestRAGLogger::test_operation_context_success PASSED [ 43%]
tests/unit/observability/test_logger.py::TestRAGLogger::test_operation_context_failure PASSED [ 43%]
tests/unit/observability/test_logger.py::TestRAGLogger::test_operation_context_metadata PASSED [ 43%]
tests/unit/observability/test_logger.py::TestRAGLogger::test_log_query PASSED [ 43%]
tests/unit/observability/test_logger.py::TestRAGLogger::test_log_metrics PASSED [ 44%]
tests/unit/observability/test_logger.py::TestRAGLogger::test_log_error PASSED [ 44%]
tests/unit/observability/test_logger.py::TestRAGLogger::test_convenience_methods PASSED [ 44%]
tests/unit/observability/test_logger.py::TestRAGLogger::test_query_sanitization_truncation PASSED [ 44%]
tests/unit/observability/test_logger.py::TestRAGLogger::test_query_sanitization_email PASSED [ 44%]
tests/unit/observability/test_logger.py::TestRAGLogger::test_query_sanitization_phone PASSED [ 44%]
tests/unit/observability/test_logger.py::TestRAGLogger::test_query_sanitization_ssn PASSED [ 44%]
tests/unit/observability/test_logger.py::TestRAGLogger::test_query_sanitization_none PASSED [ 44%]
tests/unit/observability/test_logger.py::TestGetLogger::test_get_logger_singleton PASSED [ 44%]
tests/unit/observability/test_logger.py::TestGetLogger::test_get_logger_with_config PASSED [ 44%]
tests/unit/observability/test_logger.py::TestLogLevel::test_log_level_values PASSED [ 44%]
tests/unit/observability/test_metrics_collector.py::TestMetricPoint::test_metric_point_creation PASSED [ 44%]
tests/unit/observability/test_metrics_collector.py::TestPerformanceMetrics::test_performance_metrics_creation PASSED [ 44%]
tests/unit/observability/test_metrics_collector.py::TestPerformanceMetrics::test_avg_latency_calculation PASSED [ 44%]
tests/unit/observability/test_metrics_collector.py::TestPerformanceMetrics::test_avg_latency_no_queries PASSED [ 44%]
tests/unit/observability/test_metrics_collector.py::TestPerformanceMetrics::test_success_rate_calculation PASSED [ 44%]
tests/unit/observability/test_metrics_collector.py::TestPerformanceMetrics::test_success_rate_no_queries PASSED [ 44%]
tests/unit/observability/test_metrics_collector.py::TestPerformanceMetrics::test_failure_rate_calculation PASSED [ 44%]
tests/unit/observability/test_metrics_collector.py::TestPerformanceMetrics::test_latency_percentiles PASSED [ 45%]
tests/unit/observability/test_metrics_collector.py::TestPerformanceMetrics::test_percentile_single_value PASSED [ 45%]
tests/unit/observability/test_metrics_collector.py::TestPerformanceMetrics::test_percentile_no_values PASSED [ 45%]
tests/unit/observability/test_metrics_collector.py::TestMetricsCollector::test_collector_initialization PASSED [ 45%]
tests/unit/observability/test_metrics_collector.py::TestMetricsCollector::test_record_successful_query PASSED [ 45%]
tests/unit/observability/test_metrics_collector.py::TestMetricsCollector::test_record_failed_query PASSED [ 45%]
tests/unit/observability/test_metrics_collector.py::TestMetricsCollector::test_multiple_queries PASSED [ 45%]
tests/unit/observability/test_metrics_collector.py::TestMetricsCollector::test_success_rate_calculation PASSED [ 45%]
tests/unit/observability/test_metrics_collector.py::TestMetricsCollector::test_multiple_strategies PASSED [ 45%]
tests/unit/observability/test_metrics_collector.py::TestMetricsCollector::test_get_metrics_nonexistent_strategy PASSED [ 45%]
tests/unit/observability/test_metrics_collector.py::TestMetricsCollector::test_get_summary PASSED [ 45%]
tests/unit/observability/test_metrics_collector.py::TestMetricsCollector::test_get_strategy_names PASSED [ 45%]
tests/unit/observability/test_metrics_collector.py::TestMetricsCollector::test_reset_specific_strategy PASSED [ 45%]
tests/unit/observability/test_metrics_collector.py::TestMetricsCollector::test_reset_all_metrics PASSED [ 45%]
tests/unit/observability/test_metrics_collector.py::TestMetricsCollector::test_time_series_recording PASSED [ 45%]
tests/unit/observability/test_metrics_collector.py::TestMetricsCollector::test_time_series_time_window PASSED [ 45%]
tests/unit/observability/test_metrics_collector.py::TestMetricsCollector::test_time_series_nonexistent_metric PASSED [ 45%]
tests/unit/observability/test_metrics_collector.py::TestMetricsCollector::test_thread_safety PASSED [ 45%]
tests/unit/observability/test_metrics_collector.py::TestMetricsCollector::test_error_tracking PASSED [ 46%]
tests/unit/observability/test_metrics_collector.py::TestGetCollector::test_get_collector_singleton PASSED [ 46%]
tests/unit/observability/test_metrics_collector.py::TestGetCollector::test_get_collector_persistence PASSED [ 46%]
tests/unit/observability/test_performance_monitor.py::TestPerformanceSnapshot::test_performance_snapshot_creation PASSED [ 46%]
tests/unit/observability/test_performance_monitor.py::TestPerformanceMonitor::test_monitor_initialization PASSED [ 46%]
tests/unit/observability/test_performance_monitor.py::TestPerformanceMonitor::test_track_operation PASSED [ 46%]
tests/unit/observability/test_performance_monitor.py::TestPerformanceMonitor::test_track_multiple_executions PASSED [ 46%]
tests/unit/observability/test_performance_monitor.py::TestPerformanceMonitor::test_track_multiple_operations PASSED [ 46%]
tests/unit/observability/test_performance_monitor.py::TestPerformanceMonitor::test_get_stats_nonexistent PASSED [ 46%]
tests/unit/observability/test_performance_monitor.py::TestPerformanceMonitor::test_stats_calculation PASSED [ 46%]
tests/unit/observability/test_performance_monitor.py::TestPerformanceMonitor::test_reset_specific_operation PASSED [ 46%]
tests/unit/observability/test_performance_monitor.py::TestPerformanceMonitor::test_reset_all PASSED [ 46%]
tests/unit/observability/test_performance_monitor.py::TestPerformanceMonitor::test_get_current_system_stats PASSED [ 46%]
tests/unit/observability/test_performance_monitor.py::TestPerformanceMonitor::test_track_with_exception PASSED [ 46%]
tests/unit/observability/test_performance_monitor.py::TestGetPerformanceMonitor::test_get_monitor_singleton PASSED [ 46%]
tests/unit/observability/test_performance_monitor.py::TestGetPerformanceMonitor::test_get_monitor_persistence PASSED [ 46%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryCreate::test_create_chunk_success PASSED [ 46%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryCreate::test_create_chunk_with_embedding PASSED [ 46%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryCreate::test_create_chunk_with_metadata PASSED [ 47%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryCreate::test_create_chunk_database_error PASSED [ 47%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryCreate::test_bulk_create_chunks PASSED [ 47%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryCreate::test_bulk_create_database_error PASSED [ 47%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryRead::test_get_by_id_found PASSED [ 47%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryRead::test_get_by_id_not_found PASSED [ 47%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryRead::test_get_by_id_database_error PASSED [ 47%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryRead::test_get_by_document PASSED [ 47%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryRead::test_count_by_document PASSED [ 47%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryUpdate::test_update_chunk_success PASSED [ 47%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryUpdate::test_update_chunk_not_found PASSED [ 47%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryUpdate::test_update_embedding PASSED [ 47%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryUpdate::test_update_embedding_not_found PASSED [ 47%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryUpdate::test_bulk_update_embeddings PASSED [ 47%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryUpdate::test_bulk_update_embeddings_database_error PASSED [ 47%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryDelete::test_delete_chunk_success PASSED [ 47%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryDelete::test_delete_chunk_not_found PASSED [ 47%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryDelete::test_delete_by_document PASSED [ 47%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryDelete::test_delete_database_error PASSED [ 48%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryVectorSearch::test_search_similar_validation_empty_embedding PASSED [ 48%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryVectorSearch::test_search_similar_validation_invalid_top_k PASSED [ 48%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryVectorSearch::test_search_similar_success PASSED [ 48%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryVectorSearch::test_search_similar_with_threshold PASSED [ 48%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryVectorSearch::test_search_similar_database_error PASSED [ 48%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryVectorSearch::test_search_similar_with_filter_validation PASSED [ 48%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryVectorSearch::test_search_similar_with_filter_success PASSED [ 48%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryVectorSearch::test_search_similar_with_metadata_success PASSED [ 48%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryVectorSearch::test_search_similar_with_metadata_validation PASSED [ 48%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryEdgeCases::test_create_chunk_without_embedding PASSED [ 48%]
tests/unit/repositories/test_chunk_repository.py::TestChunkRepositoryEdgeCases::test_update_with_metadata_attribute PASSED [ 48%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryCreate::test_create_document_success PASSED [ 48%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryCreate::test_create_document_with_metadata PASSED [ 48%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryCreate::test_create_document_duplicate_raises_error PASSED [ 48%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryCreate::test_create_document_database_error PASSED [ 48%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryRead::test_get_by_id_found PASSED [ 48%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryRead::test_get_by_id_not_found PASSED [ 48%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryRead::test_get_by_id_database_error PASSED [ 49%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryRead::test_get_by_content_hash_found PASSED [ 49%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryRead::test_list_all_with_pagination PASSED [ 49%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryRead::test_count_documents PASSED [ 49%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryRead::test_get_by_status PASSED [ 49%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryUpdate::test_update_document_success PASSED [ 49%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryUpdate::test_update_document_not_found PASSED [ 49%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryUpdate::test_update_status PASSED [ 49%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryUpdate::test_update_metadata PASSED [ 49%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryUpdate::test_update_database_error PASSED [ 49%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryDelete::test_delete_document_success PASSED [ 49%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryDelete::test_delete_document_not_found PASSED [ 49%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryDelete::test_delete_database_error PASSED [ 49%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryDelete::test_bulk_delete_documents PASSED [ 49%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryBulkOperations::test_bulk_create_documents PASSED [ 49%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryBulkOperations::test_bulk_create_database_error PASSED [ 49%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryTransactions::test_commit_success PASSED [ 49%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryTransactions::test_commit_failure_triggers_rollback PASSED [ 50%]
tests/unit/repositories/test_document_repository.py::TestDocumentRepositoryTransactions::test_rollback PASSED [ 50%]
tests/unit/repositories/test_exceptions.py::TestRepositoryError::test_repository_error_message PASSED [ 50%]
tests/unit/repositories/test_exceptions.py::TestRepositoryError::test_repository_error_inheritance PASSED [ 50%]
tests/unit/repositories/test_exceptions.py::TestEntityNotFoundError::test_entity_not_found_attributes PASSED [ 50%]
tests/unit/repositories/test_exceptions.py::TestEntityNotFoundError::test_entity_not_found_message PASSED [ 50%]
tests/unit/repositories/test_exceptions.py::TestEntityNotFoundError::test_entity_not_found_inheritance PASSED [ 50%]
tests/unit/repositories/test_exceptions.py::TestDuplicateEntityError::test_duplicate_entity_attributes PASSED [ 50%]
tests/unit/repositories/test_exceptions.py::TestDuplicateEntityError::test_duplicate_entity_message PASSED [ 50%]
tests/unit/repositories/test_exceptions.py::TestDuplicateEntityError::test_duplicate_entity_inheritance PASSED [ 50%]
tests/unit/repositories/test_exceptions.py::TestDatabaseConnectionError::test_database_connection_error_message PASSED [ 50%]
tests/unit/repositories/test_exceptions.py::TestDatabaseConnectionError::test_database_connection_error_inheritance PASSED [ 50%]
tests/unit/repositories/test_exceptions.py::TestInvalidQueryError::test_invalid_query_error_message PASSED [ 50%]
tests/unit/repositories/test_exceptions.py::TestInvalidQueryError::test_invalid_query_error_inheritance PASSED [ 50%]
tests/unit/services/embedding/test_cache.py::test_cache_set_and_get PASSED [ 50%]
tests/unit/services/embedding/test_cache.py::test_cache_miss PASSED      [ 50%]
tests/unit/services/embedding/test_cache.py::test_cache_expiration PASSED [ 50%]
tests/unit/services/embedding/test_cache.py::test_cache_max_size PASSED  [ 50%]
tests/unit/services/embedding/test_cache.py::test_cache_lru_eviction PASSED [ 51%]
tests/unit/services/embedding/test_cache.py::test_cache_clear PASSED     [ 51%]
tests/unit/services/embedding/test_cache.py::test_cache_stats PASSED     [ 51%]
tests/unit/services/embedding/test_cache.py::test_cache_thread_safety PASSED [ 51%]
tests/unit/services/embedding/test_cache.py::test_cache_update_existing_key PASSED [ 51%]
tests/unit/services/embedding/test_cache.py::test_cache_large_embeddings PASSED [ 51%]
tests/unit/services/embedding/test_onnx_local_provider.py::test_provider_not_available_raises_error PASSED [ 51%]
tests/unit/services/embedding/test_onnx_local_provider.py::test_provider_initialization FAILED [ 51%]
tests/unit/services/embedding/test_onnx_local_provider.py::test_get_embeddings FAILED [ 51%]
tests/unit/services/embedding/test_onnx_local_provider.py::test_calculate_cost_is_zero FAILED [ 51%]
tests/unit/services/embedding/test_onnx_local_provider.py::test_known_model_dimensions FAILED [ 51%]
tests/unit/services/embedding/test_onnx_local_provider.py::test_unknown_model_uses_config FAILED [ 51%]
tests/unit/services/embedding/test_onnx_local_provider.py::test_custom_batch_size FAILED [ 51%]
tests/unit/services/embedding/test_onnx_local_provider.py::test_model_loading_failure FAILED [ 51%]
tests/unit/services/embedding/test_onnx_local_provider.py::test_get_model_name FAILED [ 51%]
tests/unit/services/embedding/test_onnx_local_provider.py::test_mean_pooling FAILED [ 51%]
tests/unit/services/embedding/test_openai_provider.py::test_provider_initialization PASSED [ 51%]
tests/unit/services/embedding/test_openai_provider.py::test_provider_invalid_model PASSED [ 51%]
tests/unit/services/embedding/test_openai_provider.py::test_provider_missing_api_key PASSED [ 52%]
tests/unit/services/embedding/test_openai_provider.py::test_get_embeddings PASSED [ 52%]
tests/unit/services/embedding/test_openai_provider.py::test_calculate_cost PASSED [ 52%]
tests/unit/services/embedding/test_openai_provider.py::test_get_max_batch_size PASSED [ 52%]
tests/unit/services/embedding/test_openai_provider.py::test_get_model_name PASSED [ 52%]
tests/unit/services/embedding/test_openai_provider.py::test_different_models PASSED [ 52%]
tests/unit/services/embedding/test_openai_provider.py::test_openai_not_installed PASSED [ 52%]
tests/unit/services/embedding/test_rate_limiter.py::test_rate_limiter_initialization PASSED [ 52%]
tests/unit/services/embedding/test_rate_limiter.py::test_rate_limiter_allows_first_request PASSED [ 52%]
tests/unit/services/embedding/test_rate_limiter.py::test_rate_limiter_enforces_limit PASSED [ 52%]
tests/unit/services/embedding/test_rate_limiter.py::test_rate_limiter_requests_per_minute PASSED [ 52%]
tests/unit/services/embedding/test_rate_limiter.py::test_rate_limiter_multiple_requests PASSED [ 52%]
tests/unit/services/embedding/test_rate_limiter.py::test_rate_limiter_thread_safety PASSED [ 52%]
tests/unit/services/embedding/test_rate_limiter.py::test_rate_limiter_prefers_stricter_limit PASSED [ 52%]
tests/unit/services/embedding/test_service.py::test_service_initialization PASSED [ 52%]
tests/unit/services/embedding/test_service.py::test_embed_single_text PASSED [ 52%]
tests/unit/services/embedding/test_service.py::test_embed_multiple_texts PASSED [ 52%]
tests/unit/services/embedding/test_service.py::test_embed_empty_list_raises_error PASSED [ 52%]
tests/unit/services/embedding/test_service.py::test_cache_hit PASSED     [ 53%]
tests/unit/services/embedding/test_service.py::test_cache_disabled PASSED [ 53%]
tests/unit/services/embedding/test_service.py::test_batch_splitting PASSED [ 53%]
tests/unit/services/embedding/test_service.py::test_get_stats PASSED     [ 53%]
tests/unit/services/embedding/test_service.py::test_clear_cache PASSED   [ 53%]
tests/unit/services/embedding/test_service.py::test_unknown_provider_raises_error PASSED [ 53%]
tests/unit/services/embedding/test_service.py::test_compute_cache_key PASSED [ 53%]
tests/unit/services/embedding/test_service.py::test_cache_different_models PASSED [ 53%]
tests/unit/services/embedding/test_service.py::test_rate_limiter_interaction PASSED [ 53%]
tests/unit/services/embedding/test_service.py::test_provider_error_handling PASSED [ 53%]
tests/unit/services/embeddings/test_onnx_local.py::TestONNXLocalProvider::test_initialization PASSED [ 53%]
tests/unit/services/embeddings/test_onnx_local.py::TestONNXLocalProvider::test_initialization_with_custom_config PASSED [ 53%]
tests/unit/services/embeddings/test_onnx_local.py::TestONNXLocalProvider::test_get_embeddings_single_text PASSED [ 53%]
tests/unit/services/embeddings/test_onnx_local.py::TestONNXLocalProvider::test_get_embeddings_multiple_texts PASSED [ 53%]
tests/unit/services/embeddings/test_onnx_local.py::TestONNXLocalProvider::test_get_embeddings_empty_list PASSED [ 53%]
tests/unit/services/embeddings/test_onnx_local.py::TestONNXLocalProvider::test_embedding_normalization PASSED [ 53%]
tests/unit/services/embeddings/test_onnx_local.py::TestONNXLocalProvider::test_tokenization_with_tiktoken FAILED [ 53%]
tests/unit/services/embeddings/test_onnx_local.py::TestONNXLocalProvider::test_tokenization_simple_fallback FAILED [ 53%]
tests/unit/services/embeddings/test_onnx_local.py::TestONNXLocalProvider::test_get_dimensions PASSED [ 54%]
tests/unit/services/embeddings/test_onnx_local.py::TestONNXLocalProvider::test_get_max_batch_size PASSED [ 54%]
tests/unit/services/embeddings/test_onnx_local.py::TestONNXLocalProvider::test_get_model_name PASSED [ 54%]
tests/unit/services/embeddings/test_onnx_local.py::TestONNXLocalProvider::test_calculate_cost PASSED [ 54%]
tests/unit/services/embeddings/test_onnx_local.py::TestONNXLocalProvider::test_known_models PASSED [ 54%]
tests/unit/services/embeddings/test_onnx_local.py::TestONNXLocalProvider::test_missing_onnx_runtime PASSED [ 54%]
tests/unit/services/embeddings/test_onnx_local.py::TestONNXLocalProvider::test_missing_huggingface_hub PASSED [ 54%]
tests/unit/services/embeddings/test_onnx_local.py::TestONNXLocalProvider::test_model_download_failure PASSED [ 54%]
tests/unit/services/embeddings/test_onnx_local.py::TestONNXLocalProvider::test_session_creation_failure PASSED [ 54%]
tests/unit/services/embeddings/test_onnx_local.py::TestONNXLocalProvider::test_embedding_error_handling PASSED [ 54%]
tests/unit/services/embeddings/test_onnx_local.py::TestONNXLocalProvider::test_batch_processing PASSED [ 54%]
tests/unit/services/llm/test_anthropic_provider.py::test_provider_initialization PASSED [ 54%]
tests/unit/services/llm/test_anthropic_provider.py::test_provider_invalid_model PASSED [ 54%]
tests/unit/services/llm/test_anthropic_provider.py::test_complete PASSED [ 54%]
tests/unit/services/llm/test_anthropic_provider.py::test_complete_with_system_message PASSED [ 54%]
tests/unit/services/llm/test_anthropic_provider.py::test_count_tokens PASSED [ 54%]
tests/unit/services/llm/test_anthropic_provider.py::test_calculate_cost PASSED [ 54%]
tests/unit/services/llm/test_anthropic_provider.py::test_get_model_name PASSED [ 54%]
tests/unit/services/llm/test_anthropic_provider.py::test_get_max_tokens PASSED [ 55%]
tests/unit/services/llm/test_anthropic_provider.py::test_stream PASSED   [ 55%]
tests/unit/services/llm/test_anthropic_provider.py::test_different_models PASSED [ 55%]
tests/unit/services/llm/test_ollama_provider.py::test_provider_initialization PASSED [ 55%]
tests/unit/services/llm/test_ollama_provider.py::test_provider_default_values PASSED [ 55%]
tests/unit/services/llm/test_ollama_provider.py::test_complete PASSED    [ 55%]
tests/unit/services/llm/test_ollama_provider.py::test_complete_with_system_message PASSED [ 55%]
tests/unit/services/llm/test_ollama_provider.py::test_count_tokens PASSED [ 55%]
tests/unit/services/llm/test_ollama_provider.py::test_calculate_cost PASSED [ 55%]
tests/unit/services/llm/test_ollama_provider.py::test_get_model_name PASSED [ 55%]
tests/unit/services/llm/test_ollama_provider.py::test_get_max_tokens PASSED [ 55%]
tests/unit/services/llm/test_ollama_provider.py::test_messages_to_prompt PASSED [ 55%]
tests/unit/services/llm/test_ollama_provider.py::test_stream PASSED      [ 55%]
tests/unit/services/llm/test_openai_provider.py::test_provider_initialization PASSED [ 55%]
tests/unit/services/llm/test_openai_provider.py::test_provider_invalid_model PASSED [ 55%]
tests/unit/services/llm/test_openai_provider.py::test_complete PASSED    [ 55%]
tests/unit/services/llm/test_openai_provider.py::test_complete_with_system_message PASSED [ 55%]
tests/unit/services/llm/test_openai_provider.py::test_count_tokens PASSED [ 55%]
tests/unit/services/llm/test_openai_provider.py::test_calculate_cost PASSED [ 56%]
tests/unit/services/llm/test_openai_provider.py::test_get_model_name PASSED [ 56%]
tests/unit/services/llm/test_openai_provider.py::test_get_max_tokens PASSED [ 56%]
tests/unit/services/llm/test_openai_provider.py::test_stream PASSED      [ 56%]
tests/unit/services/llm/test_openai_provider.py::test_different_models PASSED [ 56%]
tests/unit/services/llm/test_prompt_template.py::test_template_with_system_and_user PASSED [ 56%]
tests/unit/services/llm/test_prompt_template.py::test_template_user_only PASSED [ 56%]
tests/unit/services/llm/test_prompt_template.py::test_template_with_few_shot_examples PASSED [ 56%]
tests/unit/services/llm/test_prompt_template.py::test_template_missing_variable_raises_error PASSED [ 56%]
tests/unit/services/llm/test_prompt_template.py::test_template_validation PASSED [ 56%]
tests/unit/services/llm/test_prompt_template.py::test_common_template_rag_qa PASSED [ 56%]
tests/unit/services/llm/test_prompt_template.py::test_common_template_summarization PASSED [ 56%]
tests/unit/services/llm/test_prompt_template.py::test_template_multiple_variables PASSED [ 56%]
tests/unit/services/llm/test_prompt_template.py::test_template_with_assistant_prefix PASSED [ 56%]
tests/unit/services/llm/test_prompt_template.py::test_common_template_classification PASSED [ 56%]
tests/unit/services/llm/test_prompt_template.py::test_common_template_extraction PASSED [ 56%]
tests/unit/services/llm/test_prompt_template.py::test_empty_template PASSED [ 56%]
tests/unit/services/llm/test_prompt_template.py::test_template_with_special_characters PASSED [ 56%]
tests/unit/services/llm/test_service.py::test_service_initialization PASSED [ 57%]
tests/unit/services/llm/test_service.py::test_complete_single_message PASSED [ 57%]
tests/unit/services/llm/test_service.py::test_complete_with_system_message PASSED [ 57%]
tests/unit/services/llm/test_service.py::test_complete_empty_messages_raises_error PASSED [ 57%]
tests/unit/services/llm/test_service.py::test_complete_with_temperature PASSED [ 57%]
tests/unit/services/llm/test_service.py::test_complete_with_max_tokens PASSED [ 57%]
tests/unit/services/llm/test_service.py::test_stats_tracking PASSED      [ 57%]
tests/unit/services/llm/test_service.py::test_count_tokens PASSED        [ 57%]
tests/unit/services/llm/test_service.py::test_estimate_cost PASSED       [ 57%]
tests/unit/services/llm/test_service.py::test_stream_messages PASSED     [ 57%]
tests/unit/services/llm/test_service.py::test_stream_with_callback PASSED [ 57%]
tests/unit/services/llm/test_service.py::test_stream_empty_messages_raises_error PASSED [ 57%]
tests/unit/services/llm/test_service.py::test_provider_error_handling PASSED [ 57%]
tests/unit/services/llm/test_service.py::test_rate_limiter_interaction PASSED [ 57%]
tests/unit/services/test_consistency.py::TestConsistencyChecker::test_indexing_consistent_vectors PASSED [ 57%]
tests/unit/services/test_consistency.py::TestConsistencyChecker::test_indexing_consistent_graph PASSED [ 57%]
tests/unit/services/test_consistency.py::TestConsistencyChecker::test_indexing_consistent_in_memory PASSED [ 57%]
tests/unit/services/test_consistency.py::TestConsistencyChecker::test_indexing_vectors_without_embedding PASSED [ 57%]
tests/unit/services/test_consistency.py::TestConsistencyChecker::test_indexing_graph_without_graph_service PASSED [ 58%]
tests/unit/services/test_consistency.py::TestConsistencyChecker::test_indexing_database_without_database_service PASSED [ 58%]
tests/unit/services/test_consistency.py::TestConsistencyChecker::test_indexing_in_memory_with_database PASSED [ 58%]
tests/unit/services/test_consistency.py::TestConsistencyChecker::test_indexing_multiple_inconsistencies PASSED [ 58%]
tests/unit/services/test_consistency.py::TestConsistencyChecker::test_retrieval_consistent_vectors PASSED [ 58%]
tests/unit/services/test_consistency.py::TestConsistencyChecker::test_retrieval_consistent_graph PASSED [ 58%]
tests/unit/services/test_consistency.py::TestConsistencyChecker::test_retrieval_consistent_keywords PASSED [ 58%]
tests/unit/services/test_consistency.py::TestConsistencyChecker::test_retrieval_vectors_without_database PASSED [ 58%]
tests/unit/services/test_consistency.py::TestConsistencyChecker::test_retrieval_graph_without_graph_service PASSED [ 58%]
tests/unit/services/test_consistency.py::TestConsistencyChecker::test_retrieval_keywords_without_database PASSED [ 58%]
tests/unit/services/test_consistency.py::TestConsistencyChecker::test_retrieval_multiple_inconsistencies PASSED [ 58%]
tests/unit/services/test_consistency.py::TestConsistencyChecker::test_retrieval_empty_requirements PASSED [ 58%]
tests/unit/services/test_database_service.py::test_service_initialization PASSED [ 58%]
tests/unit/services/test_database_service.py::test_ensure_table FAILED   [ 58%]
tests/unit/services/test_database_service.py::test_store_chunks FAILED   [ 58%]
tests/unit/services/test_database_service.py::test_store_empty_chunks PASSED [ 58%]
tests/unit/services/test_database_service.py::test_search_chunks FAILED  [ 58%]
tests/unit/services/test_database_service.py::test_get_chunk FAILED      [ 58%]
tests/unit/services/test_database_service.py::test_get_chunk_not_found FAILED [ 59%]
tests/unit/services/test_database_service.py::test_get_chunks_for_documents FAILED [ 59%]
tests/unit/services/test_database_service.py::test_close FAILED          [ 59%]
tests/unit/services/test_database_service.py::test_context_manager FAILED [ 59%]
tests/unit/services/test_dependencies.py::TestServiceDependency::test_enum_has_all_service_types PASSED [ 59%]
tests/unit/services/test_dependencies.py::TestServiceDependency::test_enum_values_are_unique PASSED [ 59%]
tests/unit/services/test_dependencies.py::TestServiceDependency::test_enum_count PASSED [ 59%]
tests/unit/services/test_dependencies.py::TestStrategyDependencies::test_instantiation_with_no_services PASSED [ 59%]
tests/unit/services/test_dependencies.py::TestStrategyDependencies::test_instantiation_with_all_services PASSED [ 59%]
tests/unit/services/test_dependencies.py::TestStrategyDependencies::test_instantiation_with_partial_services PASSED [ 59%]
tests/unit/services/test_dependencies.py::TestValidationLogic::test_validation_with_all_required_services_present PASSED [ 59%]
tests/unit/services/test_dependencies.py::TestValidationLogic::test_validation_with_some_services_missing PASSED [ 59%]
tests/unit/services/test_dependencies.py::TestValidationLogic::test_validation_with_empty_requirements PASSED [ 59%]
tests/unit/services/test_dependencies.py::TestValidationLogic::test_validation_with_all_services_missing PASSED [ 59%]
tests/unit/services/test_dependencies.py::TestValidationLogic::test_validation_with_extra_services_present PASSED [ 59%]
tests/unit/services/test_dependencies.py::TestValidationLogic::test_validation_for_each_service_type PASSED [ 59%]
tests/unit/services/test_dependencies.py::TestErrorMessaging::test_message_for_valid_container PASSED [ 59%]
tests/unit/services/test_dependencies.py::TestErrorMessaging::test_message_for_single_missing_service PASSED [ 59%]
tests/unit/services/test_dependencies.py::TestErrorMessaging::test_message_for_multiple_missing_services PASSED [ 60%]
tests/unit/services/test_dependencies.py::TestErrorMessaging::test_message_format PASSED [ 60%]
tests/unit/services/test_dependencies.py::TestErrorMessaging::test_message_with_empty_requirements PASSED [ 60%]
tests/unit/services/test_graph_interface.py::TestIGraphServiceInterface::test_interface_is_abstract PASSED [ 60%]
tests/unit/services/test_graph_interface.py::TestIGraphServiceInterface::test_interface_requires_all_methods PASSED [ 60%]
tests/unit/services/test_graph_interface.py::TestIGraphServiceInterface::test_create_node_signature PASSED [ 60%]
tests/unit/services/test_graph_interface.py::TestIGraphServiceInterface::test_create_relationship_signature PASSED [ 60%]
tests/unit/services/test_graph_interface.py::TestIGraphServiceInterface::test_query_signature PASSED [ 60%]
tests/unit/services/test_graph_interface.py::TestIGraphServiceInterface::test_minimal_concrete_implementation PASSED [ 60%]
tests/unit/services/test_interfaces.py::test_illm_service_requires_implementation PASSED [ 60%]
tests/unit/services/test_interfaces.py::test_illm_service_requires_complete_method PASSED [ 60%]
tests/unit/services/test_interfaces.py::test_illm_service_requires_stream_complete_method PASSED [ 60%]
tests/unit/services/test_interfaces.py::test_illm_service_mock_implementation PASSED [ 60%]
tests/unit/services/test_interfaces.py::test_illm_service_has_docstring PASSED [ 60%]
tests/unit/services/test_interfaces.py::test_iembedding_service_requires_implementation PASSED [ 60%]
tests/unit/services/test_interfaces.py::test_iembedding_service_requires_embed_method PASSED [ 60%]
tests/unit/services/test_interfaces.py::test_iembedding_service_mock_implementation PASSED [ 60%]
tests/unit/services/test_interfaces.py::test_iembedding_service_has_docstring PASSED [ 60%]
tests/unit/services/test_interfaces.py::test_igraph_service_requires_implementation PASSED [ 61%]
tests/unit/services/test_interfaces.py::test_igraph_service_requires_create_node_method PASSED [ 61%]
tests/unit/services/test_interfaces.py::test_igraph_service_mock_implementation PASSED [ 61%]
tests/unit/services/test_interfaces.py::test_igraph_service_has_docstring PASSED [ 61%]
tests/unit/services/test_interfaces.py::test_ireranking_service_requires_implementation PASSED [ 61%]
tests/unit/services/test_interfaces.py::test_ireranking_service_mock_implementation PASSED [ 61%]
tests/unit/services/test_interfaces.py::test_ireranking_service_has_docstring PASSED [ 61%]
tests/unit/services/test_interfaces.py::test_idatabase_service_requires_implementation PASSED [ 61%]
tests/unit/services/test_interfaces.py::test_idatabase_service_requires_store_chunks_method PASSED [ 61%]
tests/unit/services/test_interfaces.py::test_idatabase_service_mock_implementation FAILED [ 61%]
tests/unit/services/test_interfaces.py::test_idatabase_service_has_docstring PASSED [ 61%]
tests/unit/services/test_interfaces.py::test_all_interfaces_have_type_hints PASSED [ 61%]
tests/unit/services/test_reranking_interface.py::TestIRerankingServiceInterface::test_interface_is_abstract PASSED [ 61%]
tests/unit/services/test_reranking_interface.py::TestIRerankingServiceInterface::test_interface_requires_rerank_method PASSED [ 61%]
tests/unit/services/test_reranking_interface.py::TestIRerankingServiceInterface::test_rerank_method_signature PASSED [ 61%]
tests/unit/services/test_reranking_interface.py::TestIRerankingServiceInterface::test_minimal_concrete_implementation PASSED [ 61%]
tests/unit/services/utils/test_onnx_utils.py::TestMeanPooling::test_basic_pooling PASSED [ 61%]
tests/unit/services/utils/test_onnx_utils.py::TestMeanPooling::test_pooling_with_padding PASSED [ 61%]
tests/unit/services/utils/test_onnx_utils.py::TestMeanPooling::test_pooling_single_token PASSED [ 62%]
tests/unit/services/utils/test_onnx_utils.py::TestNormalizeEmbeddings::test_normalize_2d_array PASSED [ 62%]
tests/unit/services/utils/test_onnx_utils.py::TestNormalizeEmbeddings::test_normalize_1d_array PASSED [ 62%]
tests/unit/services/utils/test_onnx_utils.py::TestNormalizeEmbeddings::test_normalize_zero_vector PASSED [ 62%]
tests/unit/services/utils/test_onnx_utils.py::TestNormalizeEmbeddings::test_normalize_already_normalized PASSED [ 62%]
tests/unit/services/utils/test_onnx_utils.py::TestCosineSimilarity::test_identical_vectors PASSED [ 62%]
tests/unit/services/utils/test_onnx_utils.py::TestCosineSimilarity::test_orthogonal_vectors PASSED [ 62%]
tests/unit/services/utils/test_onnx_utils.py::TestCosineSimilarity::test_opposite_vectors PASSED [ 62%]
tests/unit/services/utils/test_onnx_utils.py::TestCosineSimilarity::test_similar_vectors PASSED [ 62%]
tests/unit/services/utils/test_onnx_utils.py::TestCosineSimilarity::test_zero_vector PASSED [ 62%]
tests/unit/services/utils/test_onnx_utils.py::TestCosineSimilarity::test_2d_arrays PASSED [ 62%]
tests/unit/services/utils/test_onnx_utils.py::TestGetModelMetadata::test_metadata_extraction PASSED [ 62%]
tests/unit/services/utils/test_onnx_utils.py::TestGetModelMetadata::test_metadata_with_2d_output PASSED [ 62%]
tests/unit/services/utils/test_onnx_utils.py::TestGetModelMetadata::test_metadata_without_embedding_dim PASSED [ 62%]
tests/unit/services/utils/test_onnx_utils.py::TestGetModelMetadata::test_metadata_with_dynamic_shapes PASSED [ 62%]
tests/unit/strategies/agentic/test_agent.py::test_agent_state_initialization PASSED [ 62%]
tests/unit/strategies/agentic/test_agent.py::test_agent_state_add_tool_call PASSED [ 62%]
tests/unit/strategies/agentic/test_agent.py::test_agent_state_add_tool_result PASSED [ 62%]
tests/unit/strategies/agentic/test_agent.py::test_agent_state_should_continue_max_iterations PASSED [ 63%]
tests/unit/strategies/agentic/test_agent.py::test_agent_state_should_continue_sufficient_results PASSED [ 63%]
tests/unit/strategies/agentic/test_agent.py::test_agent_initialization PASSED [ 63%]
tests/unit/strategies/agentic/test_agent.py::test_agent_run_basic PASSED [ 63%]
tests/unit/strategies/agentic/test_agent.py::test_agent_planning_phase PASSED [ 63%]
tests/unit/strategies/agentic/test_agent.py::test_agent_tool_execution PASSED [ 63%]
tests/unit/strategies/agentic/test_agent.py::test_agent_tool_execution_not_found PASSED [ 63%]
tests/unit/strategies/agentic/test_agent.py::test_agent_synthesize_results PASSED [ 63%]
tests/unit/strategies/agentic/test_agent.py::test_agent_synthesize_results_ignores_failed PASSED [ 63%]
tests/unit/strategies/agentic/test_agent.py::test_agent_max_iterations PASSED [ 63%]
tests/unit/strategies/agentic/test_agent.py::test_agent_parse_tool_calls_structured PASSED [ 63%]
tests/unit/strategies/agentic/test_agent.py::test_agent_parse_tool_calls_done PASSED [ 63%]
tests/unit/strategies/agentic/test_agent.py::test_agent_parse_tool_calls_fallback PASSED [ 63%]
tests/unit/strategies/agentic/test_query_analyzer.py::test_query_analyzer_initialization PASSED [ 63%]
tests/unit/strategies/agentic/test_query_analyzer.py::test_extract_entities PASSED [ 63%]
tests/unit/strategies/agentic/test_query_analyzer.py::test_extract_entities_quoted PASSED [ 63%]
tests/unit/strategies/agentic/test_query_analyzer.py::test_extract_keywords PASSED [ 63%]
tests/unit/strategies/agentic/test_query_analyzer.py::test_assess_complexity_simple PASSED [ 63%]
tests/unit/strategies/agentic/test_query_analyzer.py::test_assess_complexity_complex PASSED [ 64%]
tests/unit/strategies/agentic/test_query_analyzer.py::test_assess_complexity_multiple_questions PASSED [ 64%]
tests/unit/strategies/agentic/test_query_analyzer.py::test_classify_type_factual PASSED [ 64%]
tests/unit/strategies/agentic/test_query_analyzer.py::test_classify_type_exploratory PASSED [ 64%]
tests/unit/strategies/agentic/test_query_analyzer.py::test_classify_type_specific_document PASSED [ 64%]
tests/unit/strategies/agentic/test_query_analyzer.py::test_classify_type_metadata PASSED [ 64%]
tests/unit/strategies/agentic/test_query_analyzer.py::test_recommend_tools_factual PASSED [ 64%]
tests/unit/strategies/agentic/test_query_analyzer.py::test_recommend_tools_specific_document PASSED [ 64%]
tests/unit/strategies/agentic/test_query_analyzer.py::test_recommend_tools_metadata PASSED [ 64%]
tests/unit/strategies/agentic/test_query_analyzer.py::test_recommend_tools_technical_terms PASSED [ 64%]
tests/unit/strategies/agentic/test_query_analyzer.py::test_analyze_full_workflow PASSED [ 64%]
tests/unit/strategies/agentic/test_strategy.py::test_config_defaults PASSED [ 64%]
tests/unit/strategies/agentic/test_strategy.py::test_config_custom_values PASSED [ 64%]
tests/unit/strategies/agentic/test_strategy.py::test_config_validation PASSED [ 64%]
tests/unit/strategies/agentic/test_strategy.py::test_strategy_initialization FAILED [ 64%]
tests/unit/strategies/agentic/test_strategy.py::test_strategy_initialization_with_config FAILED [ 64%]
tests/unit/strategies/agentic/test_strategy.py::test_strategy_retrieve FAILED [ 64%]
tests/unit/strategies/agentic/test_strategy.py::test_strategy_retrieve_with_query_analysis FAILED [ 64%]
tests/unit/strategies/agentic/test_strategy.py::test_strategy_fallback_on_error FAILED [ 65%]
tests/unit/strategies/agentic/test_strategy.py::test_strategy_no_fallback_raises_error FAILED [ 65%]
tests/unit/strategies/agentic/test_strategy.py::test_strategy_get_stats FAILED [ 65%]
tests/unit/strategies/agentic/test_strategy.py::test_strategy_top_k_limit FAILED [ 65%]
tests/unit/strategies/agentic/test_tools.py::test_tool_parameter_creation PASSED [ 65%]
tests/unit/strategies/agentic/test_tools.py::test_tool_result_creation PASSED [ 65%]
tests/unit/strategies/agentic/test_tools.py::test_tool_to_anthropic_format PASSED [ 65%]
tests/unit/strategies/agentic/test_tools.py::test_semantic_search_tool_definition PASSED [ 65%]
tests/unit/strategies/agentic/test_tools.py::test_semantic_search_tool_execute PASSED [ 65%]
tests/unit/strategies/agentic/test_tools.py::test_semantic_search_tool_error_handling PASSED [ 65%]
tests/unit/strategies/agentic/test_tools.py::test_document_reader_tool PASSED [ 65%]
tests/unit/strategies/agentic/test_tools.py::test_document_reader_tool_not_found PASSED [ 65%]
tests/unit/strategies/agentic/test_tools.py::test_document_reader_tool_invalid_id PASSED [ 65%]
tests/unit/strategies/agentic/test_tools.py::test_metadata_search_tool PASSED [ 65%]
tests/unit/strategies/agentic/test_tools.py::test_hybrid_search_tool PASSED [ 65%]
tests/unit/strategies/chunking/test_docling_chunker.py::test_is_docling_available PASSED [ 65%]
tests/unit/strategies/chunking/test_docling_chunker.py::test_get_docling_version PASSED [ 65%]
tests/unit/strategies/chunking/test_docling_chunker.py::test_docling_chunker_import_error_when_not_installed PASSED [ 65%]
tests/unit/strategies/chunking/test_docling_chunker.py::test_docling_chunker_initialization SKIPPED [ 66%]
tests/unit/strategies/chunking/test_docling_chunker.py::test_docling_chunker_placeholder_warning SKIPPED [ 66%]
tests/unit/strategies/chunking/test_docling_chunker.py::test_docling_chunker_module_structure PASSED [ 66%]
tests/unit/strategies/chunking/test_fixed_size_chunker.py::test_fixed_size_chunker_initialization PASSED [ 66%]
tests/unit/strategies/chunking/test_fixed_size_chunker.py::test_chunk_document_basic PASSED [ 66%]
tests/unit/strategies/chunking/test_fixed_size_chunker.py::test_chunk_document_empty PASSED [ 66%]
tests/unit/strategies/chunking/test_fixed_size_chunker.py::test_chunk_size_approximately_target PASSED [ 66%]
tests/unit/strategies/chunking/test_fixed_size_chunker.py::test_chunk_overlap PASSED [ 66%]
tests/unit/strategies/chunking/test_fixed_size_chunker.py::test_no_overlap PASSED [ 66%]
tests/unit/strategies/chunking/test_fixed_size_chunker.py::test_chunk_multiple_documents PASSED [ 66%]
tests/unit/strategies/chunking/test_fixed_size_chunker.py::test_get_overlap_words PASSED [ 66%]
tests/unit/strategies/chunking/test_fixed_size_chunker.py::test_get_overlap_words_zero_overlap PASSED [ 66%]
tests/unit/strategies/chunking/test_fixed_size_chunker.py::test_count_tokens PASSED [ 66%]
tests/unit/strategies/chunking/test_fixed_size_chunker.py::test_single_word_document PASSED [ 66%]
tests/unit/strategies/chunking/test_fixed_size_chunker.py::test_chunk_metadata PASSED [ 66%]
tests/unit/strategies/chunking/test_fixed_size_chunker.py::test_create_chunk_helper PASSED [ 66%]
tests/unit/strategies/chunking/test_hybrid_chunker.py::test_hybrid_chunker_initialization_with_embeddings PASSED [ 66%]
tests/unit/strategies/chunking/test_hybrid_chunker.py::test_hybrid_chunker_initialization_without_embeddings PASSED [ 66%]
tests/unit/strategies/chunking/test_hybrid_chunker.py::test_chunk_markdown_document PASSED [ 67%]
tests/unit/strategies/chunking/test_hybrid_chunker.py::test_chunk_document_empty PASSED [ 67%]
tests/unit/strategies/chunking/test_hybrid_chunker.py::test_structural_only_mode PASSED [ 67%]
tests/unit/strategies/chunking/test_hybrid_chunker.py::test_semantic_refinement_of_large_chunks PASSED [ 67%]
tests/unit/strategies/chunking/test_hybrid_chunker.py::test_hierarchy_preservation PASSED [ 67%]
tests/unit/strategies/chunking/test_hybrid_chunker.py::test_chunk_multiple_documents PASSED [ 67%]
tests/unit/strategies/chunking/test_hybrid_chunker.py::test_atomic_content_not_split PASSED [ 67%]
tests/unit/strategies/chunking/test_hybrid_chunker.py::test_get_stats PASSED [ 67%]
tests/unit/strategies/chunking/test_hybrid_chunker.py::test_chunk_position_reindexing PASSED [ 67%]
tests/unit/strategies/chunking/test_hybrid_chunker.py::test_semantic_chunking_failure_fallback PASSED [ 67%]
tests/unit/strategies/chunking/test_semantic_chunker.py::test_semantic_chunker_initialization PASSED [ 67%]
tests/unit/strategies/chunking/test_semantic_chunker.py::test_semantic_chunker_requires_embeddings PASSED [ 67%]
tests/unit/strategies/chunking/test_semantic_chunker.py::test_chunk_document_basic PASSED [ 67%]
tests/unit/strategies/chunking/test_semantic_chunker.py::test_chunk_document_empty PASSED [ 67%]
tests/unit/strategies/chunking/test_semantic_chunker.py::test_split_into_sentences PASSED [ 67%]
tests/unit/strategies/chunking/test_semantic_chunker.py::test_cosine_similarity PASSED [ 67%]
tests/unit/strategies/chunking/test_semantic_chunker.py::test_detect_boundaries_high_similarity PASSED [ 67%]
tests/unit/strategies/chunking/test_semantic_chunker.py::test_detect_boundaries_low_similarity PASSED [ 67%]
tests/unit/strategies/chunking/test_semantic_chunker.py::test_single_sentence_document PASSED [ 68%]
tests/unit/strategies/chunking/test_semantic_chunker.py::test_fallback_chunking PASSED [ 68%]
tests/unit/strategies/chunking/test_semantic_chunker.py::test_chunk_multiple_documents PASSED [ 68%]
tests/unit/strategies/chunking/test_semantic_chunker.py::test_count_tokens_with_tokenizer PASSED [ 68%]
tests/unit/strategies/chunking/test_semantic_chunker.py::test_create_segments PASSED [ 68%]
tests/unit/strategies/chunking/test_semantic_chunker.py::test_coherence_score_computation PASSED [ 68%]
tests/unit/strategies/chunking/test_structural_chunker.py::test_structural_chunker_initialization PASSED [ 68%]
tests/unit/strategies/chunking/test_structural_chunker.py::test_is_markdown_detection PASSED [ 68%]
tests/unit/strategies/chunking/test_structural_chunker.py::test_chunk_markdown_with_headers PASSED [ 68%]
tests/unit/strategies/chunking/test_structural_chunker.py::test_split_by_headers_hierarchy PASSED [ 68%]
tests/unit/strategies/chunking/test_structural_chunker.py::test_chunk_plain_text_by_paragraphs PASSED [ 68%]
tests/unit/strategies/chunking/test_structural_chunker.py::test_large_section_splitting PASSED [ 68%]
tests/unit/strategies/chunking/test_structural_chunker.py::test_empty_markdown_document PASSED [ 68%]
tests/unit/strategies/chunking/test_structural_chunker.py::test_markdown_with_code_blocks PASSED [ 68%]
tests/unit/strategies/chunking/test_structural_chunker.py::test_multiple_documents_batch PASSED [ 68%]
tests/unit/strategies/chunking/test_structural_chunker.py::test_split_into_paragraphs PASSED [ 68%]
tests/unit/strategies/chunking/test_structural_chunker.py::test_is_atomic_content_code_block PASSED [ 68%]
tests/unit/strategies/chunking/test_structural_chunker.py::test_is_atomic_content_table PASSED [ 68%]
tests/unit/strategies/chunking/test_structural_chunker.py::test_atomic_content_not_split PASSED [ 69%]
tests/unit/strategies/chunking/test_structural_chunker.py::test_respect_headers_disabled PASSED [ 69%]
tests/unit/strategies/chunking/test_structural_chunker.py::test_count_tokens PASSED [ 69%]
tests/unit/strategies/contextual/test_batch_processor.py::test_process_chunks_batching PASSED [ 69%]
tests/unit/strategies/contextual/test_batch_processor.py::test_parallel_batch_processing PASSED [ 69%]
tests/unit/strategies/contextual/test_batch_processor.py::test_cost_tracking_during_batch PASSED [ 69%]
tests/unit/strategies/contextual/test_batch_processor.py::test_error_handling_in_batch PASSED [ 69%]
tests/unit/strategies/contextual/test_batch_processor.py::test_sequential_batch_processing PASSED [ 69%]
tests/unit/strategies/contextual/test_batch_processor.py::test_batch_creation PASSED [ 69%]
tests/unit/strategies/contextual/test_batch_processor.py::test_contextualized_text_format PASSED [ 69%]
tests/unit/strategies/contextual/test_context_generator.py::test_generate_context_basic PASSED [ 69%]
tests/unit/strategies/contextual/test_context_generator.py::test_context_includes_document_metadata PASSED [ 69%]
tests/unit/strategies/contextual/test_context_generator.py::test_skip_short_chunks PASSED [ 69%]
tests/unit/strategies/contextual/test_context_generator.py::test_skip_code_blocks PASSED [ 69%]
tests/unit/strategies/contextual/test_context_generator.py::test_fallback_on_error PASSED [ 69%]
tests/unit/strategies/contextual/test_context_generator.py::test_context_length_validation PASSED [ 69%]
tests/unit/strategies/contextual/test_context_generator.py::test_disabled_contextualization PASSED [ 69%]
tests/unit/strategies/contextual/test_context_generator.py::test_token_counting PASSED [ 69%]
tests/unit/strategies/contextual/test_context_generator.py::test_context_truncation PASSED [ 70%]
tests/unit/strategies/contextual/test_cost_tracker.py::test_calculate_cost PASSED [ 70%]
tests/unit/strategies/contextual/test_cost_tracker.py::test_record_chunk_cost PASSED [ 70%]
tests/unit/strategies/contextual/test_cost_tracker.py::test_cost_summary PASSED [ 70%]
tests/unit/strategies/contextual/test_cost_tracker.py::test_budget_alert PASSED [ 70%]
tests/unit/strategies/contextual/test_cost_tracker.py::test_reset PASSED [ 70%]
tests/unit/strategies/contextual/test_cost_tracker.py::test_check_budget_limit PASSED [ 70%]
tests/unit/strategies/contextual/test_cost_tracker.py::test_multiple_chunk_costs PASSED [ 70%]
tests/unit/strategies/contextual/test_cost_tracker.py::test_cost_per_1k_chunks PASSED [ 70%]
tests/unit/strategies/contextual/test_cost_tracker.py::test_empty_tracker_summary PASSED [ 70%]
tests/unit/strategies/contextual/test_storage.py::test_store_chunks PASSED [ 70%]
tests/unit/strategies/contextual/test_storage.py::test_store_without_context PASSED [ 70%]
tests/unit/strategies/contextual/test_storage.py::test_retrieve_original_format PASSED [ 70%]
tests/unit/strategies/contextual/test_storage.py::test_retrieve_contextualized_format PASSED [ 70%]
tests/unit/strategies/contextual/test_storage.py::test_retrieve_both_format PASSED [ 70%]
tests/unit/strategies/contextual/test_storage.py::test_retrieve_context_only PASSED [ 70%]
tests/unit/strategies/contextual/test_storage.py::test_store_multiple_chunks PASSED [ 70%]
tests/unit/strategies/contextual/test_storage.py::test_config_controls_storage PASSED [ 70%]
tests/unit/strategies/fine_tuned/test_ab_testing.py::TestABTestingFramework::test_start_stop_experiment PASSED [ 71%]
tests/unit/strategies/fine_tuned/test_ab_testing.py::TestABTestingFramework::test_get_model_for_request PASSED [ 71%]
tests/unit/strategies/fine_tuned/test_ab_testing.py::TestABTestingFramework::test_record_and_stats PASSED [ 71%]
tests/unit/strategies/fine_tuned/test_custom_loader.py::TestCustomModelLoader::test_load_model_onnx PASSED [ 71%]
tests/unit/strategies/fine_tuned/test_custom_loader.py::TestCustomModelLoader::test_load_model_pytorch PASSED [ 71%]
tests/unit/strategies/fine_tuned/test_custom_loader.py::TestCustomModelLoader::test_load_model_fallback PASSED [ 71%]
tests/unit/strategies/fine_tuned/test_model_registry.py::TestONNXModelRegistry::test_register_model PASSED [ 71%]
tests/unit/strategies/fine_tuned/test_model_registry.py::TestONNXModelRegistry::test_get_model PASSED [ 71%]
tests/unit/strategies/fine_tuned/test_model_registry.py::TestONNXModelRegistry::test_list_models PASSED [ 71%]
tests/unit/strategies/fine_tuned/test_model_registry.py::TestONNXModelRegistry::test_delete_model PASSED [ 71%]
tests/unit/strategies/fine_tuned/test_model_registry.py::TestONNXModelRegistry::test_get_latest_version PASSED [ 71%]
tests/unit/strategies/hierarchical/test_hierarchy_builder.py::TestHierarchyBuilder::test_build_creates_root_chunk PASSED [ 71%]
tests/unit/strategies/hierarchical/test_hierarchy_builder.py::TestHierarchyBuilder::test_is_markdown_detection PASSED [ 71%]
tests/unit/strategies/hierarchical/test_hierarchy_builder.py::TestHierarchyBuilder::test_markdown_hierarchy_structure PASSED [ 71%]
tests/unit/strategies/hierarchical/test_hierarchy_builder.py::TestHierarchyBuilder::test_split_by_headers PASSED [ 71%]
tests/unit/strategies/hierarchical/test_hierarchy_builder.py::TestHierarchyBuilder::test_paragraph_hierarchy PASSED [ 71%]
tests/unit/strategies/hierarchical/test_hierarchy_builder.py::TestHierarchyBuilder::test_hierarchy_metadata PASSED [ 71%]
tests/unit/strategies/hierarchical/test_hierarchy_builder.py::TestHierarchyBuilder::test_parent_child_relationships PASSED [ 71%]
tests/unit/strategies/hierarchical/test_hierarchy_builder.py::TestHierarchyBuilder::test_min_chunk_size_respected PASSED [ 72%]
tests/unit/strategies/hierarchical/test_hierarchy_builder.py::TestHierarchyBuilder::test_max_hierarchy_depth PASSED [ 72%]
tests/unit/strategies/hierarchical/test_hierarchy_builder.py::TestHierarchyBuilder::test_empty_document PASSED [ 72%]
tests/unit/strategies/hierarchical/test_hierarchy_builder.py::TestHierarchyBuilder::test_document_with_no_structure PASSED [ 72%]
tests/unit/strategies/hierarchical/test_hierarchy_builder.py::TestHierarchyBuilderEdgeCases::test_nested_headers_same_level PASSED [ 72%]
tests/unit/strategies/hierarchical/test_hierarchy_builder.py::TestHierarchyBuilderEdgeCases::test_header_without_content PASSED [ 72%]
tests/unit/strategies/hierarchical/test_hierarchy_builder.py::TestHierarchyBuilderEdgeCases::test_very_long_document PASSED [ 72%]
tests/unit/strategies/hierarchical/test_parent_retriever.py::TestParentRetriever::test_expand_immediate_parent PASSED [ 72%]
tests/unit/strategies/hierarchical/test_parent_retriever.py::TestParentRetriever::test_expand_no_parent PASSED [ 72%]
tests/unit/strategies/hierarchical/test_parent_retriever.py::TestParentRetriever::test_deduplication PASSED [ 72%]
tests/unit/strategies/hierarchical/test_parent_retriever.py::TestParentRetriever::test_adaptive_strategy_small_chunk PASSED [ 72%]
tests/unit/strategies/hierarchical/test_parent_retriever.py::TestParentRetriever::test_adaptive_strategy_paragraph_level PASSED [ 72%]
tests/unit/strategies/hierarchical/test_parent_retriever.py::TestParentRetriever::test_window_expansion PASSED [ 72%]
tests/unit/strategies/hierarchical/test_parent_retriever.py::TestParentRetrieverEdgeCases::test_circular_reference_protection PASSED [ 72%]
tests/unit/strategies/hierarchical/test_parent_retriever.py::TestParentRetrieverEdgeCases::test_missing_parent_handling PASSED [ 72%]
tests/unit/strategies/indexing/test_context_aware.py::test_capabilities PASSED [ 72%]
tests/unit/strategies/indexing/test_context_aware.py::test_requirements PASSED [ 72%]
tests/unit/strategies/indexing/test_context_aware.py::test_split_into_sentences PASSED [ 72%]
tests/unit/strategies/indexing/test_context_aware.py::test_create_windows PASSED [ 73%]
tests/unit/strategies/indexing/test_context_aware.py::test_find_boundaries PASSED [ 73%]
tests/unit/strategies/indexing/test_context_aware.py::test_create_chunks_respects_boundaries PASSED [ 73%]
tests/unit/strategies/indexing/test_context_aware.py::test_create_chunks_respects_min_size PASSED [ 73%]
tests/unit/strategies/indexing/test_context_aware.py::test_create_chunks_respects_max_size PASSED [ 73%]
tests/unit/strategies/indexing/test_context_aware.py::test_process_flow PASSED [ 73%]
tests/unit/strategies/knowledge_graph/test_entity_extractor.py::test_entity_extraction_basic PASSED [ 73%]
tests/unit/strategies/knowledge_graph/test_entity_extractor.py::test_entity_extraction_with_confidence PASSED [ 73%]
tests/unit/strategies/knowledge_graph/test_entity_extractor.py::test_entity_deduplication PASSED [ 73%]
tests/unit/strategies/knowledge_graph/test_entity_extractor.py::test_batch_extraction PASSED [ 73%]
tests/unit/strategies/knowledge_graph/test_entity_extractor.py::test_invalid_json_response PASSED [ 73%]
tests/unit/strategies/knowledge_graph/test_entity_extractor.py::test_confidence_filtering PASSED [ 73%]
tests/unit/strategies/knowledge_graph/test_hybrid_retriever.py::test_hybrid_retrieval PASSED [ 73%]
tests/unit/strategies/knowledge_graph/test_hybrid_retriever.py::test_score_combination PASSED [ 73%]
tests/unit/strategies/knowledge_graph/test_hybrid_retriever.py::test_empty_vector_results PASSED [ 73%]
tests/unit/strategies/knowledge_graph/test_hybrid_retriever.py::test_entities_in_chunks PASSED [ 73%]
tests/unit/strategies/knowledge_graph/test_hybrid_retriever.py::test_graph_expansion PASSED [ 73%]
tests/unit/strategies/knowledge_graph/test_hybrid_retriever.py::test_top_k_limiting PASSED [ 73%]
tests/unit/strategies/knowledge_graph/test_hybrid_retriever.py::test_score_ordering PASSED [ 74%]
tests/unit/strategies/knowledge_graph/test_memory_graph_store.py::test_add_entity PASSED [ 74%]
tests/unit/strategies/knowledge_graph/test_memory_graph_store.py::test_add_relationship PASSED [ 74%]
tests/unit/strategies/knowledge_graph/test_memory_graph_store.py::test_graph_traversal PASSED [ 74%]
tests/unit/strategies/knowledge_graph/test_memory_graph_store.py::test_find_entities_by_name PASSED [ 74%]
tests/unit/strategies/knowledge_graph/test_memory_graph_store.py::test_graph_stats PASSED [ 74%]
tests/unit/strategies/knowledge_graph/test_memory_graph_store.py::test_delete_entity PASSED [ 74%]
tests/unit/strategies/knowledge_graph/test_memory_graph_store.py::test_clear_graph PASSED [ 74%]
tests/unit/strategies/knowledge_graph/test_memory_graph_store.py::test_relationship_type_filtering PASSED [ 74%]
tests/unit/strategies/late_chunking/test_coherence_analyzer.py::test_analyze_chunk_coherence PASSED [ 74%]
tests/unit/strategies/late_chunking/test_coherence_analyzer.py::test_coherence_score_calculation PASSED [ 74%]
tests/unit/strategies/late_chunking/test_coherence_analyzer.py::test_coherence_score_size_penalty PASSED [ 74%]
tests/unit/strategies/late_chunking/test_coherence_analyzer.py::test_compare_with_traditional PASSED [ 74%]
tests/unit/strategies/late_chunking/test_coherence_analyzer.py::test_compare_metrics_types PASSED [ 74%]
tests/unit/strategies/late_chunking/test_coherence_analyzer.py::test_coherence_with_no_scores PASSED [ 74%]
tests/unit/strategies/late_chunking/test_coherence_analyzer.py::test_analyze_preserves_chunk_data PASSED [ 74%]
tests/unit/strategies/late_chunking/test_document_embedder.py::test_document_embedding_basic PASSED [ 74%]
tests/unit/strategies/late_chunking/test_document_embedder.py::test_token_embeddings_extracted PASSED [ 75%]
tests/unit/strategies/late_chunking/test_document_embedder.py::test_mean_pooling PASSED [ 75%]
tests/unit/strategies/late_chunking/test_document_embedder.py::test_mean_pooling_with_mask PASSED [ 75%]
tests/unit/strategies/late_chunking/test_document_embedder.py::test_long_document_truncation PASSED [ 75%]
tests/unit/strategies/late_chunking/test_document_embedder.py::test_batch_processing PASSED [ 75%]
tests/unit/strategies/late_chunking/test_document_embedder.py::test_embedding_dimensions_consistent PASSED [ 75%]
tests/unit/strategies/late_chunking/test_document_embedder.py::test_model_name_stored PASSED [ 75%]
tests/unit/strategies/late_chunking/test_document_embedder.py::test_chunk_embeddings PASSED [ 75%]
tests/unit/strategies/late_chunking/test_document_embedder.py::test_pool_embeddings_mean PASSED [ 75%]
tests/unit/strategies/late_chunking/test_document_embedder.py::test_pool_embeddings_max PASSED [ 75%]
tests/unit/strategies/late_chunking/test_document_embedder.py::test_pool_embeddings_first PASSED [ 75%]
tests/unit/strategies/late_chunking/test_document_embedder.py::test_decode_tokens PASSED [ 75%]
tests/unit/strategies/late_chunking/test_embedding_chunker.py::test_fixed_size_chunking PASSED [ 75%]
tests/unit/strategies/late_chunking/test_embedding_chunker.py::test_semantic_boundary_chunking PASSED [ 75%]
tests/unit/strategies/late_chunking/test_embedding_chunker.py::test_adaptive_chunking PASSED [ 75%]
tests/unit/strategies/late_chunking/test_embedding_chunker.py::test_chunk_text_reconstruction PASSED [ 75%]
tests/unit/strategies/late_chunking/test_embedding_chunker.py::test_chunk_embedding_averaging PASSED [ 75%]
tests/unit/strategies/late_chunking/test_embedding_chunker.py::test_cosine_similarity PASSED [ 75%]
tests/unit/strategies/late_chunking/test_embedding_chunker.py::test_cosine_similarity_zero_vectors PASSED [ 76%]
tests/unit/strategies/late_chunking/test_embedding_chunker.py::test_chunk_overlap PASSED [ 76%]
tests/unit/strategies/late_chunking/test_embedding_chunker.py::test_chunk_ids_unique PASSED [ 76%]
tests/unit/strategies/late_chunking/test_embedding_chunker.py::test_detect_semantic_boundaries PASSED [ 76%]
tests/unit/strategies/late_chunking/test_embedding_chunker.py::test_hierarchical_chunking_fallback PASSED [ 76%]
tests/unit/strategies/late_chunking/test_embedding_chunker.py::test_chunk_metadata PASSED [ 76%]
tests/unit/strategies/multi_query/test_deduplicator.py::test_exact_deduplication PASSED [ 76%]
tests/unit/strategies/multi_query/test_deduplicator.py::test_frequency_tracking PASSED [ 76%]
tests/unit/strategies/multi_query/test_deduplicator.py::test_max_score_retention PASSED [ 76%]
tests/unit/strategies/multi_query/test_deduplicator.py::test_skip_failed_queries PASSED [ 76%]
tests/unit/strategies/multi_query/test_deduplicator.py::test_empty_results PASSED [ 76%]
tests/unit/strategies/multi_query/test_deduplicator.py::test_variant_indices_tracking PASSED [ 76%]
tests/unit/strategies/multi_query/test_deduplicator.py::test_near_duplicate_detection PASSED [ 76%]
tests/unit/strategies/multi_query/test_parallel_executor.py::test_execute_queries_parallel PASSED [ 76%]
tests/unit/strategies/multi_query/test_parallel_executor.py::test_execute_single_query PASSED [ 76%]
tests/unit/strategies/multi_query/test_parallel_executor.py::test_query_timeout_handling PASSED [ 76%]
tests/unit/strategies/multi_query/test_parallel_executor.py::test_partial_failure_handling PASSED [ 76%]
tests/unit/strategies/multi_query/test_parallel_executor.py::test_minimum_successful_queries PASSED [ 76%]
tests/unit/strategies/multi_query/test_parallel_executor.py::test_sync_vector_store_support PASSED [ 77%]
tests/unit/strategies/multi_query/test_ranker.py::test_rank_by_max_score PASSED [ 77%]
tests/unit/strategies/multi_query/test_ranker.py::test_rank_by_frequency_boost PASSED [ 77%]
tests/unit/strategies/multi_query/test_ranker.py::test_rank_by_rrf PASSED [ 77%]
tests/unit/strategies/multi_query/test_ranker.py::test_top_k_selection PASSED [ 77%]
tests/unit/strategies/multi_query/test_ranker.py::test_empty_results PASSED [ 77%]
tests/unit/strategies/multi_query/test_ranker.py::test_hybrid_ranking PASSED [ 77%]
tests/unit/strategies/multi_query/test_ranker.py::test_ranking_preserves_metadata PASSED [ 77%]
tests/unit/strategies/multi_query/test_variant_generator.py::test_generate_variants_basic PASSED [ 77%]
tests/unit/strategies/multi_query/test_variant_generator.py::test_generate_variants_include_original PASSED [ 77%]
tests/unit/strategies/multi_query/test_variant_generator.py::test_generate_variants_exclude_original PASSED [ 77%]
tests/unit/strategies/multi_query/test_variant_generator.py::test_variant_validation PASSED [ 77%]
tests/unit/strategies/multi_query/test_variant_generator.py::test_variant_generation_failure_fallback PASSED [ 77%]
tests/unit/strategies/multi_query/test_variant_generator.py::test_variant_deduplication PASSED [ 77%]
tests/unit/strategies/multi_query/test_variant_generator.py::test_variant_generation_with_complete_method PASSED [ 77%]
tests/unit/strategies/query_expansion/test_base.py::TestExpansionStrategy::test_strategy_values PASSED [ 77%]
tests/unit/strategies/query_expansion/test_base.py::TestExpandedQuery::test_expanded_query_creation PASSED [ 77%]
tests/unit/strategies/query_expansion/test_base.py::TestExpandedQuery::test_expanded_query_with_reasoning PASSED [ 77%]
tests/unit/strategies/query_expansion/test_base.py::TestExpandedQuery::test_expanded_query_with_metadata PASSED [ 78%]
tests/unit/strategies/query_expansion/test_base.py::TestExpansionConfig::test_default_config PASSED [ 78%]
tests/unit/strategies/query_expansion/test_base.py::TestExpansionConfig::test_custom_config PASSED [ 78%]
tests/unit/strategies/query_expansion/test_base.py::TestIQueryExpander::test_validate_query_empty PASSED [ 78%]
tests/unit/strategies/query_expansion/test_base.py::TestIQueryExpander::test_validate_query_whitespace PASSED [ 78%]
tests/unit/strategies/query_expansion/test_base.py::TestIQueryExpander::test_validate_query_too_long PASSED [ 78%]
tests/unit/strategies/query_expansion/test_base.py::TestIQueryExpander::test_validate_query_valid PASSED [ 78%]
tests/unit/strategies/query_expansion/test_base.py::TestIQueryExpander::test_extract_added_terms PASSED [ 78%]
tests/unit/strategies/query_expansion/test_base.py::TestIQueryExpander::test_extract_added_terms_no_additions PASSED [ 78%]
tests/unit/strategies/query_expansion/test_base.py::TestIQueryExpander::test_expand_mock PASSED [ 78%]
tests/unit/strategies/query_expansion/test_expander_service.py::TestQueryExpanderService::test_service_initialization PASSED [ 78%]
tests/unit/strategies/query_expansion/test_expander_service.py::TestQueryExpanderService::test_service_initialization_without_cache PASSED [ 78%]
tests/unit/strategies/query_expansion/test_expander_service.py::TestQueryExpanderService::test_expand_basic PASSED [ 78%]
tests/unit/strategies/query_expansion/test_expander_service.py::TestQueryExpanderService::test_expand_with_cache_hit PASSED [ 78%]
tests/unit/strategies/query_expansion/test_expander_service.py::TestQueryExpanderService::test_expand_disabled PASSED [ 78%]
tests/unit/strategies/query_expansion/test_expander_service.py::TestQueryExpanderService::test_expand_with_error_fallback PASSED [ 78%]
tests/unit/strategies/query_expansion/test_expander_service.py::TestQueryExpanderService::test_multiple_variants PASSED [ 78%]
tests/unit/strategies/query_expansion/test_expander_service.py::TestQueryExpanderService::test_get_stats PASSED [ 78%]
tests/unit/strategies/query_expansion/test_expander_service.py::TestQueryExpanderService::test_clear_cache PASSED [ 79%]
tests/unit/strategies/query_expansion/test_expander_service.py::TestQueryExpanderService::test_execution_time_tracked PASSED [ 79%]
tests/unit/strategies/query_expansion/test_expander_service.py::TestQueryExpanderService::test_stats_average_execution_time PASSED [ 79%]
tests/unit/strategies/query_expansion/test_expander_service.py::TestQueryExpanderService::test_cache_key_computation PASSED [ 79%]
tests/unit/strategies/query_expansion/test_expander_service.py::TestQueryExpanderService::test_passthrough_result_metadata PASSED [ 79%]
tests/unit/strategies/query_expansion/test_expander_service.py::TestQueryExpanderService::test_hyde_expander_used_for_hyde_strategy PASSED [ 79%]
tests/unit/strategies/query_expansion/test_expander_service.py::TestQueryExpanderService::test_llm_expander_used_for_other_strategies PASSED [ 79%]
tests/unit/strategies/query_expansion/test_llm_expander.py::TestLLMQueryExpander::test_initialization PASSED [ 79%]
tests/unit/strategies/query_expansion/test_llm_expander.py::TestLLMQueryExpander::test_expand_query PASSED [ 79%]
tests/unit/strategies/query_expansion/test_llm_expander.py::TestLLMQueryExpander::test_expand_calls_llm_with_correct_params PASSED [ 79%]
tests/unit/strategies/query_expansion/test_llm_expander.py::TestLLMQueryExpander::test_validate_query_empty PASSED [ 79%]
tests/unit/strategies/query_expansion/test_llm_expander.py::TestLLMQueryExpander::test_validate_query_too_long PASSED [ 79%]
tests/unit/strategies/query_expansion/test_llm_expander.py::TestLLMQueryExpander::test_extract_added_terms PASSED [ 79%]
tests/unit/strategies/query_expansion/test_llm_expander.py::TestLLMQueryExpander::test_expand_with_domain_context PASSED [ 79%]
tests/unit/strategies/query_expansion/test_llm_expander.py::TestLLMQueryExpander::test_different_expansion_strategies PASSED [ 79%]
tests/unit/strategies/query_expansion/test_llm_expander.py::TestLLMQueryExpander::test_metadata_includes_token_info PASSED [ 79%]
tests/unit/strategies/query_expansion/test_llm_expander.py::TestLLMQueryExpander::test_llm_response_trimmed PASSED [ 79%]
tests/unit/strategies/query_expansion/test_llm_expander.py::TestLLMQueryExpander::test_confidence_is_one PASSED [ 79%]
tests/unit/strategies/query_expansion/test_prompts.py::TestExpansionPrompts::test_initialization PASSED [ 80%]
tests/unit/strategies/query_expansion/test_prompts.py::TestExpansionPrompts::test_get_system_prompt_keyword PASSED [ 80%]
tests/unit/strategies/query_expansion/test_prompts.py::TestExpansionPrompts::test_get_system_prompt_reformulation PASSED [ 80%]
tests/unit/strategies/query_expansion/test_prompts.py::TestExpansionPrompts::test_get_system_prompt_question_generation PASSED [ 80%]
tests/unit/strategies/query_expansion/test_prompts.py::TestExpansionPrompts::test_get_system_prompt_multi_query PASSED [ 80%]
tests/unit/strategies/query_expansion/test_prompts.py::TestExpansionPrompts::test_get_system_prompt_hyde PASSED [ 80%]
tests/unit/strategies/query_expansion/test_prompts.py::TestExpansionPrompts::test_custom_system_prompt PASSED [ 80%]
tests/unit/strategies/query_expansion/test_prompts.py::TestExpansionPrompts::test_get_user_prompt_keyword PASSED [ 80%]
tests/unit/strategies/query_expansion/test_prompts.py::TestExpansionPrompts::test_get_user_prompt_reformulation PASSED [ 80%]
tests/unit/strategies/query_expansion/test_prompts.py::TestExpansionPrompts::test_get_user_prompt_question_generation PASSED [ 80%]
tests/unit/strategies/query_expansion/test_prompts.py::TestExpansionPrompts::test_get_user_prompt_multi_query PASSED [ 80%]
tests/unit/strategies/query_expansion/test_prompts.py::TestExpansionPrompts::test_get_user_prompt_hyde PASSED [ 80%]
tests/unit/strategies/reranking/test_base.py::TestRerankConfig::test_default_config PASSED [ 80%]
tests/unit/strategies/reranking/test_base.py::TestRerankConfig::test_custom_config PASSED [ 80%]
tests/unit/strategies/reranking/test_base.py::TestRerankResult::test_rerank_result_creation PASSED [ 80%]
tests/unit/strategies/reranking/test_base.py::TestRerankResponse::test_rerank_response_creation PASSED [ 80%]
tests/unit/strategies/reranking/test_base.py::TestRerankResponse::test_rerank_response_with_metadata PASSED [ 80%]
tests/unit/strategies/reranking/test_base.py::TestIReranker::test_normalize_scores_basic PASSED [ 80%]
tests/unit/strategies/reranking/test_base.py::TestIReranker::test_normalize_scores_empty PASSED [ 81%]
tests/unit/strategies/reranking/test_base.py::TestIReranker::test_normalize_scores_all_same PASSED [ 81%]
tests/unit/strategies/reranking/test_base.py::TestIReranker::test_validate_inputs_empty_query PASSED [ 81%]
tests/unit/strategies/reranking/test_base.py::TestIReranker::test_validate_inputs_empty_documents PASSED [ 81%]
tests/unit/strategies/reranking/test_base.py::TestIReranker::test_validate_inputs_too_many_documents PASSED [ 81%]
tests/unit/strategies/reranking/test_base.py::TestIReranker::test_validate_inputs_valid PASSED [ 81%]
tests/unit/strategies/reranking/test_base.py::TestIReranker::test_mock_reranker_rerank PASSED [ 81%]
tests/unit/strategies/reranking/test_base.py::TestIReranker::test_mock_reranker_get_model_name PASSED [ 81%]
tests/unit/strategies/reranking/test_cache.py::TestRerankCache::test_cache_initialization PASSED [ 81%]
tests/unit/strategies/reranking/test_cache.py::TestRerankCache::test_cache_set_and_get PASSED [ 81%]
tests/unit/strategies/reranking/test_cache.py::TestRerankCache::test_cache_miss PASSED [ 81%]
tests/unit/strategies/reranking/test_cache.py::TestRerankCache::test_cache_hit PASSED [ 81%]
tests/unit/strategies/reranking/test_cache.py::TestRerankCache::test_cache_expiration PASSED [ 81%]
tests/unit/strategies/reranking/test_cache.py::TestRerankCache::test_cache_clear PASSED [ 81%]
tests/unit/strategies/reranking/test_cache.py::TestRerankCache::test_evict_expired PASSED [ 81%]
tests/unit/strategies/reranking/test_cache.py::TestRerankCache::test_cache_stats PASSED [ 81%]
tests/unit/strategies/reranking/test_cache.py::TestRerankCache::test_cache_hit_rate PASSED [ 81%]
tests/unit/strategies/reranking/test_cache.py::TestRerankCache::test_compute_key_static PASSED [ 81%]
tests/unit/strategies/reranking/test_cache.py::TestRerankCache::test_compute_key_document_order PASSED [ 82%]
tests/unit/strategies/reranking/test_cache.py::TestRerankCache::test_multiple_entries PASSED [ 82%]
tests/unit/strategies/reranking/test_cache.py::TestRerankCache::test_cache_overwrite PASSED [ 82%]
tests/unit/strategies/reranking/test_cosine_reranker.py::TestCosineRerankerInitialization::test_initialization_success PASSED [ 82%]
tests/unit/strategies/reranking/test_cosine_reranker.py::TestCosineRerankerInitialization::test_initialization_without_embedder PASSED [ 82%]
tests/unit/strategies/reranking/test_cosine_reranker.py::TestCosineRerankerInitialization::test_initialization_invalid_metric PASSED [ 82%]
tests/unit/strategies/reranking/test_cosine_reranker.py::TestCosineRerankerInitialization::test_supported_metrics PASSED [ 82%]
tests/unit/strategies/reranking/test_cosine_reranker.py::TestCosineRerankerReranking::test_rerank_cosine_similarity PASSED [ 82%]
tests/unit/strategies/reranking/test_cosine_reranker.py::TestCosineRerankerReranking::test_rerank_dot_product PASSED [ 82%]
tests/unit/strategies/reranking/test_cosine_reranker.py::TestCosineRerankerReranking::test_rerank_euclidean_similarity PASSED [ 82%]
tests/unit/strategies/reranking/test_cosine_reranker.py::TestCosineRerankerReranking::test_rerank_empty_documents PASSED [ 82%]
tests/unit/strategies/reranking/test_cosine_reranker.py::TestCosineRerankerReranking::test_rerank_empty_query PASSED [ 82%]
tests/unit/strategies/reranking/test_cosine_reranker.py::TestCosineRerankerReranking::test_rerank_with_normalization PASSED [ 82%]
tests/unit/strategies/reranking/test_cosine_reranker.py::TestCosineRerankerNormalization::test_normalize_vector PASSED [ 82%]
tests/unit/strategies/reranking/test_cosine_reranker.py::TestCosineRerankerNormalization::test_normalize_zero_vector PASSED [ 82%]
tests/unit/strategies/reranking/test_cosine_reranker.py::TestCosineRerankerNormalization::test_normalize_batch PASSED [ 82%]
tests/unit/strategies/reranking/test_cosine_reranker.py::TestCosineRerankerModelName::test_get_model_name_cosine PASSED [ 82%]
tests/unit/strategies/reranking/test_cosine_reranker.py::TestCosineRerankerModelName::test_get_model_name_dot PASSED [ 82%]
tests/unit/strategies/reranking/test_cosine_reranker.py::TestCosineRerankerModelName::test_get_model_name_euclidean PASSED [ 83%]
tests/unit/strategies/reranking/test_cosine_reranker.py::TestCosineRerankerPerformance::test_large_batch_processing PASSED [ 83%]
tests/unit/strategies/reranking/test_cross_encoder_reranker.py::TestCrossEncoderReranker::test_initialization SKIPPED [ 83%]
tests/unit/strategies/reranking/test_cross_encoder_reranker.py::TestCrossEncoderReranker::test_initialization_with_cuda SKIPPED [ 83%]
tests/unit/strategies/reranking/test_cross_encoder_reranker.py::TestCrossEncoderReranker::test_rerank_basic SKIPPED [ 83%]
tests/unit/strategies/reranking/test_cross_encoder_reranker.py::TestCrossEncoderReranker::test_rerank_batching SKIPPED [ 83%]
tests/unit/strategies/reranking/test_cross_encoder_reranker.py::TestCrossEncoderReranker::test_validate_empty_query SKIPPED [ 83%]
tests/unit/strategies/reranking/test_cross_encoder_reranker.py::TestCrossEncoderReranker::test_validate_empty_documents SKIPPED [ 83%]
tests/unit/strategies/reranking/test_cross_encoder_reranker.py::TestCrossEncoderReranker::test_validate_too_many_documents SKIPPED [ 83%]
tests/unit/strategies/reranking/test_cross_encoder_reranker.py::TestCrossEncoderReranker::test_get_model_name SKIPPED [ 83%]
tests/unit/strategies/reranking/test_cross_encoder_reranker.py::TestCrossEncoderReranker::test_model_name_shortcut SKIPPED [ 83%]
tests/unit/strategies/reranking/test_cross_encoder_reranker.py::test_import_error_without_dependencies PASSED [ 83%]
tests/unit/strategies/reranking/test_metrics.py::TestDCG::test_dcg_basic PASSED [ 83%]
tests/unit/strategies/reranking/test_metrics.py::TestDCG::test_dcg_empty PASSED [ 83%]
tests/unit/strategies/reranking/test_metrics.py::TestDCG::test_dcg_at_k_limits PASSED [ 83%]
tests/unit/strategies/reranking/test_metrics.py::TestNDCG::test_ndcg_perfect_ranking PASSED [ 83%]
tests/unit/strategies/reranking/test_metrics.py::TestNDCG::test_ndcg_worst_ranking PASSED [ 83%]
tests/unit/strategies/reranking/test_metrics.py::TestNDCG::test_ndcg_empty PASSED [ 83%]
tests/unit/strategies/reranking/test_metrics.py::TestNDCG::test_ndcg_all_zeros PASSED [ 84%]
tests/unit/strategies/reranking/test_metrics.py::TestNDCG::test_ndcg_range PASSED [ 84%]
tests/unit/strategies/reranking/test_metrics.py::TestMRR::test_mrr_first_position PASSED [ 84%]
tests/unit/strategies/reranking/test_metrics.py::TestMRR::test_mrr_second_position PASSED [ 84%]
tests/unit/strategies/reranking/test_metrics.py::TestMRR::test_mrr_third_position PASSED [ 84%]
tests/unit/strategies/reranking/test_metrics.py::TestMRR::test_mrr_multiple_positions PASSED [ 84%]
tests/unit/strategies/reranking/test_metrics.py::TestMRR::test_mrr_empty PASSED [ 84%]
tests/unit/strategies/reranking/test_metrics.py::TestPrecisionAtK::test_precision_all_relevant PASSED [ 84%]
tests/unit/strategies/reranking/test_metrics.py::TestPrecisionAtK::test_precision_none_relevant PASSED [ 84%]
tests/unit/strategies/reranking/test_metrics.py::TestPrecisionAtK::test_precision_half_relevant PASSED [ 84%]
tests/unit/strategies/reranking/test_metrics.py::TestPrecisionAtK::test_precision_at_k_limits PASSED [ 84%]
tests/unit/strategies/reranking/test_metrics.py::TestPrecisionAtK::test_precision_empty PASSED [ 84%]
tests/unit/strategies/reranking/test_metrics.py::TestRecallAtK::test_recall_all_found PASSED [ 84%]
tests/unit/strategies/reranking/test_metrics.py::TestRecallAtK::test_recall_partial_found PASSED [ 84%]
tests/unit/strategies/reranking/test_metrics.py::TestRecallAtK::test_recall_at_k_limits PASSED [ 84%]
tests/unit/strategies/reranking/test_metrics.py::TestRecallAtK::test_recall_empty PASSED [ 84%]
tests/unit/strategies/reranking/test_metrics.py::TestCompareRankings::test_compare_improved_ranking PASSED [ 84%]
tests/unit/strategies/reranking/test_metrics.py::TestCompareRankings::test_compare_same_ranking PASSED [ 84%]
tests/unit/strategies/reranking/test_metrics.py::TestCompareRankings::test_compare_empty PASSED [ 85%]
tests/unit/strategies/reranking/test_metrics.py::TestRankingCorrelation::test_correlation_identical PASSED [ 85%]
tests/unit/strategies/reranking/test_metrics.py::TestRankingCorrelation::test_correlation_reversed PASSED [ 85%]
tests/unit/strategies/reranking/test_metrics.py::TestRankingCorrelation::test_correlation_different_lengths PASSED [ 85%]
tests/unit/strategies/reranking/test_metrics.py::TestRankingCorrelation::test_correlation_empty PASSED [ 85%]
tests/unit/strategies/reranking/test_metrics.py::TestRankingCorrelation::test_correlation_single_item PASSED [ 85%]
tests/unit/strategies/reranking/test_metrics.py::TestRankingAnalyzer::test_analyzer_initialization PASSED [ 85%]
tests/unit/strategies/reranking/test_metrics.py::TestRankingAnalyzer::test_analyzer_add_ranking PASSED [ 85%]
tests/unit/strategies/reranking/test_metrics.py::TestRankingAnalyzer::test_analyzer_multiple_rankings PASSED [ 85%]
tests/unit/strategies/reranking/test_metrics.py::TestRankingAnalyzer::test_analyzer_improvement_rate PASSED [ 85%]
tests/unit/strategies/reranking/test_metrics.py::TestRankingAnalyzer::test_analyzer_clear PASSED [ 85%]
tests/unit/strategies/reranking/test_metrics.py::TestRankingAnalyzer::test_analyzer_average_metrics PASSED [ 85%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorAvailability::test_is_cohere_available_with_key_and_package PASSED [ 85%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorAvailability::test_is_cohere_available_no_key PASSED [ 85%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorAvailability::test_is_cohere_available_with_env_key PASSED [ 85%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorAvailability::test_is_torch_available_true PASSED [ 85%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorAvailability::test_is_torch_available_false PASSED [ 85%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorAvailability::test_get_available_rerankers PASSED [ 85%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorAutoSelection::test_auto_select_cohere_when_available PASSED [ 86%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorAutoSelection::test_auto_select_cosine_when_cohere_unavailable PASSED [ 86%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorAutoSelection::test_auto_select_with_custom_config PASSED [ 86%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorManualSelection::test_manual_select_cohere PASSED [ 86%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorManualSelection::test_manual_select_cosine PASSED [ 86%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorManualSelection::test_manual_select_bge_with_torch PASSED [ 86%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorManualSelection::test_manual_select_bge_without_torch PASSED [ 86%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorManualSelection::test_manual_select_cross_encoder_with_torch PASSED [ 86%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorManualSelection::test_manual_select_cross_encoder_without_torch PASSED [ 86%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorManualSelection::test_manual_select_unknown_type PASSED [ 86%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorErrorMessages::test_cohere_error_message_suggests_alternatives PASSED [ 86%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorErrorMessages::test_bge_error_message_suggests_alternatives PASSED [ 86%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorErrorMessages::test_cross_encoder_error_message_suggests_alternatives PASSED [ 86%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorConfiguration::test_config_api_key_overrides_env PASSED [ 86%]
tests/unit/strategies/reranking/test_reranker_selector.py::TestRerankerSelectorConfiguration::test_cosine_metric_configuration PASSED [ 86%]
tests/unit/strategies/reranking/test_reranker_service.py::TestCandidateDocument::test_candidate_creation PASSED [ 86%]
tests/unit/strategies/reranking/test_reranker_service.py::TestCandidateDocument::test_candidate_default_metadata PASSED [ 86%]
tests/unit/strategies/reranking/test_reranker_service.py::TestRerankerService::test_service_initialization PASSED [ 86%]
tests/unit/strategies/reranking/test_reranker_service.py::TestRerankerService::test_service_without_cache PASSED [ 87%]
tests/unit/strategies/reranking/test_reranker_service.py::TestRerankerService::test_rerank_basic PASSED [ 87%]
tests/unit/strategies/reranking/test_reranker_service.py::TestRerankerService::test_rerank_empty_candidates PASSED [ 87%]
tests/unit/strategies/reranking/test_reranker_service.py::TestRerankerService::test_rerank_top_k_limit PASSED [ 87%]
tests/unit/strategies/reranking/test_reranker_service.py::TestRerankerService::test_cache_hit PASSED [ 87%]
tests/unit/strategies/reranking/test_reranker_service.py::TestRerankerService::test_cache_disabled PASSED [ 87%]
tests/unit/strategies/reranking/test_reranker_service.py::TestRerankerService::test_score_threshold PASSED [ 87%]
tests/unit/strategies/reranking/test_reranker_service.py::TestRerankerService::test_fallback_on_error PASSED [ 87%]
tests/unit/strategies/reranking/test_reranker_service.py::TestRerankerService::test_no_fallback_raises_error PASSED [ 87%]
tests/unit/strategies/reranking/test_reranker_service.py::TestRerankerService::test_get_stats PASSED [ 87%]
tests/unit/strategies/reranking/test_reranker_service.py::TestRerankerService::test_clear_cache PASSED [ 87%]
tests/unit/strategies/reranking/test_reranker_service.py::TestRerankerService::test_score_normalization PASSED [ 87%]
tests/unit/strategies/reranking/test_reranker_service.py::TestRerankerService::test_cohere_model_initialization PASSED [ 87%]
tests/unit/strategies/self_reflective/test_grader.py::test_grade_results PASSED [ 87%]
tests/unit/strategies/self_reflective/test_grader.py::test_grade_parsing PASSED [ 87%]
tests/unit/strategies/self_reflective/test_grader.py::test_batch_grading PASSED [ 87%]
tests/unit/strategies/self_reflective/test_grader.py::test_grade_fallback_on_parse_error PASSED [ 87%]
tests/unit/strategies/self_reflective/test_grader.py::test_grade_levels PASSED [ 87%]
tests/unit/strategies/self_reflective/test_grader.py::test_empty_results PASSED [ 88%]
tests/unit/strategies/self_reflective/test_grader.py::test_grading_error_handling PASSED [ 88%]
tests/unit/strategies/self_reflective/test_grader.py::test_build_grading_prompt PASSED [ 88%]
tests/unit/strategies/self_reflective/test_refiner.py::test_refine_query PASSED [ 88%]
tests/unit/strategies/self_reflective/test_refiner.py::test_identify_gaps PASSED [ 88%]
tests/unit/strategies/self_reflective/test_refiner.py::test_parse_refinement PASSED [ 88%]
tests/unit/strategies/self_reflective/test_refiner.py::test_refinement_with_previous_attempts PASSED [ 88%]
tests/unit/strategies/self_reflective/test_refiner.py::test_refinement_strategies PASSED [ 88%]
tests/unit/strategies/self_reflective/test_refiner.py::test_empty_grades PASSED [ 88%]
tests/unit/strategies/self_reflective/test_refiner.py::test_refinement_error_handling PASSED [ 88%]
tests/unit/strategies/self_reflective/test_refiner.py::test_build_refinement_prompt PASSED [ 88%]
tests/unit/strategies/self_reflective/test_strategy.py::test_retrieve_good_results_no_retry PASSED [ 88%]
tests/unit/strategies/self_reflective/test_strategy.py::test_retrieve_poor_results_triggers_retry PASSED [ 88%]
tests/unit/strategies/self_reflective/test_strategy.py::test_max_retries_enforced PASSED [ 88%]
tests/unit/strategies/self_reflective/test_strategy.py::test_result_aggregation PASSED [ 88%]
tests/unit/strategies/self_reflective/test_strategy.py::test_timeout_protection PASSED [ 88%]
tests/unit/strategies/self_reflective/test_strategy.py::test_same_query_prevention PASSED [ 88%]
tests/unit/strategies/self_reflective/test_strategy.py::test_normalize_results PASSED [ 88%]
tests/unit/strategies/self_reflective/test_strategy.py::test_strategy_properties PASSED [ 89%]
tests/unit/strategies/test_base.py::test_interface_is_abstract PASSED    [ 89%]
tests/unit/strategies/test_base.py::test_interface_requires_all_abstract_methods PASSED [ 89%]
tests/unit/strategies/test_base.py::test_strategy_config_defaults PASSED [ 89%]
tests/unit/strategies/test_base.py::test_strategy_config_custom_values PASSED [ 89%]
tests/unit/strategies/test_base.py::test_strategy_config_validation PASSED [ 89%]
tests/unit/strategies/test_base.py::test_chunk_creation PASSED           [ 89%]
tests/unit/strategies/test_base.py::test_chunk_serialization PASSED      [ 89%]
tests/unit/strategies/test_base.py::test_prepared_data_creation PASSED   [ 89%]
tests/unit/strategies/test_base.py::test_query_result_creation PASSED    [ 89%]
tests/unit/strategies/test_base.py::test_minimal_concrete_implementation FAILED [ 89%]
tests/unit/strategies/test_base.py::test_concrete_implementation_initialize FAILED [ 89%]
tests/unit/strategies/test_base.py::test_type_hints_present PASSED       [ 89%]
tests/unit/strategies/test_base.py::test_async_method_signature PASSED   [ 89%]
tests/unit/strategies/test_base.py::test_initialize_type_hints FAILED    [ 89%]
tests/unit/strategies/test_base.py::test_prepare_data_type_hints PASSED  [ 89%]
tests/unit/strategies/test_base.py::test_process_query_type_hints PASSED [ 89%]
tests/unit/strategies/test_base_strategy_di.py::TestBaseStrategyDI::test_strategy_with_all_required_services PASSED [ 89%]
tests/unit/strategies/test_base_strategy_di.py::TestBaseStrategyDI::test_strategy_fails_without_required_llm_service PASSED [ 90%]
tests/unit/strategies/test_base_strategy_di.py::TestBaseStrategyDI::test_strategy_fails_without_required_embedding_service PASSED [ 90%]
tests/unit/strategies/test_base_strategy_di.py::TestBaseStrategyDI::test_strategy_fails_with_no_services PASSED [ 90%]
tests/unit/strategies/test_base_strategy_di.py::TestBaseStrategyDI::test_error_message_is_clear_and_helpful PASSED [ 90%]
tests/unit/strategies/test_base_strategy_di.py::TestBaseStrategyDI::test_strategy_with_extra_unused_services PASSED [ 90%]
tests/unit/strategies/test_base_strategy_di.py::TestStrategyWithNoRequirements::test_strategy_with_no_service_requirements PASSED [ 90%]
tests/unit/strategies/test_base_strategy_di.py::TestStrategyWithNoRequirements::test_strategy_with_no_requirements_accepts_services PASSED [ 90%]
tests/unit/strategies/test_base_strategy_di.py::TestDifferentServiceCombinations::test_database_only_strategy PASSED [ 90%]
tests/unit/strategies/test_base_strategy_di.py::TestDifferentServiceCombinations::test_database_only_strategy_fails_without_database PASSED [ 90%]
tests/unit/test_config.py::test_load_from_yaml PASSED                    [ 90%]
tests/unit/test_config.py::test_load_from_json PASSED                    [ 90%]
tests/unit/test_config.py::test_load_from_dict PASSED                    [ 90%]
tests/unit/test_config.py::test_file_not_found_raises_error PASSED       [ 90%]
tests/unit/test_config.py::test_invalid_yaml_raises_error PASSED         [ 90%]
tests/unit/test_config.py::test_invalid_json_raises_error PASSED         [ 90%]
tests/unit/test_config.py::test_unsupported_file_format_raises_error PASSED [ 90%]
tests/unit/test_config.py::test_empty_yaml_loads_as_empty_dict PASSED    [ 90%]
tests/unit/test_config.py::test_validation_enforces_chunk_size_range PASSED [ 90%]
tests/unit/test_config.py::test_validation_enforces_chunk_size_max PASSED [ 91%]
tests/unit/test_config.py::test_validation_enforces_top_k_min PASSED     [ 91%]
tests/unit/test_config.py::test_validation_enforces_log_level PASSED     [ 91%]
tests/unit/test_config.py::test_validation_accepts_valid_log_levels PASSED [ 91%]
tests/unit/test_config.py::test_validation_normalizes_log_level_case PASSED [ 91%]
tests/unit/test_config.py::test_default_config_loaded PASSED             [ 91%]
tests/unit/test_config.py::test_user_config_merged_with_defaults PASSED  [ 91%]
tests/unit/test_config.py::test_get_strategy_config_returns_default PASSED [ 91%]
tests/unit/test_config.py::test_environment_from_env_variable PASSED     [ 91%]
tests/unit/test_config.py::test_environment_override_merges_correctly PASSED [ 91%]
tests/unit/test_config.py::test_environment_override_nonexistent_file PASSED [ 91%]
tests/unit/test_config.py::test_deep_merge_nested_dicts PASSED           [ 91%]
tests/unit/test_config.py::test_get_with_dot_notation PASSED             [ 91%]
tests/unit/test_config.py::test_get_missing_key_returns_default PASSED   [ 91%]
tests/unit/test_config.py::test_get_strategy_config PASSED               [ 91%]
tests/unit/test_config.py::test_get_before_load_raises_error PASSED      [ 91%]
tests/unit/test_config.py::test_to_dict_exports_config PASSED            [ 91%]
tests/unit/test_config.py::test_to_dict_before_load_raises_error PASSED  [ 91%]
tests/unit/test_config.py::test_config_property_returns_schema PASSED    [ 92%]
tests/unit/test_config.py::test_hot_reload_detects_file_changes PASSED   [ 92%]
tests/unit/test_config.py::test_hot_reload_without_config_path_raises_error PASSED [ 92%]
tests/unit/test_config.py::test_disable_hot_reload PASSED                [ 92%]
tests/unit/test_config.py::test_reload_method_reloads_config PASSED      [ 92%]
tests/unit/test_config.py::test_strategy_config_schema_defaults PASSED   [ 92%]
tests/unit/test_config.py::test_global_config_schema_defaults PASSED     [ 92%]
tests/unit/test_config.py::test_pipeline_config_schema_defaults PASSED   [ 92%]
tests/unit/test_config.py::test_rag_config_schema_defaults PASSED        [ 92%]
tests/unit/test_config.py::test_config_manager_singleton PASSED          [ 92%]
tests/unit/test_config.py::test_config_file_handler_initialization PASSED [ 92%]
tests/unit/test_factory.py::test_factory_can_be_created PASSED           [ 92%]
tests/unit/test_factory.py::test_factory_has_empty_registry_initially PASSED [ 92%]
tests/unit/test_factory.py::test_register_strategy_adds_to_registry PASSED [ 92%]
tests/unit/test_factory.py::test_register_duplicate_raises_error PASSED  [ 92%]
tests/unit/test_factory.py::test_register_duplicate_with_override PASSED [ 92%]
tests/unit/test_factory.py::test_unregister_strategy PASSED              [ 92%]
tests/unit/test_factory.py::test_unregister_nonexistent_strategy PASSED  [ 92%]
tests/unit/test_factory.py::test_list_strategies_returns_all_names PASSED [ 93%]
tests/unit/test_factory.py::test_create_strategy_returns_instance PASSED [ 93%]
tests/unit/test_factory.py::test_create_unknown_strategy_raises_error PASSED [ 93%]
tests/unit/test_factory.py::test_create_strategy_with_config PASSED      [ 93%]
tests/unit/test_factory.py::test_strategy_not_found_error_message_includes_available PASSED [ 93%]
tests/unit/test_factory.py::test_create_strategy_without_config PASSED   [ 93%]
tests/unit/test_factory.py::test_invalid_config_raises_error PASSED      [ 93%]
tests/unit/test_factory.py::test_strategy_initialization_error_propagates PASSED [ 93%]
tests/unit/test_factory.py::test_register_decorator_auto_registers PASSED [ 93%]
tests/unit/test_factory.py::test_decorator_returns_class_unchanged PASSED [ 93%]
tests/unit/test_factory.py::test_create_from_yaml_config PASSED          [ 93%]
tests/unit/test_factory.py::test_create_from_json_config PASSED          [ 93%]
tests/unit/test_factory.py::test_create_from_nonexistent_config_file PASSED [ 93%]
tests/unit/test_factory.py::test_create_from_invalid_yaml PASSED         [ 93%]
tests/unit/test_factory.py::test_create_from_config_missing_strategy_name PASSED [ 93%]
tests/unit/test_factory.py::test_set_dependency PASSED                   [ 93%]
tests/unit/test_factory.py::test_get_dependency PASSED                   [ 93%]
tests/unit/test_factory.py::test_get_nonexistent_dependency PASSED       [ 93%]
tests/unit/test_factory.py::test_registry_is_class_level PASSED          [ 94%]
tests/unit/test_factory.py::test_create_from_unsupported_file_format PASSED [ 94%]
tests/unit/test_factory.py::test_clear_registry PASSED                   [ 94%]
tests/unit/test_factory.py::test_clear_dependencies PASSED               [ 94%]
tests/unit/test_factory_di.py::test_factory_initialization_with_no_services PASSED [ 94%]
tests/unit/test_factory_di.py::test_factory_initialization_with_llm_service PASSED [ 94%]
tests/unit/test_factory_di.py::test_factory_initialization_with_all_services PASSED [ 94%]
tests/unit/test_factory_di.py::test_factory_initialization_with_partial_services PASSED [ 94%]
tests/unit/test_factory_di.py::test_create_strategy_with_required_services PASSED [ 94%]
tests/unit/test_factory_di.py::test_create_strategy_without_required_services PASSED [ 94%]
tests/unit/test_factory_di.py::test_create_strategy_with_partial_services PASSED [ 94%]
tests/unit/test_factory_di.py::test_create_strategy_with_no_service_requirements PASSED [ 94%]
tests/unit/test_factory_di.py::test_create_database_only_strategy PASSED [ 94%]
tests/unit/test_factory_di.py::test_create_strategy_with_extra_services PASSED [ 94%]
tests/unit/test_factory_di.py::test_create_strategy_with_override_dependencies PASSED [ 94%]
tests/unit/test_factory_di.py::test_override_dependencies_can_add_missing_services PASSED [ 94%]
tests/unit/test_factory_di.py::test_override_dependencies_still_validates_requirements PASSED [ 94%]
tests/unit/test_factory_di.py::test_error_message_includes_strategy_name PASSED [ 94%]
tests/unit/test_factory_di.py::test_error_message_lists_missing_services PASSED [ 95%]
tests/unit/test_factory_di.py::test_create_strategy_without_config PASSED [ 95%]
tests/unit/test_factory_di.py::test_create_strategy_with_config PASSED   [ 95%]
tests/unit/test_factory_di.py::test_create_from_config_with_dependencies PASSED [ 95%]
tests/unit/test_factory_di.py::test_multiple_strategies_with_same_factory PASSED [ 95%]
tests/unit/test_factory_di.py::test_class_level_dependencies_still_exist PASSED [ 95%]
tests/unit/test_factory_di.py::test_set_and_get_dependency_still_work PASSED [ 95%]
tests/unit/test_factory_di.py::test_legacy_create_strategy_method_exists PASSED [ 95%]
tests/unit/test_package.py::TestImports::test_import_main_package PASSED [ 95%]
tests/unit/test_package.py::TestImports::test_import_factory PASSED      [ 95%]
tests/unit/test_package.py::TestImports::test_import_pipeline PASSED     [ 95%]
tests/unit/test_package.py::TestImports::test_import_config PASSED       [ 95%]
tests/unit/test_package.py::TestImports::test_import_base_strategy PASSED [ 95%]
tests/unit/test_package.py::TestImports::test_import_all_exports PASSED  [ 95%]
tests/unit/test_package.py::TestVersion::test_version_format PASSED      [ 95%]
tests/unit/test_package.py::TestVersion::test_version_accessible PASSED  [ 95%]
tests/unit/test_package.py::TestPackageStructure::test_strategies_subpackage_exists PASSED [ 95%]
tests/unit/test_package.py::TestPackageStructure::test_no_circular_imports PASSED [ 95%]
tests/unit/test_package.py::TestDependencies::test_required_dependencies_installed PASSED [ 96%]
tests/unit/test_package.py::TestDependencies::test_optional_dependencies_handled PASSED [ 96%]
tests/unit/test_pipeline.py::test_pipeline_can_be_created PASSED         [ 96%]
tests/unit/test_pipeline.py::test_pipeline_add_stage FAILED              [ 96%]
tests/unit/test_pipeline.py::test_pipeline_chaining FAILED               [ 96%]
tests/unit/test_pipeline.py::test_sequential_execution_order FAILED      [ 96%]
tests/unit/test_pipeline.py::test_sequential_execution_collects_results FAILED [ 96%]
tests/unit/test_pipeline.py::test_parallel_execution FAILED              [ 96%]
tests/unit/test_pipeline.py::test_strategy_error_caught FAILED           [ 96%]
tests/unit/test_pipeline.py::test_fallback_strategy_executed FAILED      [ 96%]
tests/unit/test_pipeline.py::test_duplicate_results_removed FAILED       [ 96%]
tests/unit/test_pipeline.py::test_results_sorted_by_score FAILED         [ 96%]
tests/unit/test_pipeline.py::test_performance_metrics_collected FAILED   [ 96%]
tests/unit/test_pipeline.py::test_from_config_creates_pipeline FAILED    [ 96%]
tests/unit/test_pipeline.py::test_cascade_mode_not_implemented FAILED    [ 96%]
tests/unit/test_pipeline.py::test_cascade_mode_not_implemented_async FAILED [ 96%]
tests/unit/test_pipeline.py::test_required_stage_failure_raises_exception FAILED [ 96%]
tests/unit/test_pipeline.py::test_required_stage_failure_raises_exception_async FAILED [ 96%]
tests/unit/test_pipeline.py::test_fallback_failure_when_required FAILED  [ 97%]
tests/unit/test_pipeline.py::test_fallback_failure_when_required_async FAILED [ 97%]
tests/unit/test_pipeline.py::test_parallel_required_stage_failure FAILED [ 97%]
tests/unit/test_pipeline.py::test_parallel_required_fallback_failure FAILED [ 97%]
tests/unit/test_pipeline.py::test_non_required_fallback_failure_continues FAILED [ 97%]
tests/unit/test_pipeline.py::test_non_required_fallback_failure_continues_async FAILED [ 97%]
tests/unit/test_pipeline.py::test_parallel_non_required_fallback_success FAILED [ 97%]
tests/unit/test_pipeline.py::test_parallel_non_required_both_fail FAILED [ 97%]
tests/unit/utils/test_token_counter.py::TestTokenCounter::test_initialization PASSED [ 97%]
tests/unit/utils/test_token_counter.py::TestTokenCounter::test_count_messages PASSED [ 97%]
tests/unit/utils/test_token_counter.py::TestTokenCounter::test_count_messages_empty PASSED [ 97%]
tests/unit/utils/test_token_counter.py::TestTokenCounter::test_count_function_call PASSED [ 97%]
tests/unit/utils/test_token_counter.py::TestTokenCounter::test_count_function_call_complex_args PASSED [ 97%]
tests/unit/utils/test_token_counter.py::TestTokenBudget::test_initialization PASSED [ 97%]
tests/unit/utils/test_token_counter.py::TestTokenBudget::test_initialization_with_reserve PASSED [ 97%]
tests/unit/utils/test_token_counter.py::TestTokenBudget::test_add_text_within_budget PASSED [ 97%]
tests/unit/utils/test_token_counter.py::TestTokenBudget::test_add_text_exceeds_budget PASSED [ 97%]
tests/unit/utils/test_token_counter.py::TestTokenBudget::test_add_text_exact_budget PASSED [ 97%]
tests/unit/utils/test_token_counter.py::TestTokenBudget::test_add_texts PASSED [ 98%]
tests/unit/utils/test_token_counter.py::TestTokenBudget::test_add_texts_all_fit PASSED [ 98%]
tests/unit/utils/test_token_counter.py::TestTokenBudget::test_add_texts_none_fit PASSED [ 98%]
tests/unit/utils/test_token_counter.py::TestTokenBudget::test_remaining PASSED [ 98%]
tests/unit/utils/test_token_counter.py::TestTokenBudget::test_reset PASSED [ 98%]
tests/unit/utils/test_token_counter.py::TestTokenBudget::test_multiple_adds_and_reset PASSED [ 98%]
tests/unit/utils/test_token_counter.py::TestTokenBudget::test_budget_with_reserve PASSED [ 98%]
tests/unit/utils/test_token_counter.py::TestTokenBudgetEdgeCases::test_zero_budget PASSED [ 98%]
tests/unit/utils/test_token_counter.py::TestTokenBudgetEdgeCases::test_empty_text PASSED [ 98%]
tests/unit/utils/test_token_counter.py::TestTokenBudgetEdgeCases::test_reserve_equals_max PASSED [ 98%]
tests/unit/utils/test_token_counter.py::TestTokenBudgetEdgeCases::test_reserve_exceeds_max PASSED [ 98%]
tests/unit/utils/test_tokenization.py::TestTokenizer::test_initialization_with_encoding PASSED [ 98%]
tests/unit/utils/test_tokenization.py::TestTokenizer::test_initialization_with_model PASSED [ 98%]
tests/unit/utils/test_tokenization.py::TestTokenizer::test_default_initialization PASSED [ 98%]
tests/unit/utils/test_tokenization.py::TestTokenizer::test_encode_decode PASSED [ 98%]
tests/unit/utils/test_tokenization.py::TestTokenizer::test_count_tokens PASSED [ 98%]
tests/unit/utils/test_tokenization.py::TestTokenizer::test_truncate PASSED [ 98%]
tests/unit/utils/test_tokenization.py::TestTokenizer::test_truncate_no_truncation_needed PASSED [ 98%]
tests/unit/utils/test_tokenization.py::TestTokenizer::test_split_by_tokens PASSED [ 99%]
tests/unit/utils/test_tokenization.py::TestTokenizer::test_split_with_overlap PASSED [ 99%]
tests/unit/utils/test_tokenization.py::TestTokenizer::test_split_short_text PASSED [ 99%]
tests/unit/utils/test_tokenization.py::TestTokenizer::test_fallback_tokenization PASSED [ 99%]
tests/unit/utils/test_tokenization.py::TestTokenizer::test_no_fallback_raises_error PASSED [ 99%]
tests/unit/utils/test_tokenization.py::TestTokenizer::test_different_encodings PASSED [ 99%]
tests/unit/utils/test_tokenization.py::TestTokenizer::test_special_characters PASSED [ 99%]
tests/unit/utils/test_tokenization.py::TestTokenizer::test_empty_text PASSED [ 99%]
tests/unit/utils/test_tokenization.py::TestConvenienceFunctions::test_count_tokens PASSED [ 99%]
tests/unit/utils/test_tokenization.py::TestConvenienceFunctions::test_truncate_text PASSED [ 99%]
tests/unit/utils/test_tokenization.py::TestConvenienceFunctions::test_split_text_by_tokens PASSED [ 99%]
tests/unit/utils/test_tokenization.py::TestEncodingFunctions::test_get_encoding PASSED [ 99%]
tests/unit/utils/test_tokenization.py::TestEncodingFunctions::test_get_encoding_caching PASSED [ 99%]
tests/unit/utils/test_tokenization.py::TestEncodingFunctions::test_get_encoding_invalid PASSED [ 99%]
tests/unit/utils/test_tokenization.py::TestEncodingFunctions::test_get_encoding_for_model PASSED [ 99%]
tests/unit/utils/test_tokenization.py::TestEncodingFunctions::test_get_encoding_for_unknown_model PASSED [ 99%]
tests/unit/utils/test_tokenization.py::TestMultilingualSupport::test_multilingual_text PASSED [ 99%]
tests/unit/utils/test_tokenization.py::TestMultilingualSupport::test_mixed_language_text PASSED [100%]

==================================== ERRORS ====================================
_____________________ ERROR at setup of test_rag_workflow ______________________
tests/integration/services/test_service_integration.py:54: in llm_service
    with patch("rag_factory.services.llm.service.AnthropicProvider") as mock_provider_cls:
/usr/lib/python3.12/unittest/mock.py:1458: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1431: in get_original
    raise AttributeError(
E   AttributeError: <module 'rag_factory.services.llm.service' from '/mnt/MCPProyects/ragTools/rag_factory/services/llm/service.py'> does not have the attribute 'AnthropicProvider'
_____________________ ERROR at setup of test_capabilities ______________________
tests/integration/strategies/test_keyword_indexing.py:19: in strategy_dependencies
    return StrategyDependencies(
E   TypeError: StrategyDependencies.__init__() got an unexpected keyword argument 'reranking_service'
_____________________ ERROR at setup of test_dependencies ______________________
tests/integration/strategies/test_keyword_indexing.py:19: in strategy_dependencies
    return StrategyDependencies(
E   TypeError: StrategyDependencies.__init__() got an unexpected keyword argument 'reranking_service'
____________________ ERROR at setup of test_process_success ____________________
tests/integration/strategies/test_keyword_indexing.py:19: in strategy_dependencies
    return StrategyDependencies(
E   TypeError: StrategyDependencies.__init__() got an unexpected keyword argument 'reranking_service'
___________________ ERROR at setup of test_process_no_chunks ___________________
tests/integration/strategies/test_keyword_indexing.py:19: in strategy_dependencies
    return StrategyDependencies(
E   TypeError: StrategyDependencies.__init__() got an unexpected keyword argument 'reranking_service'
__________________ ERROR at setup of test_process_empty_text ___________________
tests/integration/strategies/test_keyword_indexing.py:19: in strategy_dependencies
    return StrategyDependencies(
E   TypeError: StrategyDependencies.__init__() got an unexpected keyword argument 'reranking_service'
________________ ERROR at setup of test_process_stop_words_only ________________
tests/integration/strategies/test_keyword_indexing.py:19: in strategy_dependencies
    return StrategyDependencies(
E   TypeError: StrategyDependencies.__init__() got an unexpected keyword argument 'reranking_service'
=================================== FAILURES ===================================
________________________ test_document_embedding_speed _________________________
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:553: in hf_raise_for_status
    response.raise_for_status()
venv/lib/python3.12/site-packages/httpx/_models.py:829: in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
E   httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx'
E   For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

The above exception was the direct cause of the following exception:
rag_factory/services/utils/onnx_utils.py:87: in download_onnx_model
    model_file = hf_hub_download(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1007: in hf_hub_download
    return _hf_hub_download_to_cache_dir(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1082: in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, xet_file_data, head_call_error) = _get_metadata_or_catch_error(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1623: in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1549: in get_hf_file_metadata
    response = _httpx_follow_relative_redirects(method="HEAD", url=url, headers=hf_headers, timeout=timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:292: in _httpx_follow_relative_redirects
    hf_raise_for_status(response)
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:567: in hf_raise_for_status
    raise _format(RemoteEntryNotFoundError, message, response) from e
E   huggingface_hub.errors.RemoteEntryNotFoundError: 404 Client Error. (Request ID: Root=1-6939a386-286879241bb511c7275d2dbb;482a6456-1353-4093-bc0c-c4b88851149c)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.

During handling of the above exception, another exception occurred:
tests/benchmarks/test_late_chunking_performance.py:45: in test_document_embedding_speed
    strategy = LateChunkingRAGStrategy(benchmark_vector_store, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/strategy.py:52: in __init__
    self.document_embedder = DocumentEmbedder(self.late_config)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/document_embedder.py:38: in __init__
    self.model_path = download_onnx_model(config.model_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/services/utils/onnx_utils.py:100: in download_onnx_model
    raise ValueError(
E   ValueError: Could not download ONNX model 'sentence-transformers/all-MiniLM-L6-v2'.
E   Error: 404 Client Error. (Request ID: Root=1-6939a386-286879241bb511c7275d2dbb;482a6456-1353-4093-bc0c-c4b88851149c)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
E   
E   The model may not have an ONNX version available.
E   You can convert it using:
E     python scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-MiniLM-L6-v2
E   
E   See documentation for model conversion guide.
------------------------------ Captured log call -------------------------------
ERROR    rag_factory.services.utils.onnx_utils:onnx_utils.py:99 Failed to download ONNX model 'sentence-transformers/all-MiniLM-L6-v2': 404 Client Error. (Request ID: Root=1-6939a386-286879241bb511c7275d2dbb;482a6456-1353-4093-bc0c-c4b88851149c)

Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
________________________ test_embedding_chunking_speed _________________________
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:553: in hf_raise_for_status
    response.raise_for_status()
venv/lib/python3.12/site-packages/httpx/_models.py:829: in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
E   httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx'
E   For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

The above exception was the direct cause of the following exception:
rag_factory/services/utils/onnx_utils.py:87: in download_onnx_model
    model_file = hf_hub_download(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1007: in hf_hub_download
    return _hf_hub_download_to_cache_dir(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1082: in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, xet_file_data, head_call_error) = _get_metadata_or_catch_error(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1623: in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1549: in get_hf_file_metadata
    response = _httpx_follow_relative_redirects(method="HEAD", url=url, headers=hf_headers, timeout=timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:292: in _httpx_follow_relative_redirects
    hf_raise_for_status(response)
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:567: in hf_raise_for_status
    raise _format(RemoteEntryNotFoundError, message, response) from e
E   huggingface_hub.errors.RemoteEntryNotFoundError: 404 Client Error. (Request ID: Root=1-6939a389-5a239f1473004c1f33fd98e2;06d7534e-c87f-4e3c-99c1-3cbd51fc6825)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.

During handling of the above exception, another exception occurred:
tests/benchmarks/test_late_chunking_performance.py:67: in test_embedding_chunking_speed
    strategy = LateChunkingRAGStrategy(benchmark_vector_store, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/strategy.py:52: in __init__
    self.document_embedder = DocumentEmbedder(self.late_config)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/document_embedder.py:38: in __init__
    self.model_path = download_onnx_model(config.model_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/services/utils/onnx_utils.py:100: in download_onnx_model
    raise ValueError(
E   ValueError: Could not download ONNX model 'sentence-transformers/all-MiniLM-L6-v2'.
E   Error: 404 Client Error. (Request ID: Root=1-6939a389-5a239f1473004c1f33fd98e2;06d7534e-c87f-4e3c-99c1-3cbd51fc6825)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
E   
E   The model may not have an ONNX version available.
E   You can convert it using:
E     python scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-MiniLM-L6-v2
E   
E   See documentation for model conversion guide.
------------------------------ Captured log call -------------------------------
ERROR    rag_factory.services.utils.onnx_utils:onnx_utils.py:99 Failed to download ONNX model 'sentence-transformers/all-MiniLM-L6-v2': 404 Client Error. (Request ID: Root=1-6939a389-5a239f1473004c1f33fd98e2;06d7534e-c87f-4e3c-99c1-3cbd51fc6825)

Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
_________________________ test_semantic_boundary_speed _________________________
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:553: in hf_raise_for_status
    response.raise_for_status()
venv/lib/python3.12/site-packages/httpx/_models.py:829: in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
E   httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx'
E   For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

The above exception was the direct cause of the following exception:
rag_factory/services/utils/onnx_utils.py:87: in download_onnx_model
    model_file = hf_hub_download(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1007: in hf_hub_download
    return _hf_hub_download_to_cache_dir(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1082: in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, xet_file_data, head_call_error) = _get_metadata_or_catch_error(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1623: in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1549: in get_hf_file_metadata
    response = _httpx_follow_relative_redirects(method="HEAD", url=url, headers=hf_headers, timeout=timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:292: in _httpx_follow_relative_redirects
    hf_raise_for_status(response)
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:567: in hf_raise_for_status
    raise _format(RemoteEntryNotFoundError, message, response) from e
E   huggingface_hub.errors.RemoteEntryNotFoundError: 404 Client Error. (Request ID: Root=1-6939a38b-0983f71a551a9acd76245913;95a58309-f00d-4c14-9ffa-c100d8ba9336)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.

During handling of the above exception, another exception occurred:
tests/benchmarks/test_late_chunking_performance.py:93: in test_semantic_boundary_speed
    strategy = LateChunkingRAGStrategy(benchmark_vector_store, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/strategy.py:52: in __init__
    self.document_embedder = DocumentEmbedder(self.late_config)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/document_embedder.py:38: in __init__
    self.model_path = download_onnx_model(config.model_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/services/utils/onnx_utils.py:100: in download_onnx_model
    raise ValueError(
E   ValueError: Could not download ONNX model 'sentence-transformers/all-MiniLM-L6-v2'.
E   Error: 404 Client Error. (Request ID: Root=1-6939a38b-0983f71a551a9acd76245913;95a58309-f00d-4c14-9ffa-c100d8ba9336)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
E   
E   The model may not have an ONNX version available.
E   You can convert it using:
E     python scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-MiniLM-L6-v2
E   
E   See documentation for model conversion guide.
------------------------------ Captured log call -------------------------------
ERROR    rag_factory.services.utils.onnx_utils:onnx_utils.py:99 Failed to download ONNX model 'sentence-transformers/all-MiniLM-L6-v2': 404 Client Error. (Request ID: Root=1-6939a38b-0983f71a551a9acd76245913;95a58309-f00d-4c14-9ffa-c100d8ba9336)

Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
___________________________ test_end_to_end_latency ____________________________
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:553: in hf_raise_for_status
    response.raise_for_status()
venv/lib/python3.12/site-packages/httpx/_models.py:829: in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
E   httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx'
E   For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

The above exception was the direct cause of the following exception:
rag_factory/services/utils/onnx_utils.py:87: in download_onnx_model
    model_file = hf_hub_download(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1007: in hf_hub_download
    return _hf_hub_download_to_cache_dir(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1082: in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, xet_file_data, head_call_error) = _get_metadata_or_catch_error(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1623: in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1549: in get_hf_file_metadata
    response = _httpx_follow_relative_redirects(method="HEAD", url=url, headers=hf_headers, timeout=timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:292: in _httpx_follow_relative_redirects
    hf_raise_for_status(response)
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:567: in hf_raise_for_status
    raise _format(RemoteEntryNotFoundError, message, response) from e
E   huggingface_hub.errors.RemoteEntryNotFoundError: 404 Client Error. (Request ID: Root=1-6939a38c-74b5885b784604d24e94c77b;b8a8661d-6f72-43f4-bc54-3775dba14c88)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.

During handling of the above exception, another exception occurred:
tests/benchmarks/test_late_chunking_performance.py:116: in test_end_to_end_latency
    strategy = LateChunkingRAGStrategy(benchmark_vector_store, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/strategy.py:52: in __init__
    self.document_embedder = DocumentEmbedder(self.late_config)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/document_embedder.py:38: in __init__
    self.model_path = download_onnx_model(config.model_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/services/utils/onnx_utils.py:100: in download_onnx_model
    raise ValueError(
E   ValueError: Could not download ONNX model 'sentence-transformers/all-MiniLM-L6-v2'.
E   Error: 404 Client Error. (Request ID: Root=1-6939a38c-74b5885b784604d24e94c77b;b8a8661d-6f72-43f4-bc54-3775dba14c88)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
E   
E   The model may not have an ONNX version available.
E   You can convert it using:
E     python scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-MiniLM-L6-v2
E   
E   See documentation for model conversion guide.
------------------------------ Captured log call -------------------------------
ERROR    rag_factory.services.utils.onnx_utils:onnx_utils.py:99 Failed to download ONNX model 'sentence-transformers/all-MiniLM-L6-v2': 404 Client Error. (Request ID: Root=1-6939a38c-74b5885b784604d24e94c77b;b8a8661d-6f72-43f4-bc54-3775dba14c88)

Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
_______________________ test_coherence_analysis_overhead _______________________
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:553: in hf_raise_for_status
    response.raise_for_status()
venv/lib/python3.12/site-packages/httpx/_models.py:829: in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
E   httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx'
E   For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

The above exception was the direct cause of the following exception:
rag_factory/services/utils/onnx_utils.py:87: in download_onnx_model
    model_file = hf_hub_download(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1007: in hf_hub_download
    return _hf_hub_download_to_cache_dir(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1082: in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, xet_file_data, head_call_error) = _get_metadata_or_catch_error(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1623: in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1549: in get_hf_file_metadata
    response = _httpx_follow_relative_redirects(method="HEAD", url=url, headers=hf_headers, timeout=timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:292: in _httpx_follow_relative_redirects
    hf_raise_for_status(response)
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:567: in hf_raise_for_status
    raise _format(RemoteEntryNotFoundError, message, response) from e
E   huggingface_hub.errors.RemoteEntryNotFoundError: 404 Client Error. (Request ID: Root=1-6939a38f-149a71b312576ea8076ad540;f86838fd-62fb-4e08-92c8-adccba1d7e8c)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.

During handling of the above exception, another exception occurred:
tests/benchmarks/test_late_chunking_performance.py:147: in test_coherence_analysis_overhead
    strategy_without = LateChunkingRAGStrategy(MockVectorStore(), config_without)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/strategy.py:52: in __init__
    self.document_embedder = DocumentEmbedder(self.late_config)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/document_embedder.py:38: in __init__
    self.model_path = download_onnx_model(config.model_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/services/utils/onnx_utils.py:100: in download_onnx_model
    raise ValueError(
E   ValueError: Could not download ONNX model 'sentence-transformers/all-MiniLM-L6-v2'.
E   Error: 404 Client Error. (Request ID: Root=1-6939a38f-149a71b312576ea8076ad540;f86838fd-62fb-4e08-92c8-adccba1d7e8c)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
E   
E   The model may not have an ONNX version available.
E   You can convert it using:
E     python scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-MiniLM-L6-v2
E   
E   See documentation for model conversion guide.
------------------------------ Captured log call -------------------------------
ERROR    rag_factory.services.utils.onnx_utils:onnx_utils.py:99 Failed to download ONNX model 'sentence-transformers/all-MiniLM-L6-v2': 404 Client Error. (Request ID: Root=1-6939a38f-149a71b312576ea8076ad540;f86838fd-62fb-4e08-92c8-adccba1d7e8c)

Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
_________________________ test_batch_processing_speed __________________________
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:553: in hf_raise_for_status
    response.raise_for_status()
venv/lib/python3.12/site-packages/httpx/_models.py:829: in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
E   httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx'
E   For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

The above exception was the direct cause of the following exception:
rag_factory/services/utils/onnx_utils.py:87: in download_onnx_model
    model_file = hf_hub_download(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1007: in hf_hub_download
    return _hf_hub_download_to_cache_dir(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1082: in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, xet_file_data, head_call_error) = _get_metadata_or_catch_error(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1623: in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1549: in get_hf_file_metadata
    response = _httpx_follow_relative_redirects(method="HEAD", url=url, headers=hf_headers, timeout=timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:292: in _httpx_follow_relative_redirects
    hf_raise_for_status(response)
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:567: in hf_raise_for_status
    raise _format(RemoteEntryNotFoundError, message, response) from e
E   huggingface_hub.errors.RemoteEntryNotFoundError: 404 Client Error. (Request ID: Root=1-6939a390-20c1192a61a7d08201baee75;57a7f189-25cd-47d6-b77d-21eb9c64db44)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.

During handling of the above exception, another exception occurred:
tests/benchmarks/test_late_chunking_performance.py:173: in test_batch_processing_speed
    strategy = LateChunkingRAGStrategy(benchmark_vector_store, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/strategy.py:52: in __init__
    self.document_embedder = DocumentEmbedder(self.late_config)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/document_embedder.py:38: in __init__
    self.model_path = download_onnx_model(config.model_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/services/utils/onnx_utils.py:100: in download_onnx_model
    raise ValueError(
E   ValueError: Could not download ONNX model 'sentence-transformers/all-MiniLM-L6-v2'.
E   Error: 404 Client Error. (Request ID: Root=1-6939a390-20c1192a61a7d08201baee75;57a7f189-25cd-47d6-b77d-21eb9c64db44)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
E   
E   The model may not have an ONNX version available.
E   You can convert it using:
E     python scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-MiniLM-L6-v2
E   
E   See documentation for model conversion guide.
------------------------------ Captured log call -------------------------------
ERROR    rag_factory.services.utils.onnx_utils:onnx_utils.py:99 Failed to download ONNX model 'sentence-transformers/all-MiniLM-L6-v2': 404 Client Error. (Request ID: Root=1-6939a390-20c1192a61a7d08201baee75;57a7f189-25cd-47d6-b77d-21eb9c64db44)

Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
_________________________ test_adaptive_chunking_speed _________________________
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:553: in hf_raise_for_status
    response.raise_for_status()
venv/lib/python3.12/site-packages/httpx/_models.py:829: in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
E   httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx'
E   For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

The above exception was the direct cause of the following exception:
rag_factory/services/utils/onnx_utils.py:87: in download_onnx_model
    model_file = hf_hub_download(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1007: in hf_hub_download
    return _hf_hub_download_to_cache_dir(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1082: in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, xet_file_data, head_call_error) = _get_metadata_or_catch_error(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1623: in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1549: in get_hf_file_metadata
    response = _httpx_follow_relative_redirects(method="HEAD", url=url, headers=hf_headers, timeout=timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:292: in _httpx_follow_relative_redirects
    hf_raise_for_status(response)
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:567: in hf_raise_for_status
    raise _format(RemoteEntryNotFoundError, message, response) from e
E   huggingface_hub.errors.RemoteEntryNotFoundError: 404 Client Error. (Request ID: Root=1-6939a392-53decc2d2e1449685200a078;c15ef1ca-cea8-491a-b9a7-7cb29caf8fed)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.

During handling of the above exception, another exception occurred:
tests/benchmarks/test_late_chunking_performance.py:201: in test_adaptive_chunking_speed
    strategy = LateChunkingRAGStrategy(benchmark_vector_store, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/strategy.py:52: in __init__
    self.document_embedder = DocumentEmbedder(self.late_config)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/document_embedder.py:38: in __init__
    self.model_path = download_onnx_model(config.model_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/services/utils/onnx_utils.py:100: in download_onnx_model
    raise ValueError(
E   ValueError: Could not download ONNX model 'sentence-transformers/all-MiniLM-L6-v2'.
E   Error: 404 Client Error. (Request ID: Root=1-6939a392-53decc2d2e1449685200a078;c15ef1ca-cea8-491a-b9a7-7cb29caf8fed)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
E   
E   The model may not have an ONNX version available.
E   You can convert it using:
E     python scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-MiniLM-L6-v2
E   
E   See documentation for model conversion guide.
------------------------------ Captured log call -------------------------------
ERROR    rag_factory.services.utils.onnx_utils:onnx_utils.py:99 Failed to download ONNX model 'sentence-transformers/all-MiniLM-L6-v2': 404 Client Error. (Request ID: Root=1-6939a392-53decc2d2e1449685200a078;c15ef1ca-cea8-491a-b9a7-7cb29caf8fed)

Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
____________________________ test_memory_efficiency ____________________________
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:553: in hf_raise_for_status
    response.raise_for_status()
venv/lib/python3.12/site-packages/httpx/_models.py:829: in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
E   httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx'
E   For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

The above exception was the direct cause of the following exception:
rag_factory/services/utils/onnx_utils.py:87: in download_onnx_model
    model_file = hf_hub_download(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1007: in hf_hub_download
    return _hf_hub_download_to_cache_dir(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1082: in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, xet_file_data, head_call_error) = _get_metadata_or_catch_error(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1623: in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1549: in get_hf_file_metadata
    response = _httpx_follow_relative_redirects(method="HEAD", url=url, headers=hf_headers, timeout=timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:292: in _httpx_follow_relative_redirects
    hf_raise_for_status(response)
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:567: in hf_raise_for_status
    raise _format(RemoteEntryNotFoundError, message, response) from e
E   huggingface_hub.errors.RemoteEntryNotFoundError: 404 Client Error. (Request ID: Root=1-6939a393-0e2f33cf02d79210414b5111;74ba2543-3e5d-41a9-ae32-def2ef882452)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.

During handling of the above exception, another exception occurred:
tests/benchmarks/test_late_chunking_performance.py:225: in test_memory_efficiency
    strategy = LateChunkingRAGStrategy(benchmark_vector_store, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/strategy.py:52: in __init__
    self.document_embedder = DocumentEmbedder(self.late_config)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/document_embedder.py:38: in __init__
    self.model_path = download_onnx_model(config.model_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/services/utils/onnx_utils.py:100: in download_onnx_model
    raise ValueError(
E   ValueError: Could not download ONNX model 'sentence-transformers/all-MiniLM-L6-v2'.
E   Error: 404 Client Error. (Request ID: Root=1-6939a393-0e2f33cf02d79210414b5111;74ba2543-3e5d-41a9-ae32-def2ef882452)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
E   
E   The model may not have an ONNX version available.
E   You can convert it using:
E     python scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-MiniLM-L6-v2
E   
E   See documentation for model conversion guide.
------------------------------ Captured log call -------------------------------
ERROR    rag_factory.services.utils.onnx_utils:onnx_utils.py:99 Failed to download ONNX model 'sentence-transformers/all-MiniLM-L6-v2': 404 Client Error. (Request ID: Root=1-6939a393-0e2f33cf02d79210414b5111;74ba2543-3e5d-41a9-ae32-def2ef882452)

Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
___________________________ test_model_loading_speed ___________________________
rag_factory/models/embedding/loader.py:102: in _load_sentence_transformer
    from sentence_transformers import SentenceTransformer
E   ModuleNotFoundError: No module named 'sentence_transformers'

During handling of the above exception, another exception occurred:
tests/benchmarks/test_model_comparison_performance.py:23: in test_model_loading_speed
    model = loader.load_model(config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:82: in load_model
    model = self._load_fallback(config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:93: in _load_fallback
    return self._load_sentence_transformer(config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:104: in _load_sentence_transformer
    raise ImportError(
E   ImportError: sentence-transformers is required for SENTENCE_TRANSFORMERS format. Install with: pip install sentence-transformers
__________________________ test_model_loading_cached ___________________________
rag_factory/models/embedding/loader.py:102: in _load_sentence_transformer
    from sentence_transformers import SentenceTransformer
E   ModuleNotFoundError: No module named 'sentence_transformers'

During handling of the above exception, another exception occurred:
tests/benchmarks/test_model_comparison_performance.py:45: in test_model_loading_cached
    loader.load_model(config)
rag_factory/models/embedding/loader.py:82: in load_model
    model = self._load_fallback(config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:93: in _load_fallback
    return self._load_sentence_transformer(config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:104: in _load_sentence_transformer
    raise ImportError(
E   ImportError: sentence-transformers is required for SENTENCE_TRANSFORMERS format. Install with: pip install sentence-transformers
_____________________________ test_inference_speed _____________________________
rag_factory/models/embedding/loader.py:102: in _load_sentence_transformer
    from sentence_transformers import SentenceTransformer
E   ModuleNotFoundError: No module named 'sentence_transformers'

During handling of the above exception, another exception occurred:
tests/benchmarks/test_model_comparison_performance.py:71: in test_inference_speed
    model = loader.load_model(config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:82: in load_model
    model = self._load_fallback(config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:93: in _load_fallback
    return self._load_sentence_transformer(config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:104: in _load_sentence_transformer
    raise ImportError(
E   ImportError: sentence-transformers is required for SENTENCE_TRANSFORMERS format. Install with: pip install sentence-transformers
__________________________ test_batch_size_comparison __________________________
rag_factory/models/embedding/loader.py:102: in _load_sentence_transformer
    from sentence_transformers import SentenceTransformer
E   ModuleNotFoundError: No module named 'sentence_transformers'

During handling of the above exception, another exception occurred:
tests/benchmarks/test_model_comparison_performance.py:110: in test_batch_size_comparison
    model = loader.load_model(config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:82: in load_model
    model = self._load_fallback(config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:93: in _load_fallback
    return self._load_sentence_transformer(config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:104: in _load_sentence_transformer
    raise ImportError(
E   ImportError: sentence-transformers is required for SENTENCE_TRANSFORMERS format. Install with: pip install sentence-transformers
____________________________ test_embedding_quality ____________________________
rag_factory/models/embedding/loader.py:102: in _load_sentence_transformer
    from sentence_transformers import SentenceTransformer
E   ModuleNotFoundError: No module named 'sentence_transformers'

During handling of the above exception, another exception occurred:
tests/benchmarks/test_model_comparison_performance.py:138: in test_embedding_quality
    model = loader.load_model(config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:82: in load_model
    model = self._load_fallback(config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:93: in _load_fallback
    return self._load_sentence_transformer(config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:104: in _load_sentence_transformer
    raise ImportError(
E   ImportError: sentence-transformers is required for SENTENCE_TRANSFORMERS format. Install with: pip install sentence-transformers
____________________________ test_memory_efficiency ____________________________
rag_factory/models/embedding/loader.py:102: in _load_sentence_transformer
    from sentence_transformers import SentenceTransformer
E   ModuleNotFoundError: No module named 'sentence_transformers'

During handling of the above exception, another exception occurred:
tests/benchmarks/test_model_comparison_performance.py:181: in test_memory_efficiency
    model = loader.load_model(config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:82: in load_model
    model = self._load_fallback(config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:93: in _load_fallback
    return self._load_sentence_transformer(config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:104: in _load_sentence_transformer
    raise ImportError(
E   ImportError: sentence-transformers is required for SENTENCE_TRANSFORMERS format. Install with: pip install sentence-transformers
_________________________ test_register_and_load_model _________________________
rag_factory/models/embedding/loader.py:102: in _load_sentence_transformer
    from sentence_transformers import SentenceTransformer
E   ModuleNotFoundError: No module named 'sentence_transformers'

During handling of the above exception, another exception occurred:
tests/integration/models/test_fine_tuned_embeddings_integration.py:45: in test_register_and_load_model
    model = loader.load_model(config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:82: in load_model
    model = self._load_fallback(config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:93: in _load_fallback
    return self._load_sentence_transformer(config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:104: in _load_sentence_transformer
    raise ImportError(
E   ImportError: sentence-transformers is required for SENTENCE_TRANSFORMERS format. Install with: pip install sentence-transformers
________________________ test_model_comparison_workflow ________________________
rag_factory/models/embedding/loader.py:102: in _load_sentence_transformer
    from sentence_transformers import SentenceTransformer
E   ModuleNotFoundError: No module named 'sentence_transformers'

During handling of the above exception, another exception occurred:
tests/integration/models/test_fine_tuned_embeddings_integration.py:182: in test_model_comparison_workflow
    model = loader.load_model(config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:82: in load_model
    model = self._load_fallback(config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:93: in _load_fallback
    return self._load_sentence_transformer(config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/models/embedding/loader.py:104: in _load_sentence_transformer
    raise ImportError(
E   ImportError: sentence-transformers is required for SENTENCE_TRANSFORMERS format. Install with: pip install sentence-transformers
________________________ test_local_embedding_provider _________________________
tests/integration/services/test_embedding_integration.py:84: in test_local_embedding_provider
    config = EmbeddingServiceConfig(
<string>:10: in __init__
    ???
rag_factory/services/embedding/config.py:43: in __post_init__
    raise ValueError(
E   ValueError: Invalid provider: onnx-local. Must be one of ['openai', 'cohere', 'local']
_________________________ test_large_batch_processing __________________________
tests/integration/services/test_embedding_integration.py:108: in test_large_batch_processing
    config = EmbeddingServiceConfig(
<string>:10: in __init__
    ???
rag_factory/services/embedding/config.py:43: in __post_init__
    raise ValueError(
E   ValueError: Invalid provider: onnx-local. Must be one of ['openai', 'cohere', 'local']
______________________ test_concurrent_embedding_requests ______________________
tests/integration/services/test_embedding_integration.py:139: in test_concurrent_embedding_requests
    config = EmbeddingServiceConfig(
<string>:10: in __init__
    ???
rag_factory/services/embedding/config.py:43: in __post_init__
    raise ValueError(
E   ValueError: Invalid provider: onnx-local. Must be one of ['openai', 'cohere', 'local']
____________________ test_cache_persistence_across_batches _____________________
tests/integration/services/test_embedding_integration.py:169: in test_cache_persistence_across_batches
    config = EmbeddingServiceConfig(
<string>:10: in __init__
    ???
rag_factory/services/embedding/config.py:43: in __post_init__
    raise ValueError(
E   ValueError: Invalid provider: onnx-local. Must be one of ['openai', 'cohere', 'local']
_____________________________ test_error_handling ______________________________
tests/integration/services/test_embedding_integration.py:203: in test_error_handling
    config = EmbeddingServiceConfig(
<string>:10: in __init__
    ???
rag_factory/services/embedding/config.py:43: in __post_init__
    raise ValueError(
E   ValueError: Invalid provider: onnx-local. Must be one of ['openai', 'cohere', 'local']
_______________________ test_onnx_provider_compatibility _______________________
tests/integration/services/test_embedding_integration.py:222: in test_onnx_provider_compatibility
    config = EmbeddingServiceConfig(
<string>:10: in __init__
    ???
rag_factory/services/embedding/config.py:43: in __post_init__
    raise ValueError(
E   ValueError: Invalid provider: onnx-local. Must be one of ['openai', 'cohere', 'local']
__ TestDatabaseServices.test_postgresql_database_service_basic_functionality ___
tests/integration/services/test_service_implementations.py:217: in test_postgresql_database_service_basic_functionality
    await service.store_chunks(chunks)
rag_factory/services/database/postgres.py:155: in store_chunks
    pool = await self._get_pool()
           ^^^^^^^^^^^^^^^^^^^^^^
rag_factory/services/database/postgres.py:98: in _get_pool
    self._pool = await asyncpg.create_pool(
venv/lib/python3.12/site-packages/asyncpg/pool.py:439: in _async__init__
    await self._initialize()
venv/lib/python3.12/site-packages/asyncpg/pool.py:466: in _initialize
    await first_ch.connect()
venv/lib/python3.12/site-packages/asyncpg/pool.py:153: in connect
    self._con = await self._pool._get_new_connection()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/asyncpg/pool.py:538: in _get_new_connection
    con = await self._connect(
venv/lib/python3.12/site-packages/asyncpg/connection.py:2443: in connect
    return await connect_utils._connect(
venv/lib/python3.12/site-packages/asyncpg/connect_utils.py:1249: in _connect
    raise last_error or exceptions.TargetServerAttributeNotMatched(
venv/lib/python3.12/site-packages/asyncpg/connect_utils.py:1218: in _connect
    conn = await _connect_addr(
venv/lib/python3.12/site-packages/asyncpg/connect_utils.py:1054: in _connect_addr
    return await __connect_addr(params, True, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/asyncpg/connect_utils.py:1099: in __connect_addr
    tr, pr = await connector
             ^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/asyncpg/connect_utils.py:969: in _create_ssl_connection
    tr, pr = await loop.create_connection(
/usr/lib/python3.12/asyncio/base_events.py:1122: in create_connection
    raise exceptions[0]
/usr/lib/python3.12/asyncio/base_events.py:1104: in create_connection
    sock = await self._connect_sock(
/usr/lib/python3.12/asyncio/base_events.py:1007: in _connect_sock
    await self.sock_connect(sock, address)
/usr/lib/python3.12/asyncio/selector_events.py:651: in sock_connect
    return await fut
           ^^^^^^^^^
/usr/lib/python3.12/asyncio/selector_events.py:691: in _sock_connect_cb
    raise OSError(err, f'Connect call failed {address}')
E   ConnectionRefusedError: [Errno 111] Connect call failed ('127.0.0.1', 5432)
_____________________ test_embedding_database_consistency ______________________
tests/integration/services/test_service_integration.py:158: in test_embedding_database_consistency
    await db_service.store_chunks([chunk])
rag_factory/services/database/postgres.py:157: in store_chunks
    async with pool.acquire() as conn:
E   TypeError: 'coroutine' object does not support the asynchronous context manager protocol
_________________________ test_strategy_full_lifecycle _________________________
tests/integration/strategies/test_base_integration.py:62: in test_strategy_full_lifecycle
    strategy = DummyStrategy()
               ^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class DummyStrategy without an implementation for abstract method 'requires_services'
_________________ test_multiple_strategies_implement_interface _________________
tests/integration/strategies/test_base_integration.py:113: in test_multiple_strategies_implement_interface
    strategies = [StrategyA(), StrategyB()]
                  ^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class StrategyA without an implementation for abstract method 'requires_services'
__________________________ test_async_retrieve_works ___________________________
tests/integration/strategies/test_base_integration.py:154: in test_async_retrieve_works
    strategy = AsyncStrategy()
               ^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class AsyncStrategy without an implementation for abstract method 'requires_services'
_________________________ test_strategy_error_handling _________________________
tests/integration/strategies/test_base_integration.py:186: in test_strategy_error_handling
    strategy = ErrorStrategy()
               ^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class ErrorStrategy without an implementation for abstract method 'requires_services'
_____________________ test_strategy_configuration_override _____________________
tests/integration/strategies/test_base_integration.py:221: in test_strategy_configuration_override
    strategy = ConfigurableStrategy()
               ^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class ConfigurableStrategy without an implementation for abstract method 'requires_services'
_________________ test_contextual_retrieval_complete_workflow __________________
tests/integration/strategies/test_contextual_integration.py:85: in test_contextual_retrieval_complete_workflow
    strategy = ContextualRetrievalStrategy(
E   TypeError: Can't instantiate abstract class ContextualRetrievalStrategy without an implementation for abstract method 'aretrieve'
_________________________ test_cost_tracking_accuracy __________________________
tests/integration/strategies/test_contextual_integration.py:142: in test_cost_tracking_accuracy
    strategy = ContextualRetrievalStrategy(
E   TypeError: Can't instantiate abstract class ContextualRetrievalStrategy without an implementation for abstract method 'aretrieve'
____________________ test_retrieval_with_different_formats _____________________
tests/integration/strategies/test_contextual_integration.py:181: in test_retrieval_with_different_formats
    strategy = ContextualRetrievalStrategy(
E   TypeError: Can't instantiate abstract class ContextualRetrievalStrategy without an implementation for abstract method 'aretrieve'
_____________________________ test_error_recovery ______________________________
tests/integration/strategies/test_contextual_integration.py:222: in test_error_recovery
    strategy = ContextualRetrievalStrategy(
E   TypeError: Can't instantiate abstract class ContextualRetrievalStrategy without an implementation for abstract method 'aretrieve'
__________________________ test_synchronous_indexing ___________________________
tests/integration/strategies/test_contextual_integration.py:247: in test_synchronous_indexing
    strategy = ContextualRetrievalStrategy(
E   TypeError: Can't instantiate abstract class ContextualRetrievalStrategy without an implementation for abstract method 'aretrieve'
________________________ test_large_document_processing ________________________
tests/integration/strategies/test_contextual_integration.py:282: in test_large_document_processing
    strategy = ContextualRetrievalStrategy(
E   TypeError: Can't instantiate abstract class ContextualRetrievalStrategy without an implementation for abstract method 'aretrieve'
_____________ TestHierarchicalIntegration.test_end_to_end_workflow _____________
tests/integration/strategies/test_hierarchical_integration.py:92: in test_end_to_end_workflow
    strategy = HierarchicalRAGStrategy(
E   TypeError: Can't instantiate abstract class HierarchicalRAGStrategy without an implementation for abstract method 'requires_services'
________ TestHierarchicalIntegration.test_expansion_strategy_comparison ________
tests/integration/strategies/test_hierarchical_integration.py:128: in test_expansion_strategy_comparison
    strategy = HierarchicalRAGStrategy(
E   TypeError: Can't instantiate abstract class HierarchicalRAGStrategy without an implementation for abstract method 'requires_services'
____________ TestHierarchicalIntegration.test_hierarchy_validation _____________
tests/integration/strategies/test_hierarchical_integration.py:165: in test_hierarchy_validation
    strategy = HierarchicalRAGStrategy(
E   TypeError: Can't instantiate abstract class HierarchicalRAGStrategy without an implementation for abstract method 'requires_services'
_____________ TestHierarchicalIntegration.test_multiple_documents ______________
tests/integration/strategies/test_hierarchical_integration.py:181: in test_multiple_documents
    strategy = HierarchicalRAGStrategy(
E   TypeError: Can't instantiate abstract class HierarchicalRAGStrategy without an implementation for abstract method 'requires_services'
________________________ test_knowledge_graph_workflow _________________________
tests/integration/strategies/test_knowledge_graph_integration.py:91: in test_knowledge_graph_workflow
    strategy = KnowledgeGraphRAGStrategy(
E   TypeError: KnowledgeGraphRAGStrategy.__init__() got an unexpected keyword argument 'vector_store_service'
____________________________ test_hybrid_retrieval _____________________________
tests/integration/strategies/test_knowledge_graph_integration.py:122: in test_hybrid_retrieval
    strategy = KnowledgeGraphRAGStrategy(
E   TypeError: KnowledgeGraphRAGStrategy.__init__() got an unexpected keyword argument 'vector_store_service'
__________________________ test_relationship_queries ___________________________
tests/integration/strategies/test_knowledge_graph_integration.py:148: in test_relationship_queries
    strategy = KnowledgeGraphRAGStrategy(
E   TypeError: KnowledgeGraphRAGStrategy.__init__() got an unexpected keyword argument 'vector_store_service'
____________________________ test_graph_statistics _____________________________
tests/integration/strategies/test_knowledge_graph_integration.py:172: in test_graph_statistics
    strategy = KnowledgeGraphRAGStrategy(
E   TypeError: KnowledgeGraphRAGStrategy.__init__() got an unexpected keyword argument 'vector_store_service'
_________________________ test_late_chunking_workflow __________________________
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:553: in hf_raise_for_status
    response.raise_for_status()
venv/lib/python3.12/site-packages/httpx/_models.py:829: in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
E   httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx'
E   For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

The above exception was the direct cause of the following exception:
rag_factory/services/utils/onnx_utils.py:87: in download_onnx_model
    model_file = hf_hub_download(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1007: in hf_hub_download
    return _hf_hub_download_to_cache_dir(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1082: in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, xet_file_data, head_call_error) = _get_metadata_or_catch_error(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1623: in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1549: in get_hf_file_metadata
    response = _httpx_follow_relative_redirects(method="HEAD", url=url, headers=hf_headers, timeout=timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:292: in _httpx_follow_relative_redirects
    hf_raise_for_status(response)
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:567: in hf_raise_for_status
    raise _format(RemoteEntryNotFoundError, message, response) from e
E   huggingface_hub.errors.RemoteEntryNotFoundError: 404 Client Error. (Request ID: Root=1-6939a403-62396ac9670941b53cf5dfb4;f801c81a-8c13-4c3f-825b-feb9d52d0981)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.

During handling of the above exception, another exception occurred:
tests/integration/strategies/test_late_chunking_integration.py:57: in test_late_chunking_workflow
    strategy = LateChunkingRAGStrategy(
rag_factory/strategies/late_chunking/strategy.py:52: in __init__
    self.document_embedder = DocumentEmbedder(self.late_config)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/document_embedder.py:38: in __init__
    self.model_path = download_onnx_model(config.model_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/services/utils/onnx_utils.py:100: in download_onnx_model
    raise ValueError(
E   ValueError: Could not download ONNX model 'sentence-transformers/all-MiniLM-L6-v2'.
E   Error: 404 Client Error. (Request ID: Root=1-6939a403-62396ac9670941b53cf5dfb4;f801c81a-8c13-4c3f-825b-feb9d52d0981)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
E   
E   The model may not have an ONNX version available.
E   You can convert it using:
E     python scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-MiniLM-L6-v2
E   
E   See documentation for model conversion guide.
------------------------------ Captured log call -------------------------------
ERROR    rag_factory.services.utils.onnx_utils:onnx_utils.py:99 Failed to download ONNX model 'sentence-transformers/all-MiniLM-L6-v2': 404 Client Error. (Request ID: Root=1-6939a403-62396ac9670941b53cf5dfb4;f801c81a-8c13-4c3f-825b-feb9d52d0981)

Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
_____________________ test_fixed_size_chunking_integration _____________________
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:553: in hf_raise_for_status
    response.raise_for_status()
venv/lib/python3.12/site-packages/httpx/_models.py:829: in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
E   httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx'
E   For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

The above exception was the direct cause of the following exception:
rag_factory/services/utils/onnx_utils.py:87: in download_onnx_model
    model_file = hf_hub_download(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1007: in hf_hub_download
    return _hf_hub_download_to_cache_dir(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1082: in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, xet_file_data, head_call_error) = _get_metadata_or_catch_error(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1623: in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1549: in get_hf_file_metadata
    response = _httpx_follow_relative_redirects(method="HEAD", url=url, headers=hf_headers, timeout=timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:292: in _httpx_follow_relative_redirects
    hf_raise_for_status(response)
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:567: in hf_raise_for_status
    raise _format(RemoteEntryNotFoundError, message, response) from e
E   huggingface_hub.errors.RemoteEntryNotFoundError: 404 Client Error. (Request ID: Root=1-6939a404-161c69fa3891658075cf6e1f;ef8ae45e-e93f-42c0-93fb-612599529a0f)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.

During handling of the above exception, another exception occurred:
tests/integration/strategies/test_late_chunking_integration.py:103: in test_fixed_size_chunking_integration
    strategy = LateChunkingRAGStrategy(test_vector_store, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/strategy.py:52: in __init__
    self.document_embedder = DocumentEmbedder(self.late_config)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/document_embedder.py:38: in __init__
    self.model_path = download_onnx_model(config.model_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/services/utils/onnx_utils.py:100: in download_onnx_model
    raise ValueError(
E   ValueError: Could not download ONNX model 'sentence-transformers/all-MiniLM-L6-v2'.
E   Error: 404 Client Error. (Request ID: Root=1-6939a404-161c69fa3891658075cf6e1f;ef8ae45e-e93f-42c0-93fb-612599529a0f)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
E   
E   The model may not have an ONNX version available.
E   You can convert it using:
E     python scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-MiniLM-L6-v2
E   
E   See documentation for model conversion guide.
------------------------------ Captured log call -------------------------------
ERROR    rag_factory.services.utils.onnx_utils:onnx_utils.py:99 Failed to download ONNX model 'sentence-transformers/all-MiniLM-L6-v2': 404 Client Error. (Request ID: Root=1-6939a404-161c69fa3891658075cf6e1f;ef8ae45e-e93f-42c0-93fb-612599529a0f)

Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
______________________ test_adaptive_chunking_integration ______________________
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:553: in hf_raise_for_status
    response.raise_for_status()
venv/lib/python3.12/site-packages/httpx/_models.py:829: in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
E   httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx'
E   For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

The above exception was the direct cause of the following exception:
rag_factory/services/utils/onnx_utils.py:87: in download_onnx_model
    model_file = hf_hub_download(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1007: in hf_hub_download
    return _hf_hub_download_to_cache_dir(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1082: in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, xet_file_data, head_call_error) = _get_metadata_or_catch_error(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1623: in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1549: in get_hf_file_metadata
    response = _httpx_follow_relative_redirects(method="HEAD", url=url, headers=hf_headers, timeout=timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:292: in _httpx_follow_relative_redirects
    hf_raise_for_status(response)
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:567: in hf_raise_for_status
    raise _format(RemoteEntryNotFoundError, message, response) from e
E   huggingface_hub.errors.RemoteEntryNotFoundError: 404 Client Error. (Request ID: Root=1-6939a406-07b2f77a2f20c84b44550b6b;02731638-a6d6-43b2-9ec6-85e1cffee272)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.

During handling of the above exception, another exception occurred:
tests/integration/strategies/test_late_chunking_integration.py:123: in test_adaptive_chunking_integration
    strategy = LateChunkingRAGStrategy(test_vector_store, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/strategy.py:52: in __init__
    self.document_embedder = DocumentEmbedder(self.late_config)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/document_embedder.py:38: in __init__
    self.model_path = download_onnx_model(config.model_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/services/utils/onnx_utils.py:100: in download_onnx_model
    raise ValueError(
E   ValueError: Could not download ONNX model 'sentence-transformers/all-MiniLM-L6-v2'.
E   Error: 404 Client Error. (Request ID: Root=1-6939a406-07b2f77a2f20c84b44550b6b;02731638-a6d6-43b2-9ec6-85e1cffee272)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
E   
E   The model may not have an ONNX version available.
E   You can convert it using:
E     python scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-MiniLM-L6-v2
E   
E   See documentation for model conversion guide.
------------------------------ Captured log call -------------------------------
ERROR    rag_factory.services.utils.onnx_utils:onnx_utils.py:99 Failed to download ONNX model 'sentence-transformers/all-MiniLM-L6-v2': 404 Client Error. (Request ID: Root=1-6939a406-07b2f77a2f20c84b44550b6b;02731638-a6d6-43b2-9ec6-85e1cffee272)

Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
___________________________ test_multiple_documents ____________________________
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:553: in hf_raise_for_status
    response.raise_for_status()
venv/lib/python3.12/site-packages/httpx/_models.py:829: in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
E   httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx'
E   For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

The above exception was the direct cause of the following exception:
rag_factory/services/utils/onnx_utils.py:87: in download_onnx_model
    model_file = hf_hub_download(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1007: in hf_hub_download
    return _hf_hub_download_to_cache_dir(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1082: in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, xet_file_data, head_call_error) = _get_metadata_or_catch_error(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1623: in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1549: in get_hf_file_metadata
    response = _httpx_follow_relative_redirects(method="HEAD", url=url, headers=hf_headers, timeout=timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:292: in _httpx_follow_relative_redirects
    hf_raise_for_status(response)
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:567: in hf_raise_for_status
    raise _format(RemoteEntryNotFoundError, message, response) from e
E   huggingface_hub.errors.RemoteEntryNotFoundError: 404 Client Error. (Request ID: Root=1-6939a407-7a00c3e23f0ac06b2314182c;93887c2e-3dfe-47a5-a96a-76306f1ce78b)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.

During handling of the above exception, another exception occurred:
tests/integration/strategies/test_late_chunking_integration.py:149: in test_multiple_documents
    strategy = LateChunkingRAGStrategy(test_vector_store, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/strategy.py:52: in __init__
    self.document_embedder = DocumentEmbedder(self.late_config)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/document_embedder.py:38: in __init__
    self.model_path = download_onnx_model(config.model_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/services/utils/onnx_utils.py:100: in download_onnx_model
    raise ValueError(
E   ValueError: Could not download ONNX model 'sentence-transformers/all-MiniLM-L6-v2'.
E   Error: 404 Client Error. (Request ID: Root=1-6939a407-7a00c3e23f0ac06b2314182c;93887c2e-3dfe-47a5-a96a-76306f1ce78b)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
E   
E   The model may not have an ONNX version available.
E   You can convert it using:
E     python scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-MiniLM-L6-v2
E   
E   See documentation for model conversion guide.
------------------------------ Captured log call -------------------------------
ERROR    rag_factory.services.utils.onnx_utils:onnx_utils.py:99 Failed to download ONNX model 'sentence-transformers/all-MiniLM-L6-v2': 404 Client Error. (Request ID: Root=1-6939a407-7a00c3e23f0ac06b2314182c;93887c2e-3dfe-47a5-a96a-76306f1ce78b)

Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
___________________________ test_strategy_properties ___________________________
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:553: in hf_raise_for_status
    response.raise_for_status()
venv/lib/python3.12/site-packages/httpx/_models.py:829: in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
E   httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx'
E   For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

The above exception was the direct cause of the following exception:
rag_factory/services/utils/onnx_utils.py:87: in download_onnx_model
    model_file = hf_hub_download(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1007: in hf_hub_download
    return _hf_hub_download_to_cache_dir(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1082: in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, xet_file_data, head_call_error) = _get_metadata_or_catch_error(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1623: in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1549: in get_hf_file_metadata
    response = _httpx_follow_relative_redirects(method="HEAD", url=url, headers=hf_headers, timeout=timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:292: in _httpx_follow_relative_redirects
    hf_raise_for_status(response)
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:567: in hf_raise_for_status
    raise _format(RemoteEntryNotFoundError, message, response) from e
E   huggingface_hub.errors.RemoteEntryNotFoundError: 404 Client Error. (Request ID: Root=1-6939a409-3c050a4566a37e4345a4f82a;732b2b66-7796-435e-9ac8-30a78d3eb4f8)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.

During handling of the above exception, another exception occurred:
tests/integration/strategies/test_late_chunking_integration.py:178: in test_strategy_properties
    strategy = LateChunkingRAGStrategy(test_vector_store, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/strategy.py:52: in __init__
    self.document_embedder = DocumentEmbedder(self.late_config)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/document_embedder.py:38: in __init__
    self.model_path = download_onnx_model(config.model_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/services/utils/onnx_utils.py:100: in download_onnx_model
    raise ValueError(
E   ValueError: Could not download ONNX model 'sentence-transformers/all-MiniLM-L6-v2'.
E   Error: 404 Client Error. (Request ID: Root=1-6939a409-3c050a4566a37e4345a4f82a;732b2b66-7796-435e-9ac8-30a78d3eb4f8)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
E   
E   The model may not have an ONNX version available.
E   You can convert it using:
E     python scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-MiniLM-L6-v2
E   
E   See documentation for model conversion guide.
------------------------------ Captured log call -------------------------------
ERROR    rag_factory.services.utils.onnx_utils:onnx_utils.py:99 Failed to download ONNX model 'sentence-transformers/all-MiniLM-L6-v2': 404 Client Error. (Request ID: Root=1-6939a409-3c050a4566a37e4345a4f82a;732b2b66-7796-435e-9ac8-30a78d3eb4f8)

Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
________________________ test_coherence_scores_computed ________________________
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:553: in hf_raise_for_status
    response.raise_for_status()
venv/lib/python3.12/site-packages/httpx/_models.py:829: in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
E   httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx'
E   For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

The above exception was the direct cause of the following exception:
rag_factory/services/utils/onnx_utils.py:87: in download_onnx_model
    model_file = hf_hub_download(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1007: in hf_hub_download
    return _hf_hub_download_to_cache_dir(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1082: in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, xet_file_data, head_call_error) = _get_metadata_or_catch_error(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1623: in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1549: in get_hf_file_metadata
    response = _httpx_follow_relative_redirects(method="HEAD", url=url, headers=hf_headers, timeout=timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:292: in _httpx_follow_relative_redirects
    hf_raise_for_status(response)
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:567: in hf_raise_for_status
    raise _format(RemoteEntryNotFoundError, message, response) from e
E   huggingface_hub.errors.RemoteEntryNotFoundError: 404 Client Error. (Request ID: Root=1-6939a40a-65e5e8290279917d4177520e;aecd9a91-5ca4-4b1c-a9e0-13010e15a320)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.

During handling of the above exception, another exception occurred:
tests/integration/strategies/test_late_chunking_integration.py:195: in test_coherence_scores_computed
    strategy = LateChunkingRAGStrategy(test_vector_store, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/strategy.py:52: in __init__
    self.document_embedder = DocumentEmbedder(self.late_config)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/document_embedder.py:38: in __init__
    self.model_path = download_onnx_model(config.model_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/services/utils/onnx_utils.py:100: in download_onnx_model
    raise ValueError(
E   ValueError: Could not download ONNX model 'sentence-transformers/all-MiniLM-L6-v2'.
E   Error: 404 Client Error. (Request ID: Root=1-6939a40a-65e5e8290279917d4177520e;aecd9a91-5ca4-4b1c-a9e0-13010e15a320)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
E   
E   The model may not have an ONNX version available.
E   You can convert it using:
E     python scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-MiniLM-L6-v2
E   
E   See documentation for model conversion guide.
------------------------------ Captured log call -------------------------------
ERROR    rag_factory.services.utils.onnx_utils:onnx_utils.py:99 Failed to download ONNX model 'sentence-transformers/all-MiniLM-L6-v2': 404 Client Error. (Request ID: Root=1-6939a40a-65e5e8290279917d4177520e;aecd9a91-5ca4-4b1c-a9e0-13010e15a320)

Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
_____________________________ test_short_document ______________________________
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:553: in hf_raise_for_status
    response.raise_for_status()
venv/lib/python3.12/site-packages/httpx/_models.py:829: in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
E   httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx'
E   For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

The above exception was the direct cause of the following exception:
rag_factory/services/utils/onnx_utils.py:87: in download_onnx_model
    model_file = hf_hub_download(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1007: in hf_hub_download
    return _hf_hub_download_to_cache_dir(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1082: in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, xet_file_data, head_call_error) = _get_metadata_or_catch_error(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1623: in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1549: in get_hf_file_metadata
    response = _httpx_follow_relative_redirects(method="HEAD", url=url, headers=hf_headers, timeout=timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:292: in _httpx_follow_relative_redirects
    hf_raise_for_status(response)
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:567: in hf_raise_for_status
    raise _format(RemoteEntryNotFoundError, message, response) from e
E   huggingface_hub.errors.RemoteEntryNotFoundError: 404 Client Error. (Request ID: Root=1-6939a40c-5731f0fb7574e1540cae8eb2;5afa5e59-ac76-4e1f-98c2-e751aae9da53)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.

During handling of the above exception, another exception occurred:
tests/integration/strategies/test_late_chunking_integration.py:215: in test_short_document
    strategy = LateChunkingRAGStrategy(test_vector_store, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/strategy.py:52: in __init__
    self.document_embedder = DocumentEmbedder(self.late_config)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/document_embedder.py:38: in __init__
    self.model_path = download_onnx_model(config.model_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/services/utils/onnx_utils.py:100: in download_onnx_model
    raise ValueError(
E   ValueError: Could not download ONNX model 'sentence-transformers/all-MiniLM-L6-v2'.
E   Error: 404 Client Error. (Request ID: Root=1-6939a40c-5731f0fb7574e1540cae8eb2;5afa5e59-ac76-4e1f-98c2-e751aae9da53)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
E   
E   The model may not have an ONNX version available.
E   You can convert it using:
E     python scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-MiniLM-L6-v2
E   
E   See documentation for model conversion guide.
------------------------------ Captured log call -------------------------------
ERROR    rag_factory.services.utils.onnx_utils:onnx_utils.py:99 Failed to download ONNX model 'sentence-transformers/all-MiniLM-L6-v2': 404 Client Error. (Request ID: Root=1-6939a40c-5731f0fb7574e1540cae8eb2;5afa5e59-ac76-4e1f-98c2-e751aae9da53)

Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
_________________________ test_chunk_embeddings_valid __________________________
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:553: in hf_raise_for_status
    response.raise_for_status()
venv/lib/python3.12/site-packages/httpx/_models.py:829: in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
E   httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx'
E   For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

The above exception was the direct cause of the following exception:
rag_factory/services/utils/onnx_utils.py:87: in download_onnx_model
    model_file = hf_hub_download(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1007: in hf_hub_download
    return _hf_hub_download_to_cache_dir(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1082: in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, xet_file_data, head_call_error) = _get_metadata_or_catch_error(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1623: in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1549: in get_hf_file_metadata
    response = _httpx_follow_relative_redirects(method="HEAD", url=url, headers=hf_headers, timeout=timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:292: in _httpx_follow_relative_redirects
    hf_raise_for_status(response)
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:567: in hf_raise_for_status
    raise _format(RemoteEntryNotFoundError, message, response) from e
E   huggingface_hub.errors.RemoteEntryNotFoundError: 404 Client Error. (Request ID: Root=1-6939a40e-79f2ca791c16903533e4ff79;178906d9-43ba-4869-99e8-b8493b89a9bc)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.

During handling of the above exception, another exception occurred:
tests/integration/strategies/test_late_chunking_integration.py:233: in test_chunk_embeddings_valid
    strategy = LateChunkingRAGStrategy(test_vector_store, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/strategy.py:52: in __init__
    self.document_embedder = DocumentEmbedder(self.late_config)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/document_embedder.py:38: in __init__
    self.model_path = download_onnx_model(config.model_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/services/utils/onnx_utils.py:100: in download_onnx_model
    raise ValueError(
E   ValueError: Could not download ONNX model 'sentence-transformers/all-MiniLM-L6-v2'.
E   Error: 404 Client Error. (Request ID: Root=1-6939a40e-79f2ca791c16903533e4ff79;178906d9-43ba-4869-99e8-b8493b89a9bc)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
E   
E   The model may not have an ONNX version available.
E   You can convert it using:
E     python scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-MiniLM-L6-v2
E   
E   See documentation for model conversion guide.
------------------------------ Captured log call -------------------------------
ERROR    rag_factory.services.utils.onnx_utils:onnx_utils.py:99 Failed to download ONNX model 'sentence-transformers/all-MiniLM-L6-v2': 404 Client Error. (Request ID: Root=1-6939a40e-79f2ca791c16903533e4ff79;178906d9-43ba-4869-99e8-b8493b89a9bc)

Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
____________________________ test_embedding_quality ____________________________
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:553: in hf_raise_for_status
    response.raise_for_status()
venv/lib/python3.12/site-packages/httpx/_models.py:829: in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
E   httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx'
E   For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

The above exception was the direct cause of the following exception:
rag_factory/services/utils/onnx_utils.py:87: in download_onnx_model
    model_file = hf_hub_download(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1007: in hf_hub_download
    return _hf_hub_download_to_cache_dir(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1082: in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, xet_file_data, head_call_error) = _get_metadata_or_catch_error(
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1623: in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
venv/lib/python3.12/site-packages/huggingface_hub/utils/_validators.py:89: in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:1549: in get_hf_file_metadata
    response = _httpx_follow_relative_redirects(method="HEAD", url=url, headers=hf_headers, timeout=timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/huggingface_hub/file_download.py:292: in _httpx_follow_relative_redirects
    hf_raise_for_status(response)
venv/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:567: in hf_raise_for_status
    raise _format(RemoteEntryNotFoundError, message, response) from e
E   huggingface_hub.errors.RemoteEntryNotFoundError: 404 Client Error. (Request ID: Root=1-6939a40f-22d93cf76e4563245d91f32a;771061fb-53a5-4840-9987-e87dfa8f826d)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.

During handling of the above exception, another exception occurred:
tests/integration/strategies/test_late_chunking_integration.py:256: in test_embedding_quality
    strategy = LateChunkingRAGStrategy(test_vector_store, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/strategy.py:52: in __init__
    self.document_embedder = DocumentEmbedder(self.late_config)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/strategies/late_chunking/document_embedder.py:38: in __init__
    self.model_path = download_onnx_model(config.model_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/services/utils/onnx_utils.py:100: in download_onnx_model
    raise ValueError(
E   ValueError: Could not download ONNX model 'sentence-transformers/all-MiniLM-L6-v2'.
E   Error: 404 Client Error. (Request ID: Root=1-6939a40f-22d93cf76e4563245d91f32a;771061fb-53a5-4840-9987-e87dfa8f826d)
E   
E   Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
E   
E   The model may not have an ONNX version available.
E   You can convert it using:
E     python scripts/convert_model_to_onnx.py --model-name sentence-transformers/all-MiniLM-L6-v2
E   
E   See documentation for model conversion guide.
------------------------------ Captured log call -------------------------------
ERROR    rag_factory.services.utils.onnx_utils:onnx_utils.py:99 Failed to download ONNX model 'sentence-transformers/all-MiniLM-L6-v2': 404 Client Error. (Request ID: Root=1-6939a40f-22d93cf76e4563245d91f32a;771061fb-53a5-4840-9987-e87dfa8f826d)

Entry Not Found for url: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.onnx.
_________ TestMultiQueryIntegration.test_multi_query_complete_workflow _________
tests/integration/strategies/test_multi_query_integration.py:67: in test_multi_query_complete_workflow
    strategy = MultiQueryRAGStrategy(
E   TypeError: MultiQueryRAGStrategy.__init__() got an unexpected keyword argument 'vector_store_service'
__________ TestMultiQueryIntegration.test_multi_query_async_workflow ___________
tests/integration/strategies/test_multi_query_integration.py:94: in test_multi_query_async_workflow
    strategy = MultiQueryRAGStrategy(
E   TypeError: MultiQueryRAGStrategy.__init__() got an unexpected keyword argument 'vector_store_service'
_______________ TestMultiQueryIntegration.test_variant_diversity _______________
tests/integration/strategies/test_multi_query_integration.py:111: in test_variant_diversity
    strategy = MultiQueryRAGStrategy(
E   TypeError: MultiQueryRAGStrategy.__init__() got an unexpected keyword argument 'vector_store_service'
___________ TestMultiQueryIntegration.test_performance_requirements ____________
tests/integration/strategies/test_multi_query_integration.py:135: in test_performance_requirements
    strategy = MultiQueryRAGStrategy(
E   TypeError: MultiQueryRAGStrategy.__init__() got an unexpected keyword argument 'vector_store_service'
______________ TestMultiQueryIntegration.test_fallback_on_failure ______________
tests/integration/strategies/test_multi_query_integration.py:158: in test_fallback_on_failure
    strategy = MultiQueryRAGStrategy(
E   TypeError: MultiQueryRAGStrategy.__init__() got an unexpected keyword argument 'vector_store_service'
__________ TestMultiQueryIntegration.test_ranking_strategy_comparison __________
tests/integration/strategies/test_multi_query_integration.py:180: in test_ranking_strategy_comparison
    strategy_max = MultiQueryRAGStrategy(
E   TypeError: MultiQueryRAGStrategy.__init__() got an unexpected keyword argument 'vector_store_service'
_________ TestMultiQueryIntegration.test_deduplication_across_variants _________
tests/integration/strategies/test_multi_query_integration.py:215: in test_deduplication_across_variants
    strategy = MultiQueryRAGStrategy(
E   TypeError: MultiQueryRAGStrategy.__init__() got an unexpected keyword argument 'vector_store_service'
______________ TestMultiQueryIntegration.test_strategy_properties ______________
tests/integration/strategies/test_multi_query_integration.py:234: in test_strategy_properties
    strategy = MultiQueryRAGStrategy(
E   TypeError: MultiQueryRAGStrategy.__init__() got an unexpected keyword argument 'vector_store_service'
___________________________ test_config_with_factory ___________________________
tests/integration/test_config_integration.py:176: in test_config_with_factory
    strategy = RAGFactory.create_strategy(
rag_factory/factory.py:202: in create_strategy
    if name not in self._registry:
                   ^^^^^^^^^^^^^^
E   AttributeError: 'str' object has no attribute '_registry'
__________________________ test_config_with_pipeline ___________________________
tests/integration/test_config_integration.py:218: in test_config_with_pipeline
    pipeline = StrategyPipeline.from_config(pipeline_config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/pipeline.py:496: in from_config
    strategy = factory.create_strategy(
rag_factory/factory.py:217: in create_strategy
    strategy = strategy_class(config=strategy_config, dependencies=deps)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class TestIntegrationStrategy without an implementation for abstract method 'requires_services'
______________________ test_register_create_use_strategy _______________________
tests/integration/test_factory_integration.py:226: in test_register_create_use_strategy
    strategy = factory.create_strategy("dummy", config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/factory.py:217: in create_strategy
    strategy = strategy_class(config=strategy_config, dependencies=deps)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class DummyStrategy without an implementation for abstract method 'requires_services'
__________________ test_create_multiple_different_strategies ___________________
tests/integration/test_factory_integration.py:263: in test_create_multiple_different_strategies
    strategy_a = factory.create_strategy("strategy_a")
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/factory.py:217: in create_strategy
    strategy = strategy_class(config=strategy_config, dependencies=deps)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class StrategyA without an implementation for abstract method 'requires_services'
_______________ test_create_multiple_instances_of_same_strategy ________________
tests/integration/test_factory_integration.py:288: in test_create_multiple_instances_of_same_strategy
    strategy1 = factory.create_strategy("dummy", config1)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/factory.py:217: in create_strategy
    strategy = strategy_class(config=strategy_config, dependencies=deps)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class DummyStrategy without an implementation for abstract method 'requires_services'
__________________________ test_config_file_with_yaml __________________________
tests/integration/test_factory_integration.py:346: in test_config_file_with_yaml
    strategy = factory.create_from_config(str(config_file))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/factory.py:324: in create_from_config
    return self.create_strategy(strategy_name, config_dict)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/factory.py:217: in create_strategy
    strategy = strategy_class(config=strategy_config, dependencies=deps)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class DummyStrategy without an implementation for abstract method 'requires_services'
__________________________ test_config_file_with_json __________________________
tests/integration/test_factory_integration.py:372: in test_config_file_with_json
    strategy = factory.create_from_config(str(config_file))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/factory.py:324: in create_from_config
    return self.create_strategy(strategy_name, config_dict)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/factory.py:217: in create_strategy
    strategy = strategy_class(config=strategy_config, dependencies=deps)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class DummyStrategy without an implementation for abstract method 'requires_services'
_________________________ test_factory_error_recovery __________________________
tests/integration/test_factory_integration.py:390: in test_factory_error_recovery
    factory.create_strategy("broken", {"chunk_size": 512})
rag_factory/factory.py:217: in create_strategy
    strategy = strategy_class(config=strategy_config, dependencies=deps)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class BrokenStrategy without an implementation for abstract method 'requires_services'
___________________ test_factory_state_after_failed_creation ___________________
tests/integration/test_factory_integration.py:408: in test_factory_state_after_failed_creation
    factory.create_strategy("dummy", {"chunk_size": -100})
rag_factory/factory.py:217: in create_strategy
    strategy = strategy_class(config=strategy_config, dependencies=deps)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class DummyStrategy without an implementation for abstract method 'requires_services'
__________________________ test_decorator_integration __________________________
tests/integration/test_factory_integration.py:458: in test_decorator_integration
    strategy = new_factory.create_strategy("decorated_strategy")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/factory.py:217: in create_strategy
    strategy = strategy_class(config=strategy_config, dependencies=deps)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class DecoratedStrategy without an implementation for abstract method 'requires_services'
____________________________ test_full_rag_workflow ____________________________
tests/integration/test_factory_integration.py:469: in test_full_rag_workflow
    strategy = factory.create_strategy("dummy", config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/factory.py:217: in create_strategy
    strategy = strategy_class(config=strategy_config, dependencies=deps)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class DummyStrategy without an implementation for abstract method 'requires_services'
_______________________ test_async_retrieve_integration ________________________
tests/integration/test_factory_integration.py:503: in test_async_retrieve_integration
    strategy = factory.create_strategy("dummy", {"top_k": 5})
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/factory.py:217: in create_strategy
    strategy = strategy_class(config=strategy_config, dependencies=deps)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class DummyStrategy without an implementation for abstract method 'requires_services'
_______________ TestPackageInstallation.test_package_installable _______________
tests/integration/test_package_integration.py:50: in test_package_installable
    assert result.returncode == 0
E   assert 1 == 0
E    +  where 1 = CompletedProcess(args=['/tmp/pytest-of-admindevmac/pytest-0/test_package_installable0/venv/bin/python', '-c', 'import rag_factory; print(rag_factory.__version__)'], returncode=1, stdout='', stderr='Traceback (most recent call last):\n  File "<string>", line 1, in <module>\n  File "/mnt/MCPProyects/ragTools/rag_factory/__init__.py", line 12, in <module>\n    from rag_factory.factory import (\n  File "/mnt/MCPProyects/ragTools/rag_factory/factory.py", line 33, in <module>\n    from rag_factory.strategies.base import IRAGStrategy, StrategyConfig\n  File "/mnt/MCPProyects/ragTools/rag_factory/strategies/__init__.py", line 3, in <module>\n    from rag_factory.strategies.base import (\n  File "/mnt/MCPProyects/ragTools/rag_factory/strategies/base.py", line 34, in <module>\n    from rag_factory.services.dependencies import StrategyDependencies, ServiceDependency\n  File "/mnt/MCPProyects/ragTools/rag_factory/services/__init__.py", line 28, in <module>\n    from rag_factory.services.onnx import (\n  File "/mnt/MCPProyects/ragTools/rag_factory/services/onnx/__init__.py", line 7, in <module>\n    from rag_factory.services.onnx.embedding import ONNXEmbeddingService\n  File "/mnt/MCPProyects/ragTools/rag_factory/services/onnx/embedding.py", line 12, in <module>\n    from rag_factory.services.embedding.providers.onnx_local import ONNXLocalProvider\n  File "/mnt/MCPProyects/ragTools/rag_factory/services/embedding/__init__.py", line 3, in <module>\n    from .service import EmbeddingService\n  File "/mnt/MCPProyects/ragTools/rag_factory/services/embedding/service.py", line 11, in <module>\n    from .providers import OpenAIProvider, CohereProvider, LocalProvider, ONNXLocalProvider\n  File "/mnt/MCPProyects/ragTools/rag_factory/services/embedding/providers/__init__.py", line 6, in <module>\n    from .onnx_local import ONNXLocalProvider\n  File "/mnt/MCPProyects/ragTools/rag_factory/services/embedding/providers/onnx_local.py", line 12, in <module>\n    import numpy as np\nModuleNotFoundError: No module named \'numpy\'\n').returncode
----------------------------- Captured stdout call -----------------------------
Obtaining file:///mnt/MCPProyects/ragTools
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Checking if build backend supports build_editable: started
  Checking if build backend supports build_editable: finished with status 'done'
  Getting requirements to build editable: started
  Getting requirements to build editable: finished with status 'done'
  Preparing editable metadata (pyproject.toml): started
  Preparing editable metadata (pyproject.toml): finished with status 'done'
Collecting pydantic>=2.0.0 (from rag-factory==0.1.0)
  Using cached pydantic-2.12.5-py3-none-any.whl.metadata (90 kB)
Collecting pyyaml>=6.0 (from rag-factory==0.1.0)
  Using cached pyyaml-6.0.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (2.4 kB)
Collecting annotated-types>=0.6.0 (from pydantic>=2.0.0->rag-factory==0.1.0)
  Using cached annotated_types-0.7.0-py3-none-any.whl.metadata (15 kB)
Collecting pydantic-core==2.41.5 (from pydantic>=2.0.0->rag-factory==0.1.0)
  Using cached pydantic_core-2.41.5-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (7.3 kB)
Collecting typing-extensions>=4.14.1 (from pydantic>=2.0.0->rag-factory==0.1.0)
  Using cached typing_extensions-4.15.0-py3-none-any.whl.metadata (3.3 kB)
Collecting typing-inspection>=0.4.2 (from pydantic>=2.0.0->rag-factory==0.1.0)
  Using cached typing_inspection-0.4.2-py3-none-any.whl.metadata (2.6 kB)
Using cached pydantic-2.12.5-py3-none-any.whl (463 kB)
Using cached pydantic_core-2.41.5-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.1 MB)
Using cached pyyaml-6.0.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (807 kB)
Using cached annotated_types-0.7.0-py3-none-any.whl (13 kB)
Using cached typing_extensions-4.15.0-py3-none-any.whl (44 kB)
Using cached typing_inspection-0.4.2-py3-none-any.whl (14 kB)
Building wheels for collected packages: rag-factory
  Building editable for rag-factory (pyproject.toml): started
  Building editable for rag-factory (pyproject.toml): finished with status 'done'
  Created wheel for rag-factory: filename=rag_factory-0.1.0-0.editable-py3-none-any.whl size=6329 sha256=6a7a2895a815299303995a6736d9e56216fe11c4fb48b9541267856277a7ef3a
  Stored in directory: /tmp/pip-ephem-wheel-cache-toszf8fn/wheels/08/27/d0/02501a029db205cc4e40972294db0f3cd8ac5253539696b270
Successfully built rag-factory
Installing collected packages: typing-extensions, pyyaml, annotated-types, typing-inspection, pydantic-core, pydantic, rag-factory
Successfully installed annotated-types-0.7.0 pydantic-2.12.5 pydantic-core-2.41.5 pyyaml-6.0.3 rag-factory-0.1.0 typing-extensions-4.15.0 typing-inspection-0.4.2
__________ TestFullWorkflow.test_full_workflow_with_installed_package __________
tests/integration/test_package_integration.py:138: in test_full_workflow_with_installed_package
    strategy = factory.create_strategy("test")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/factory.py:217: in create_strategy
    strategy = strategy_class(config=strategy_config, dependencies=deps)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class TestStrategy without an implementation for abstract method 'requires_services'
_________________________ test_three_strategy_pipeline _________________________
tests/integration/test_pipeline_integration.py:79: in test_three_strategy_pipeline
    strategy1 = TestStrategy("S1")
                ^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class TestStrategy without an implementation for abstract method 'requires_services'
_____________________ test_parallel_faster_than_sequential _____________________
tests/integration/test_pipeline_integration.py:102: in test_parallel_faster_than_sequential
    strategy1 = TestStrategy("S1", delay=0.1)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class TestStrategy without an implementation for abstract method 'requires_services'
______________ test_pipeline_continues_after_non_critical_failure ______________
tests/integration/test_pipeline_integration.py:162: in test_pipeline_continues_after_non_critical_failure
    required_strategy = TestStrategy("Required")
                        ^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class TestStrategy without an implementation for abstract method 'requires_services'
_________________________ test_load_pipeline_from_yaml _________________________
tests/integration/test_pipeline_integration.py:260: in test_load_pipeline_from_yaml
    pipeline = StrategyPipeline.from_config(config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rag_factory/pipeline.py:496: in from_config
    strategy = factory.create_strategy(
rag_factory/factory.py:217: in create_strategy
    strategy = strategy_class(config=strategy_config, dependencies=deps)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class StrategyA without an implementation for abstract method 'requires_services'
_______________________ test_async_sequential_execution ________________________
tests/integration/test_pipeline_integration.py:275: in test_async_sequential_execution
    strategy1 = TestStrategy("Async1", delay=0.05)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class TestStrategy without an implementation for abstract method 'requires_services'
________________________ test_async_fallback_execution _________________________
tests/integration/test_pipeline_integration.py:327: in test_async_fallback_execution
    fallback_strategy = TestStrategy("Fallback")
                        ^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class TestStrategy without an implementation for abstract method 'requires_services'
