pydantic>=2.0.0,<3.0.0
pyyaml>=6.0,<7.0
jsonschema>=4.0,<5.0  # Epic 17: Configuration schema validation
python-dotenv>=1.0,<2.0  # Epic 17: Environment variable management
psycopg2-binary==2.9.9
asyncpg>=0.29.0  # Async PostgreSQL driver for PostgresqlDatabaseService
sqlalchemy==2.0.23
alembic==1.13.1
pgvector==0.2.4

# Embedding service dependencies
openai>=1.12.0
cohere>=4.47
tiktoken>=0.5.2
tenacity>=8.2.3

# LLM service dependencies
anthropic>=0.18.1
httpx>=0.26.0

# ONNX-based local embeddings (PRIMARY - lightweight alternative to PyTorch)
# ONNX local provider: ~200MB vs ~2.5GB for sentence-transformers
huggingface-hub>=0.20.0        # Model downloads from HuggingFace Hub

# Chunking strategy dependencies
# docling>=1.0.0  # Optional - advanced PDF parsing (install separately if needed)
beautifulsoup4>=4.12.0
pypdf2>=3.0.0
numpy>=1.24.0
networkx>=3.2.1  # Knowledge graph strategy

# Reranking strategy dependencies
# Optional: Uncomment the reranker implementations you need
# sentence-transformers>=2.3.1  # For cross-encoder reranking
# torch>=2.1.0                  # Required for sentence-transformers and BGE
# transformers>=4.36.0          # For BGE reranker
# scipy>=1.11.0                 # For ranking metrics

# Late chunking strategy dependencies (Epic 7.2)
# These are OPTIONAL - only required for late chunking experimental strategy
# Install separately if needed: pip install transformers torch tokenizers
# transformers>=4.36.0            # Transformer models for token embeddings
# torch>=2.1.2                    # PyTorch for deep learning
# tokenizers>=0.15.0              # Fast tokenization

# Observability dependencies (Epic 8)
structlog>=24.1.0              # Structured logging
python-json-logger>=2.0.7      # JSON log formatting
prometheus-client>=0.19.0      # Prometheus metrics
flask>=3.0.0                   # Dashboard API
psutil>=5.9.6                  # System metrics
opentelemetry-api>=1.22.0      # OpenTelemetry support (optional)
opentelemetry-sdk>=1.22.0      # OpenTelemetry SDK (optional)

# Evaluation framework dependencies (Epic 8.2)
pandas>=2.1.4                  # Data manipulation
scipy>=1.11.0                  # Statistical functions
matplotlib>=3.8.2              # Visualization
plotly>=5.18.0                 # Interactive plots
seaborn>=0.13.0                # Statistical plots
scikit-learn>=1.3.2            # ML metrics and utilities
tabulate>=0.9.0                # Table formatting
tqdm>=4.66.1                   # Progress bars

# Optional evaluation dependencies
# sentence-transformers>=2.3.1   # For semantic similarity metrics (requires torch)
rouge-score>=0.1.2             # For text evaluation (optional)
# bert-score==0.3.13           # For semantic evaluation (optional)

# CLI dependencies (Epic 8.5)
typer>=0.12.0                  # CLI framework
rich>=13.7.0                   # Rich terminal output
prompt-toolkit>=3.0.43         # REPL functionality

# Fine-tuned embeddings dependencies (Epic 7.3)
onnx>=1.15.0                   # ONNX model support (REQUIRED)
onnxruntime>=1.16.3            # ONNX inference (REQUIRED)
mlflow>=2.9.2                  # Model tracking & registry (optional)
umap-learn>=0.5.5              # Embedding visualization

# Model conversion dependencies (OPTIONAL - only for converting PyTorch models to ONNX)
# Install separately if needed: pip install optimum[onnxruntime] transformers torch
# optimum[onnxruntime]>=1.16.0   # ONNX model conversion
# transformers>=4.36.0           # Model loading for conversion
# torch>=2.1.2                   # Required for conversion only
