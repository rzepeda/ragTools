strategy_name: "agentic-rag-pair"
version: "1.0.0"
description: "Agent-based tool selection with dynamic retrieval strategies"

indexer:
  strategy: "VectorEmbeddingIndexer"
  services:
    embedding: "$embedding_local"
    db: "$db_main"
  
  db_config:
    tables:
      documents: "agentic_documents"
      chunks: "agentic_chunks"
    fields:
      embedding: "embedding" # Mapped to vectors table column
      text: "text" # Mapped to chunks table column
      doc_id: "document_id"
      chunk_id: "chunk_id"
  
  config:
    chunk_size: 512
    overlap: 50
    min_chunk_size: 100

retriever:
  strategy: "AgenticRAGStrategy"
  services:
    embedding: "$embedding_local"
    llm: "$llm_local"
    db: "$db_main"
  
  db_config:
    tables:
      documents: "agentic_documents"
      chunks: "agentic_chunks"
    fields:
      chunk_id: "chunk_id"
      document_id: "document_id"
      text: "text_content"
      embedding: "embedding"
      chunk_index: "chunk_index"
      metadata: "metadata"
      created_at: "created_at"
      updated_at: "updated_at"
  
  config:
    top_k: 5
    similarity_threshold: 0.7
    max_iterations: 3
    enabled_tools: ["semantic_search", "metadata_search", "hybrid_search", "read_document"]
    temperature: 0.7
    enable_reflection: false
    fallback_to_semantic: true

migrations:
  required_revisions:
    - "agentic_schema"

expected_schema:
  tables:
    - "agentic_documents"
    - "agentic_chunks"
  indexes:
    - "idx_agentic_chunks_document_id"
  extensions:
    - "vector"

tags:
  - "agentic"
  - "llm-agent"
  - "tool-use"
  - "adaptive"
